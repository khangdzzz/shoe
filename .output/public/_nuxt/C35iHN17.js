import{_ as Lt,a as At,b as Pt,d as jt,e as Ot,f as Rt,c as An}from"./f10XMYLh.js";import{h as $e,c as Pn}from"./ek3HdorF.js";import{m as H,z as R,o as I,v as N,w as b,K as me,q as Nt,p as d,n as Fe,r as S,g as z,J as ae,h as jn,b as h,d as K,H as te,aa as mt,S as Le,c as A,D as oe,E as re,a as m,t as O,C as G,A as Ye,B as Ve,L as On,Y as we,_ as Rn,X as Ee,x as Q,N as Nn,ac as ht,R as Bt,ad as Bn,ae as gt,af as Un,M as Fn,U as ee}from"./DIuhiDEr.js";import{u as Yn}from"./CXOarpWc.js";import{S as Ae,a as Vn,_ as Hn}from"./CuNwIUpc.js";import{c as Ut,a as zn,N as Kn,L as Gn,z as qn,j as Jn,G as Qn,U as Wn,H as Xn,q as Zn,Y as es,F as ts,x as Ft,k as ns,V as ss,b as os,M as rs,O as as,_ as Yt}from"./Czj0eQEe.js";import{_ as le}from"./DlAUqK2U.js";import{g as ls,C as is,j as cs,V as us,f as ve,S as ds,_ as fs,A as ps,a as ms,b as hs}from"./CGV4pCXR.js";import{C as gs}from"./Bw_wrPD3.js";import{C as ys}from"./5BsrxKwF.js";import{L as Vt}from"./DA60YKYR.js";import{_ as vs}from"./BemKXZ49.js";import{_ as _s,a as bs,b as xs,c as Ss,d as ws}from"./DGrpSx3m.js";import{_ as Cs}from"./A-K9Vv9W.js";import{_ as ks}from"./D-CSR3Ko.js";import"./D1QClQyv.js";import"./CfT_0_Dv.js";const Ts=H({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const s=e,n=R(()=>{const{class:o,...t}=s;return t});return(o,t)=>(I(),N(d(zn),Nt(n.value,{class:d(Ut)("text-sm text-muted-foreground",s.class)}),{default:b(()=>[me(o.$slots,"default")]),_:3},16,["class"]))}}),Is=H({__name:"notify-register-payment",setup(e){const s=Fe(),{redirectPage:n}=Yn(),o=S(!1),t=R(()=>s.isLoadPermission);z(t,()=>{o.value=!$e()});const r=()=>{o.value=!1,n("/mypage")};ae(()=>{setTimeout(()=>{o.value=!$e()},200),window.addEventListener("keydown",a)}),jn(()=>{window.removeEventListener("keydown",a)});const a=l=>{l.key==="Escape"&&o.value&&(l.stopPropagation(),l.preventDefault())};return(l,c)=>{const i=Lt,p=At,_=Pt,y=jt,g=Ot,C=Rt;return I(),N(C,{open:d(o),"onUpdate:open":c[0]||(c[0]=w=>te(o)?o.value=w:null)},{default:b(()=>[h(g,null,{default:b(()=>[h(p,{class:"flex flex-col gap-4 items-center"},{default:b(()=>[h(i,{class:"text-sm"},{default:b(()=>c[1]||(c[1]=[K("決済方法は設定完了していないので、マイページより設定完了してください。")])),_:1})]),_:1}),h(y,{class:"flex !flex-col gap-4"},{default:b(()=>[h(_,{class:"flex self-center min-w-[120px]",onClick:r},{default:b(()=>c[2]||(c[2]=[K("登録")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),de=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ce=(e,s,n,o="")=>{const t=e.split(":");if(e.slice(0,1)==="@"){if(t.length<2||t.length>3)return null;o=t.shift().slice(1)}if(t.length>3||!t.length)return null;if(t.length>1){const l=t.pop(),c=t.pop(),i={provider:t.length>0?t[0]:o,prefix:c,name:l};return s&&!_e(i)?null:i}const r=t[0],a=r.split("-");if(a.length>1){const l={provider:o,prefix:a.shift(),name:a.join("-")};return s&&!_e(l)?null:l}if(n&&o===""){const l={provider:o,prefix:"",name:r};return s&&!_e(l,n)?null:l}return null},_e=(e,s)=>e?!!((e.provider===""||e.provider.match(de))&&(s&&e.prefix===""||e.prefix.match(de))&&e.name.match(de)):!1,Ht=Object.freeze({left:0,top:0,width:16,height:16}),Se=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ke=Object.freeze({...Ht,...Se}),Pe=Object.freeze({...ke,body:"",hidden:!1});function Es(e,s){const n={};!e.hFlip!=!s.hFlip&&(n.hFlip=!0),!e.vFlip!=!s.vFlip&&(n.vFlip=!0);const o=((e.rotate||0)+(s.rotate||0))%4;return o&&(n.rotate=o),n}function yt(e,s){const n=Es(e,s);for(const o in Pe)o in Se?o in e&&!(o in n)&&(n[o]=Se[o]):o in s?n[o]=s[o]:o in e&&(n[o]=e[o]);return n}function Ds(e,s){const n=e.icons,o=e.aliases||Object.create(null),t=Object.create(null);function r(a){if(n[a])return t[a]=[];if(!(a in t)){t[a]=null;const l=o[a]&&o[a].parent,c=l&&r(l);c&&(t[a]=[l].concat(c))}return t[a]}return Object.keys(n).concat(Object.keys(o)).forEach(r),t}function Ms(e,s,n){const o=e.icons,t=e.aliases||Object.create(null);let r={};function a(l){r=yt(o[l]||t[l],r)}return a(s),n.forEach(a),yt(e,r)}function zt(e,s){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(t=>{s(t,null),n.push(t)});const o=Ds(e);for(const t in o){const r=o[t];r&&(s(t,Ms(e,t,r)),n.push(t))}return n}const $s={provider:"",aliases:{},not_found:{},...Ht};function De(e,s){for(const n in s)if(n in e&&typeof e[n]!=typeof s[n])return!1;return!0}function Kt(e){if(typeof e!="object"||e===null)return null;const s=e;if(typeof s.prefix!="string"||!e.icons||typeof e.icons!="object"||!De(e,$s))return null;const n=s.icons;for(const t in n){const r=n[t];if(!t.match(de)||typeof r.body!="string"||!De(r,Pe))return null}const o=s.aliases||Object.create(null);for(const t in o){const r=o[t],a=r.parent;if(!t.match(de)||typeof a!="string"||!n[a]&&!o[a]||!De(r,Pe))return null}return s}const vt=Object.create(null);function Ls(e,s){return{provider:e,prefix:s,icons:Object.create(null),missing:new Set}}function se(e,s){const n=vt[e]||(vt[e]=Object.create(null));return n[s]||(n[s]=Ls(e,s))}function He(e,s){return Kt(s)?zt(s,(n,o)=>{o?e.icons[n]=o:e.missing.add(n)}):[]}function As(e,s,n){try{if(typeof n.body=="string")return e.icons[s]={...n},!0}catch{}return!1}let fe=!1;function Gt(e){return typeof e=="boolean"&&(fe=e),fe}function Ps(e){const s=typeof e=="string"?Ce(e,!0,fe):e;if(s){const n=se(s.provider,s.prefix),o=s.name;return n.icons[o]||(n.missing.has(o)?null:void 0)}}function js(e,s){const n=Ce(e,!0,fe);if(!n)return!1;const o=se(n.provider,n.prefix);return As(o,n.name,s)}function Os(e,s){if(typeof e!="object")return!1;if(typeof s!="string"&&(s=e.provider||""),fe&&!s&&!e.prefix){let t=!1;return Kt(e)&&(e.prefix="",zt(e,(r,a)=>{a&&js(r,a)&&(t=!0)})),t}const n=e.prefix;if(!_e({provider:s,prefix:n,name:"a"}))return!1;const o=se(s,n);return!!He(o,e)}const qt=Object.freeze({width:null,height:null}),Jt=Object.freeze({...qt,...Se}),Rs=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ns=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function _t(e,s,n){if(s===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*s*n)/n;if(typeof e!="string")return e;const o=e.split(Rs);if(o===null||!o.length)return e;const t=[];let r=o.shift(),a=Ns.test(r);for(;;){if(a){const l=parseFloat(r);isNaN(l)?t.push(r):t.push(Math.ceil(l*s*n)/n)}else t.push(r);if(r=o.shift(),r===void 0)return t.join("");a=!a}}function Bs(e,s="defs"){let n="";const o=e.indexOf("<"+s);for(;o>=0;){const t=e.indexOf(">",o),r=e.indexOf("</"+s);if(t===-1||r===-1)break;const a=e.indexOf(">",r);if(a===-1)break;n+=e.slice(t+1,r).trim(),e=e.slice(0,o).trim()+e.slice(a+1)}return{defs:n,content:e}}function Us(e,s){return e?"<defs>"+e+"</defs>"+s:s}function Fs(e,s,n){const o=Bs(e);return Us(o.defs,s+o.content+n)}const Ys=e=>e==="unset"||e==="undefined"||e==="none";function Vs(e,s){const n={...ke,...e},o={...Jt,...s},t={left:n.left,top:n.top,width:n.width,height:n.height};let r=n.body;[n,o].forEach(w=>{const v=[],B=w.hFlip,E=w.vFlip;let k=w.rotate;B?E?k+=2:(v.push("translate("+(t.width+t.left).toString()+" "+(0-t.top).toString()+")"),v.push("scale(-1 1)"),t.top=t.left=0):E&&(v.push("translate("+(0-t.left).toString()+" "+(t.height+t.top).toString()+")"),v.push("scale(1 -1)"),t.top=t.left=0);let P;switch(k<0&&(k-=Math.floor(k/4)*4),k=k%4,k){case 1:P=t.height/2+t.top,v.unshift("rotate(90 "+P.toString()+" "+P.toString()+")");break;case 2:v.unshift("rotate(180 "+(t.width/2+t.left).toString()+" "+(t.height/2+t.top).toString()+")");break;case 3:P=t.width/2+t.left,v.unshift("rotate(-90 "+P.toString()+" "+P.toString()+")");break}k%2===1&&(t.left!==t.top&&(P=t.left,t.left=t.top,t.top=P),t.width!==t.height&&(P=t.width,t.width=t.height,t.height=P)),v.length&&(r=Fs(r,'<g transform="'+v.join(" ")+'">',"</g>"))});const a=o.width,l=o.height,c=t.width,i=t.height;let p,_;a===null?(_=l===null?"1em":l==="auto"?i:l,p=_t(_,c/i)):(p=a==="auto"?c:a,_=l===null?_t(p,i/c):l==="auto"?i:l);const y={},g=(w,v)=>{Ys(v)||(y[w]=v.toString())};g("width",p),g("height",_);const C=[t.left,t.top,c,i];return y.viewBox=C.join(" "),{attributes:y,viewBox:C,body:r}}const Hs=/\sid="(\S+)"/g,zs="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Ks=0;function Gs(e,s=zs){const n=[];let o;for(;o=Hs.exec(e);)n.push(o[1]);if(!n.length)return e;const t="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(r=>{const a=typeof s=="function"?s(r):s+(Ks++).toString(),l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+a+t+"$3")}),e=e.replace(new RegExp(t,"g"),""),e}const je=Object.create(null);function qs(e,s){je[e]=s}function Oe(e){return je[e]||je[""]}function ze(e){let s;if(typeof e.resources=="string")s=[e.resources];else if(s=e.resources,!(s instanceof Array)||!s.length)return null;return{resources:s,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Ke=Object.create(null),ue=["https://api.simplesvg.com","https://api.unisvg.com"],be=[];for(;ue.length>0;)ue.length===1||Math.random()>.5?be.push(ue.shift()):be.push(ue.pop());Ke[""]=ze({resources:["https://api.iconify.design"].concat(be)});function Js(e,s){const n=ze(s);return n===null?!1:(Ke[e]=n,!0)}function Ge(e){return Ke[e]}const Qs=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let bt=Qs();function Ws(e,s){const n=Ge(e);if(!n)return 0;let o;if(!n.maxURL)o=0;else{let t=0;n.resources.forEach(a=>{t=Math.max(t,a.length)});const r=s+".json?icons=";o=n.maxURL-t-n.path.length-r.length}return o}function Xs(e){return e===404}const Zs=(e,s,n)=>{const o=[],t=Ws(e,s),r="icons";let a={type:r,provider:e,prefix:s,icons:[]},l=0;return n.forEach((c,i)=>{l+=c.length+1,l>=t&&i>0&&(o.push(a),a={type:r,provider:e,prefix:s,icons:[]},l=c.length),a.icons.push(c)}),o.push(a),o};function eo(e){if(typeof e=="string"){const s=Ge(e);if(s)return s.path}return"/"}const to=(e,s,n)=>{if(!bt){n("abort",424);return}let o=eo(s.provider);switch(s.type){case"icons":{const r=s.prefix,l=s.icons.join(","),c=new URLSearchParams({icons:l});o+=r+".json?"+c.toString();break}case"custom":{const r=s.uri;o+=r.slice(0,1)==="/"?r.slice(1):r;break}default:n("abort",400);return}let t=503;bt(e+o).then(r=>{const a=r.status;if(a!==200){setTimeout(()=>{n(Xs(a)?"abort":"next",a)});return}return t=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?n("abort",r):n("next",t)});return}setTimeout(()=>{n("success",r)})}).catch(()=>{n("next",t)})},no={prepare:Zs,send:to};function so(e){const s={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((t,r)=>t.provider!==r.provider?t.provider.localeCompare(r.provider):t.prefix!==r.prefix?t.prefix.localeCompare(r.prefix):t.name.localeCompare(r.name));let o={provider:"",prefix:"",name:""};return e.forEach(t=>{if(o.name===t.name&&o.prefix===t.prefix&&o.provider===t.provider)return;o=t;const r=t.provider,a=t.prefix,l=t.name,c=n[r]||(n[r]=Object.create(null)),i=c[a]||(c[a]=se(r,a));let p;l in i.icons?p=s.loaded:a===""||i.missing.has(l)?p=s.missing:p=s.pending;const _={provider:r,prefix:a,name:l};p.push(_)}),s}function Qt(e,s){e.forEach(n=>{const o=n.loaderCallbacks;o&&(n.loaderCallbacks=o.filter(t=>t.id!==s))})}function oo(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const s=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!s.length)return;let n=!1;const o=e.provider,t=e.prefix;s.forEach(r=>{const a=r.icons,l=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==t)return!0;const i=c.name;if(e.icons[i])a.loaded.push({provider:o,prefix:t,name:i});else if(e.missing.has(i))a.missing.push({provider:o,prefix:t,name:i});else return n=!0,!0;return!1}),a.pending.length!==l&&(n||Qt([e],r.id),r.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),r.abort))})}))}let ro=0;function ao(e,s,n){const o=ro++,t=Qt.bind(null,n,o);if(!s.pending.length)return t;const r={id:o,icons:s,callback:e,abort:t};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(r)}),t}function lo(e,s=!0,n=!1){const o=[];return e.forEach(t=>{const r=typeof t=="string"?Ce(t,s,n):t;r&&o.push(r)}),o}var io={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function co(e,s,n,o){const t=e.resources.length,r=e.random?Math.floor(Math.random()*t):e.index;let a;if(e.random){let D=e.resources.slice(0);for(a=[];D.length>1;){const U=Math.floor(Math.random()*D.length);a.push(D[U]),D=D.slice(0,U).concat(D.slice(U+1))}a=a.concat(D)}else a=e.resources.slice(r).concat(e.resources.slice(0,r));const l=Date.now();let c="pending",i=0,p,_=null,y=[],g=[];typeof o=="function"&&g.push(o);function C(){_&&(clearTimeout(_),_=null)}function w(){c==="pending"&&(c="aborted"),C(),y.forEach(D=>{D.status==="pending"&&(D.status="aborted")}),y=[]}function v(D,U){U&&(g=[]),typeof D=="function"&&g.push(D)}function B(){return{startTime:l,payload:s,status:c,queriesSent:i,queriesPending:y.length,subscribe:v,abort:w}}function E(){c="failed",g.forEach(D=>{D(void 0,p)})}function k(){y.forEach(D=>{D.status==="pending"&&(D.status="aborted")}),y=[]}function P(D,U,J){const X=U!=="success";switch(y=y.filter(F=>F!==D),c){case"pending":break;case"failed":if(X||!e.dataAfterTimeout)return;break;default:return}if(U==="abort"){p=J,E();return}if(X){p=J,y.length||(a.length?q():E());return}if(C(),k(),!e.random){const F=e.resources.indexOf(D.resource);F!==-1&&F!==e.index&&(e.index=F)}c="completed",g.forEach(F=>{F(J)})}function q(){if(c!=="pending")return;C();const D=a.shift();if(D===void 0){if(y.length){_=setTimeout(()=>{C(),c==="pending"&&(k(),E())},e.timeout);return}E();return}const U={status:"pending",resource:D,callback:(J,X)=>{P(U,J,X)}};y.push(U),i++,_=setTimeout(q,e.rotate),n(D,s,U.callback)}return setTimeout(q),B}function Wt(e){const s={...io,...e};let n=[];function o(){n=n.filter(l=>l().status==="pending")}function t(l,c,i){const p=co(s,l,c,(_,y)=>{o(),i&&i(_,y)});return n.push(p),p}function r(l){return n.find(c=>l(c))||null}return{query:t,find:r,setIndex:l=>{s.index=l},getIndex:()=>s.index,cleanup:o}}function xt(){}const Me=Object.create(null);function uo(e){if(!Me[e]){const s=Ge(e);if(!s)return;const n=Wt(s),o={config:s,redundancy:n};Me[e]=o}return Me[e]}function fo(e,s,n){let o,t;if(typeof e=="string"){const r=Oe(e);if(!r)return n(void 0,424),xt;t=r.send;const a=uo(e);a&&(o=a.redundancy)}else{const r=ze(e);if(r){o=Wt(r);const a=e.resources?e.resources[0]:"",l=Oe(a);l&&(t=l.send)}}return!o||!t?(n(void 0,424),xt):o.query(s,t,n)().abort}const St="iconify2",pe="iconify",Xt=pe+"-count",wt=pe+"-version",Zt=36e5,po=168,mo=50;function Re(e,s){try{return e.getItem(s)}catch{}}function qe(e,s,n){try{return e.setItem(s,n),!0}catch{}}function Ct(e,s){try{e.removeItem(s)}catch{}}function Ne(e,s){return qe(e,Xt,s.toString())}function Be(e){return parseInt(Re(e,Xt))||0}const Te={local:!0,session:!0},en={local:new Set,session:new Set};let Je=!1;function ho(e){Je=e}let ye=typeof window>"u"?{}:window;function tn(e){const s=e+"Storage";try{if(ye&&ye[s]&&typeof ye[s].length=="number")return ye[s]}catch{}Te[e]=!1}function nn(e,s){const n=tn(e);if(!n)return;const o=Re(n,wt);if(o!==St){if(o){const l=Be(n);for(let c=0;c<l;c++)Ct(n,pe+c.toString())}qe(n,wt,St),Ne(n,0);return}const t=Math.floor(Date.now()/Zt)-po,r=l=>{const c=pe+l.toString(),i=Re(n,c);if(typeof i=="string"){try{const p=JSON.parse(i);if(typeof p=="object"&&typeof p.cached=="number"&&p.cached>t&&typeof p.provider=="string"&&typeof p.data=="object"&&typeof p.data.prefix=="string"&&s(p,l))return!0}catch{}Ct(n,c)}};let a=Be(n);for(let l=a-1;l>=0;l--)r(l)||(l===a-1?(a--,Ne(n,a)):en[e].add(l))}function sn(){if(!Je){ho(!0);for(const e in Te)nn(e,s=>{const n=s.data,o=s.provider,t=n.prefix,r=se(o,t);if(!He(r,n).length)return!1;const a=n.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,a):a,!0})}}function go(e,s){const n=e.lastModifiedCached;if(n&&n>=s)return n===s;if(e.lastModifiedCached=s,n)for(const o in Te)nn(o,t=>{const r=t.data;return t.provider!==e.provider||r.prefix!==e.prefix||r.lastModified===s});return!0}function yo(e,s){Je||sn();function n(o){let t;if(!Te[o]||!(t=tn(o)))return;const r=en[o];let a;if(r.size)r.delete(a=Array.from(r).shift());else if(a=Be(t),a>=mo||!Ne(t,a+1))return;const l={cached:Math.floor(Date.now()/Zt),provider:e.provider,data:s};return qe(t,pe+a.toString(),JSON.stringify(l))}s.lastModified&&!go(e,s.lastModified)||Object.keys(s.icons).length&&(s.not_found&&(s=Object.assign({},s),delete s.not_found),n("local")||n("session"))}function kt(){}function vo(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,oo(e)}))}function _o(e,s){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(s).sort():e.iconsToLoad=s,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:o}=e,t=e.iconsToLoad;delete e.iconsToLoad;let r;if(!t||!(r=Oe(n)))return;r.prepare(n,o,t).forEach(l=>{fo(n,l,c=>{if(typeof c!="object")l.icons.forEach(i=>{e.missing.add(i)});else try{const i=He(e,c);if(!i.length)return;const p=e.pendingIcons;p&&i.forEach(_=>{p.delete(_)}),yo(e,c)}catch(i){console.error(i)}vo(e)})})}))}const bo=(e,s)=>{const n=lo(e,!0,Gt()),o=so(n);if(!o.pending.length){let c=!0;return s&&setTimeout(()=>{c&&s(o.loaded,o.missing,o.pending,kt)}),()=>{c=!1}}const t=Object.create(null),r=[];let a,l;return o.pending.forEach(c=>{const{provider:i,prefix:p}=c;if(p===l&&i===a)return;a=i,l=p,r.push(se(i,p));const _=t[i]||(t[i]=Object.create(null));_[p]||(_[p]=[])}),o.pending.forEach(c=>{const{provider:i,prefix:p,name:_}=c,y=se(i,p),g=y.pendingIcons||(y.pendingIcons=new Set);g.has(_)||(g.add(_),t[i][p].push(_))}),r.forEach(c=>{const{provider:i,prefix:p}=c;t[i][p].length&&_o(c,t[i][p])}),s?ao(s,o,r):kt};function xo(e,s){const n={...e};for(const o in s){const t=s[o],r=typeof t;o in qt?(t===null||t&&(r==="string"||r==="number"))&&(n[o]=t):r===typeof n[o]&&(n[o]=o==="rotate"?t%4:t)}return n}const So=/[\s,]+/;function wo(e,s){s.split(So).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function Co(e,s=0){const n=e.replace(/^-?[0-9.]*/,"");function o(t){for(;t<0;)t+=4;return t%4}if(n===""){const t=parseInt(e);return isNaN(t)?0:o(t)}else if(n!==e){let t=0;switch(n){case"%":t=25;break;case"deg":t=90}if(t){let r=parseFloat(e.slice(0,e.length-n.length));return isNaN(r)?0:(r=r/t,r%1===0?o(r):0)}}return s}function ko(e,s){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in s)n+=" "+o+'="'+s[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function To(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Io(e){return"data:image/svg+xml,"+To(e)}function Eo(e){return'url("'+Io(e)+'")'}const Tt={...Jt,inline:!1},Do={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Mo={display:"inline-block"},Ue={backgroundColor:"currentColor"},on={backgroundColor:"transparent"},It={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Et={webkitMask:Ue,mask:Ue,background:on};for(const e in Et){const s=Et[e];for(const n in It)s[e+n]=It[n]}const xe={};["horizontal","vertical"].forEach(e=>{const s=e.slice(0,1)+"Flip";xe[e+"-flip"]=s,xe[e.slice(0,1)+"-flip"]=s,xe[e+"Flip"]=s});function Dt(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Mt=(e,s)=>{const n=xo(Tt,s),o={...Do},t=s.mode||"svg",r={},a=s.style,l=typeof a=="object"&&!(a instanceof Array)?a:{};for(let w in s){const v=s[w];if(v!==void 0)switch(w){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[w]=v===!0||v==="true"||v===1;break;case"flip":typeof v=="string"&&wo(n,v);break;case"color":r.color=v;break;case"rotate":typeof v=="string"?n[w]=Co(v):typeof v=="number"&&(n[w]=v);break;case"ariaHidden":case"aria-hidden":v!==!0&&v!=="true"&&delete o["aria-hidden"];break;default:{const B=xe[w];B?(v===!0||v==="true"||v===1)&&(n[B]=!0):Tt[w]===void 0&&(o[w]=v)}}}const c=Vs(e,n),i=c.attributes;if(n.inline&&(r.verticalAlign="-0.125em"),t==="svg"){o.style={...r,...l},Object.assign(o,i);let w=0,v=s.id;return typeof v=="string"&&(v=v.replace(/-/g,"_")),o.innerHTML=Gs(c.body,v?()=>v+"ID"+w++:"iconifyVue"),mt("svg",o)}const{body:p,width:_,height:y}=e,g=t==="mask"||(t==="bg"?!1:p.indexOf("currentColor")!==-1),C=ko(p,{...i,width:_+"",height:y+""});return o.style={...r,"--svg":Eo(C),width:Dt(i.width),height:Dt(i.height),...Mo,...g?Ue:on,...l},mt("span",o)};Gt(!0);qs("",no);if(typeof document<"u"&&typeof window<"u"){sn();const e=window;if(e.IconifyPreload!==void 0){const s=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof s=="object"&&s!==null&&(s instanceof Array?s:[s]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!Os(o))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const s=e.IconifyProviders;if(typeof s=="object"&&s!==null)for(let n in s){const o="IconifyProviders["+n+"] is invalid.";try{const t=s[n];if(typeof t!="object"||!t||t.resources===void 0)continue;Js(n,t)||console.error(o)}catch{console.error(o)}}}}const $o={...ke,body:""},$t=H({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,s){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let n;if(typeof e!="string"||(n=Ce(e,!1,!0))===null)return this.abortLoading(),null;const o=Ps(n);if(!o)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",o!==null&&(this._loadingIcon={name:e,abort:bo([n],()=>{this.counter++})})),null;this.abortLoading(),this._name!==e&&(this._name=e,s&&s(e));const t=["iconify"];return n.prefix!==""&&t.push("iconify--"+n.prefix),n.provider!==""&&t.push("iconify--"+n.provider),{data:o,classes:t}}},render(){this.counter;const e=this.$attrs,s=this.iconMounted||e.ssr?this.getIcon(e.icon,e.onLoad):null;if(!s)return Mt($o,e);let n=e;return s.classes&&(n={...e,class:(typeof e.class=="string"?e.class+" ":"")+s.classes.join(" ")}),Mt({...ke,...s.data},n)}}),Lo=H({__name:"auto-complete",props:{width:{type:String,default:"100%"},options:{type:Array,default:()=>[]},valueSelected:{type:String,default:""}},emits:["update:selectedValue"],setup(e,{emit:s}){const n=e,o=s,t=S(n.valueSelected);return z(()=>n.valueSelected,()=>{t.value=n.valueSelected}),z(t,r=>{o("update:selectedValue",r)}),ae(()=>{t.value&&o("update:selectedValue",t.value)}),(r,a)=>(I(),N(d(ts),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=l=>t.value=l),class:"relative"},{default:b(()=>[h(d(Kn),{style:Le({width:e.width}),class:"min-w-[120px] w-full inline-flex items-center justify-between rounded px-[15px] leading-none h-[30px] gap-[5px] bg-white hover:bg-mauve3 focus:shadow-[0_0_0_2px] focus:shadow-black data-[placeholder]:text-grass9 outline-none border border-input"},{default:b(()=>[h(d(Gn),{class:"!bg-transparent w-full outline-none h-full selection:bg-grass5 placeholder-mauve8"}),h(d(qn),null,{default:b(()=>[h(d($t),{icon:"radix-icons:chevron-down",class:"h-4 w-4"})]),_:1})]),_:1},8,["style"]),h(d(Jn),{style:Le({width:e.width}),class:"combobox-content absolute !z-12 w-full mt-[1px] min-w-[120px] bg-white overflow-hidden rounded shadow-[0px_10px_38px_-10px_rgba(22,_23,_24,_0.35),_0px_10px_20px_-15px_rgba(22,_23,_24,_0.2)] will-change-[opacity,transform] data-[side=top]:animate-slideDownAndFade data-[side=right]:animate-slideLeftAndFade data-[side=bottom]:animate-slideUpAndFade data-[side=left]:animate-slideRightAndFade"},{default:b(()=>[h(d(Qn),{class:"p-[5px]"},{default:b(()=>[h(d(Wn),{class:"text-mauve8 text-xs font-medium text-center py-2"}),h(d(Xn),null,{default:b(()=>[(I(!0),A(oe,null,re(e.options,(l,c)=>(I(),N(d(Zn),{key:c,class:"text-[13px] leading-none rounded-[3px] flex items-center h-[25px] pr-[35px] pl-[25px] relative select-none data-[disabled]:text-mauve8 data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-mauve3 data-[highlighted]:text-black",value:l},{default:b(()=>[h(d(es),{class:"absolute left-0 w-[25px] inline-flex items-center justify-center"},{default:b(()=>[h(d($t),{icon:"radix-icons:check"})]),_:1}),m("span",null,O(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]))}}),Ao=le(Lo,[["__scopeId","data-v-bc0fcfc5"]]),Po={class:"date-search flex items-center gap-3"},jo={class:"label font-medium"},Oo={class:"flex items-center gap-2"},Ro={class:"h-[30px] flex items-center justify-between px-4 bg-white rounded cursor-pointer"},No=["disabled"],Bo=H({__name:"date",props:{title:{}},emits:["update:selectedDate"],setup(e,{emit:s}){const n=s,o=()=>{const y=new Date,g=y.getFullYear(),C=y.getMonth()+1;return{year:g,month:C}},t=S(o().year),r=S(o()),a=S(""),l=()=>{const{year:y,month:g}=r.value;a.value=`${y}/${g.toString().padStart(2,"0")}`,n("update:selectedDate",a.value)},c=y=>{let{year:g,month:C}=r.value;C+=y,C>12?(C=1,g+=1):C<1&&(C=12,g-=1),i.value={year:g,month:C-1}};ae(()=>{l()});const i=S({year:r.value.year,month:r.value.month-1});z(i,()=>{r.value={year:i.value.year,month:i.value.month+1},t.value=i.value.year,l()});const p=R(()=>{const y=new Date;return r.value.year>y.getFullYear()||r.value.year===y.getFullYear()&&r.value.month>=y.getMonth()+1}),_=R(()=>{const y=new Date,g=y.getFullYear(),C=y.getMonth();return t.value===g?{months:Array.from({length:12},(w,v)=>{const B=new Date(g,v);return v>C?ls(B):null}).filter(Boolean)}:{months:t.value>g?Array.from({length:12},(w,v)=>v):[]}});return(y,g)=>(I(),A("div",Po,[m("span",jo,O(y.title),1),m("div",Oo,[m("button",{class:"flex items-center gap-1 bg-gray-300 text-gray-700 pl-2 pr-3 py-[5px] rounded-md hover:bg-gray-400",onClick:g[0]||(g[0]=C=>c(-1))},[h(d(is),{class:"w-4 h-4"}),g[4]||(g[4]=K(" 前月 "))]),h(d(us),{modelValue:d(i),"onUpdate:modelValue":g[1]||(g[1]=C=>te(i)?i.value=C:null),"month-picker":"","auto-apply":"","format-locale":d(cs),format:"E",filters:d(_),onUpdateMonthYear:g[2]||(g[2]=C=>t.value=C.year)},{trigger:b(()=>[m("div",Ro,[m("span",null,O(d(a)),1),h(d(gs),{class:"w-4 h-4"})])]),_:1},8,["modelValue","format-locale","filters"]),m("button",{class:G(["flex items-center gap-1 bg-gray-300 text-gray-700 pl-3 pr-2 py-[5px] rounded-md",{"opacity-50":d(p),"hover:bg-gray-400":!d(p)}]),onClick:g[3]||(g[3]=C=>c(1)),disabled:d(p)},[g[5]||(g[5]=K(" 翌月 ")),h(d(ys),{class:"w-4 h-4"})],10,No)])]))}}),Uo=le(Bo,[["__scopeId","data-v-b4a4150f"]]),rn=H({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(e,{emit:s}){const t=Ft(e,s);return(r,a)=>(I(),N(d(ns),Ye(Ve(d(t))),{default:b(()=>[me(r.$slots,"default")]),_:3},16))}}),an=H({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:s}){const n=e,o=s,t=R(()=>{const{class:a,...l}=n;return l}),r=Ft(t,o);return(a,l)=>(I(),N(d(os),null,{default:b(()=>[h(d(ss),Nt({...d(r),...a.$attrs},{class:d(Ut)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:b(()=>[me(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ln=H({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;return(n,o)=>(I(),N(d(rs),Ye(Ve(s)),{default:b(()=>[me(n.$slots,"default")]),_:3},16))}}),cn=H({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const s=e;return(n,o)=>(I(),N(d(as),Ye(Ve(s)),{default:b(()=>[me(n.$slots,"default")]),_:3},16))}}),un=On("userListPageStore",()=>{const e=S(!1),s=S(!1);return{isOpenNotifyCrawl:e,isOpenNotifyExport:s}}),Fo=window.setInterval,Yo={class:"search flex justify-between items-center min-h-[80px] !px-[25px] max-lg:!px-[10px] max-lg:flex-col max-lg:gap-5 max-lg:justify-start"},Vo={class:"office flex gap-5 items-center font-medium w-full"},Ho={class:"date w-full"},zo={class:"flex relative gap-5 pr-[20px]"},Ko={key:0,class:"absolute top-[5px] right-[-7px]"},Go={class:"text-[12px]"},qo={key:1,class:"absolute top-[36px] left-[-30px] text-[10px] w-[200px]"},Jo=H({__name:"index",emits:["update:officeId","update:targetYearMonth"],setup(e,{emit:s}){const n=Nn(),o=we(),t=un(),r=Fe(),a=S(""),l=S(""),c=S(!1),i=S(null),p=s,_=async()=>{await r.searchLastJob(),i.value||(i.value=Fo(async()=>{await r.searchLastJob()},3e4))},y=()=>{i.value&&(clearInterval(i.value),i.value=null)};ae(()=>{_()}),Rn(()=>{y()});const g=R(()=>r.job),C=R(()=>{const E=n.getLocalStorage(Ee.officeName),k=o.offices.map(P=>P.officeName);return E&&k.length&&k.includes(E)&&(a.value=E),!E&&k[0]&&(a.value=k[0],n.setLocalStorage(Ee.officeName,k[0])),k}),w=R(()=>{var E;return a.value&&n.setLocalStorage(Ee.officeName,a.value),(E=o.offices.find(k=>k.officeName===a.value))==null?void 0:E.id});z(w,()=>{p("update:officeId",w.value)}),z(l,()=>{p("update:targetYearMonth",l.value)});const v=async()=>{c.value=!0;try{const E=await o.crawlCompanyUserStatus();await r.searchLastJob(),E!=null&&E.data&&(t.isOpenNotifyCrawl=!0,setTimeout(()=>{window.location.reload()},3500))}catch(E){console.error(E)}finally{c.value=!1}},B=R(()=>{if(g.value&&g.value.status===1)return!0;const E=new Date,[k,P]=l.value.split("/").map(Number),q=E.getFullYear(),D=E.getMonth()+1;return!(q===k&&D===P)});return(E,k)=>{var ie;const P=Ao,q=Uo,D=Yt,U=ln,J=an,X=rn,F=cn;return I(),A("div",Yo,[m("div",Vo,[k[2]||(k[2]=m("span",{class:"label"},"事業所",-1)),h(P,{width:"300px",options:d(C),"value-selected":d(a),"onUpdate:selectedValue":k[0]||(k[0]=$=>a.value=$)},null,8,["options","value-selected"])]),m("div",Ho,[h(q,{title:"表示年月","onUpdate:selectedDate":k[1]||(k[1]=$=>l.value=$)})]),m("div",zo,[h(D,{onClick:v,disabled:d(B),class:"w-[80px] flex items-center justify-center"},{default:b(()=>[d(c)?(I(),N(d(Vt),{key:0,class:"w-4 h-4 mr-2 animate-spin flex-shrink-0"})):Q("",!0),k[3]||(k[3]=K("更新 "))]),_:1},8,["disabled"]),((ie=d(g))==null?void 0:ie.status)==2?(I(),A("div",Ko,[h(F,null,{default:b(()=>[h(X,null,{default:b(()=>[h(U,null,{default:b(()=>[h(d(Ae),{class:"w-[20px] h-[20px] text-red-500 cursor-pointer hover:text-red-600"})]),_:1}),h(J,{class:"mb-2 mr-2"},{default:b(()=>{var $;return[m("p",Go,O(($=d(g))==null?void 0:$.errorMessage),1)]}),_:1})]),_:1})]),_:1})])):Q("",!0),d(g)?(I(),A("div",qo," 最終更新："+O(("formatDate"in E?E.formatDate:d(ve))(d(g).updatedAt,"YYYY/MM/DD HH:mm")),1)):Q("",!0)])])}}}),Qo=le(Jo,[["__scopeId","data-v-5012fdc9"]]),Wo={class:"flex flex-col items-center"},Xo={class:"grid grid-cols-5 gap-2 mb-4"},Zo=["onClick"],er=H({__name:"character",setup(e){const s=we(),n=S(ht.map(l=>({...l,selected:!1}))),o=R(()=>s.userNameKana);z(o,()=>{const l=s.charactersSelected.length>0;n.value=ht.map(c=>{var p;const i=(p=o.value)==null?void 0:p.some(_=>_.startsWith(c.label)||_.startsWith(c.label2));return{...c,disabled:!i,selected:l?s.charactersSelected.includes(`${c.label}, ${c.label2}`):!1}})});const t=l=>l.disabled?"h-[25px] w-[25px] bg-gray-400 text-white rounded-md cursor-not-allowed ":l.selected?"h-[25px] w-[25px] border border-blue-500 text-blue-500 rounded-md ":"h-[25px] w-[25px] border border-black rounded-md hover:bg-gray-100 ",r=l=>{l.disabled||(l.selected=!l.selected),s.charactersSelected=n.value.filter(c=>c.selected).map(c=>`${c.label}, ${c.label2}`)},a=()=>{n.value.forEach(l=>{l.selected=!1}),s.charactersSelected=[]};return(l,c)=>(I(),A("div",Wo,[m("div",Xo,[(I(!0),A(oe,null,re(d(n),(i,p)=>(I(),A("button",{key:p,class:G(t(i)),onClick:_=>r(i)},O(i.label),11,Zo))),128))]),m("button",{class:"py-2 px-4 border border-black rounded-full text-black hover:bg-gray-200",onClick:a}," 条件クリア ")]))}}),tr=le(er,[["__scopeId","data-v-e901fe4f"]]),nr=H({__name:"status",props:{cssStyle:{},type:{},selectedStatus:{}},emits:["filterStatus"],setup(e,{emit:s}){const n=e,{type:o}=Bt(n),t=S(n.selectedStatus),r={0:"未実行",1:"実行予定",2:"実行済み",3:"実行エラー"},a=s,l=Object.entries(r).map(([c,i])=>({id:Number(c),value:i}));return z(()=>n.selectedStatus,c=>{t.value=c}),z(t,()=>{a("filterStatus",{status:t.value,type:o.value})}),(c,i)=>{const p=_s,_=bs,y=xs,g=Ss,C=ws;return I(),A("div",{class:G(c.cssStyle)},[h(C,{modelValue:d(t),"onUpdate:modelValue":i[0]||(i[0]=w=>te(t)?t.value=w:null)},{default:b(()=>[h(_,{class:"w-full"},{default:b(()=>[h(p,{placeholder:""})]),_:1}),h(g,null,{default:b(()=>[h(y,{value:"999"},{default:b(()=>i[1]||(i[1]=[K("すべて")])),_:1}),(I(!0),A(oe,null,re(d(l),w=>(I(),N(y,{value:`${w.id}`},{default:b(()=>[K(O(w.value),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])],2)}}}),sr={key:0,class:"absolute w-full h-full bg-[#f7f5f505] flex justify-center items-center z-50"},or=["innerHTML"],rr=H({__name:"notify-handle-export",props:{isOpenNotify:{type:Boolean,default:!1},htmlMessage:{type:String,default:""},isError:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:s}){const n=e,o=s;return z(()=>n.isOpenNotify,t=>{t&&setTimeout(()=>{o("close")},3e3)}),(t,r)=>e.isOpenNotify?(I(),A("div",sr,[m("div",{class:G(["bg-[#b5b5b5e6] py-[24px] px-[50px] gap-[8px] rounded-[30px]",{"bg-[#ead3d3]":e.isError}])},[m("div",{class:"flex flex-col items-center",innerHTML:e.htmlMessage},null,8,or)],2)])):Q("",!0)}}),ar={class:"table-container overflow-auto border-b"},lr={class:"w-full table-fixed"},ir={class:"pl-5"},cr=H({__name:"confirm-create-report",props:{users:{type:Array,default:()=>[]},isOpen:{type:Boolean,default:!1}},emits:["close","export"],setup(e,{emit:s}){const n=e,o=S(n.isOpen);z(()=>n.isOpen,c=>{o.value=c});const t=S(!1),r=s,a=()=>{r("close")},l=()=>{t.value=!0,r("export"),setTimeout(()=>{t.value=!1,r("close")},1e3)};return(c,i)=>{const p=Lt,_=At,y=Ts,g=Pt,C=An,w=jt,v=Ot,B=Rt;return I(),N(B,{open:d(o),"onUpdate:open":i[0]||(i[0]=E=>te(o)?o.value=E:null)},{default:b(()=>[h(v,null,{default:b(()=>[h(_,{class:"flex flex-col gap-4 items-center"},{default:b(()=>[h(p,{class:"text-sm"},{default:b(()=>i[1]||(i[1]=[K("実行の確認")])),_:1})]),_:1}),h(y,null,{default:b(()=>i[2]||(i[2]=[m("span",null,"以下を実行します、よろしいですか？",-1)])),_:1}),m("div",ar,[m("table",lr,[i[5]||(i[5]=m("thead",{class:"bg-[#adadad] sticky top-0 z-10"},[m("tr",{class:"border border-[#adadad]"},[m("th",{class:"py-3 w-[50%]"},[m("span",{class:"flex items-center justify-center px-4 text-black border-white border-r-2"},"利用者")]),m("th",{class:"py-3 w-[25%]"},[m("span",{class:"flex items-center justify-center px-4 text-black border-white border-r-2"},"報告書")]),m("th",{class:"py-3 w-[25%]"},[m("span",{class:"flex items-center justify-center px-4 text-black"},"計画書")])])],-1)),m("tbody",null,[(I(!0),A(oe,null,re(e.users,(E,k)=>(I(),A("tr",{key:k,class:"h-10 hover:cursor-pointer hover:bg-[#cfcfcf47] border border-gray-300"},[m("td",null,[m("span",ir,O(E.nameKanji),1)]),m("td",{class:G(E.reportStatus===99?"visible":"invisible")},i[3]||(i[3]=[m("span",{class:"text-center flex justify-center bg-[#ccc] py-[8px] mx-[5px] rounded"},"実行",-1)]),2),m("td",{class:G(E.planStatus===99?"visible":"invisible")},i[4]||(i[4]=[m("span",{class:"text-center flex justify-center bg-[#ccc] py-[8px] mx-[5px] rounded"},"実行",-1)]),2)]))),128))])])]),h(w,{class:"flex !flex-col gap-4"},{default:b(()=>[h(g,{class:"flex self-center min-w-[120px]",onClick:l},{default:b(()=>[d(t)?(I(),N(d(Vt),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Q("",!0),i[6]||(i[6]=K("実行"))]),_:1}),h(C,{class:"flex self-center border border-gray-300 min-w-[120px]",onClick:a},{default:b(()=>i[7]||(i[7]=[K("キャンセル")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),ur=le(cr,[["__scopeId","data-v-04b4db2b"]]),dr={class:"user-container flex flex-col gap-2 overflow-hidden"},fr={class:"action flex justify-between pr-5 max-lg:flex-col max-lg:gap-5"},pr={class:"flex gap-4 items-center"},mr={class:"relative w-full max-w-[220px] items-center justify-center"},hr={class:"absolute start-0 inset-y-0 flex items-center justify-center px-2"},gr={class:"flex items-center gap-2"},yr={id:"toggle-report-element",class:"flex! items-center justify-center space-x-2 absolute duration-10 ease-linear whitespace-nowrap top-0"},vr={id:"toggle-plan-element",class:"flex! items-center justify-center space-x-2 absolute duration-10 ease-linear whitespace-nowrap top-0"},_r={class:"w-full flex relative flex-col mt-[35px]"},br={class:"w-full table-fixed",id:"table-user"},xr={class:"sticky top-0 z-10"},Sr={class:"bg-[#afeeee] mt-[20px]"},wr=["id"],Cr=["onClick"],kr={key:0},Tr=["colspan"],Ir={key:0},Er={key:1},Dr=["innerHTML"],Mr=["innerHTML"],$r=["onClick"],Lr=["onClick"],Ar={class:"flex justify-end mr-[35px]"},V=99,Pr=H({__name:"index",props:{officeId:{type:Number},targetYearMonth:{type:String}},setup(e,{expose:s}){const n=e,{officeId:o,targetYearMonth:t}=Bt(n),r=we(),a=un(),l=Fe(),c=S(""),i=S(""),p=S(!1),_=S(!1),y=S(!1),g=S(!1),C=S(!0),w=S("999"),v=S("999"),B=S([]),E=[{label:"利用者",width:"16%",key:"nameKanji",isSort:!0},{label:"生年月日",width:"12%",key:"birthday",isSort:!0},{label:"報告書",width:"12%",key:"reportStatus",isSort:!1},{label:"実行日時",width:"15%",key:"reportDate",isSort:!1},{label:"計画書",width:"12%",key:"planStatus",isSort:!1},{label:"実行日時",width:"15%",key:"planDate",isSort:!1},{label:"報告書",width:"9%",key:"actionReport",isSort:!1},{label:"計画書",width:"9%",key:"actionPlan",isSort:!1}],k={0:"未実行",1:"実行予定",2:"実行済み",3:"実行エラー"},P=S(Bn),q=S(gt),D=S(!1),U=R(()=>r.isLoadCompanyUsers),J=R(()=>r.charactersSelected),X=R(()=>r.isHaveDataCompanyUsers),F=R(()=>r.companyUsers),ie=R(()=>l.notify),$=S([]);z(F,()=>{_.value=!1,y.value=!1,$.value=he()}),z([c,J,i],()=>{$.value=he()}),z($,f=>{const u=f.some(x=>x.reportStatus===V||x.planStatus===V);C.value=!u}),z([w,v],()=>{$.value=he()});const he=f=>{let u=f??[...F.value];return c.value&&(u=bn(u)),J.value.length&&(u=pn(u)),i.value&&(u=mn(u)),(w.value!=="999"||v.value!=="999")&&(u=dn(u)),u},Qe=({status:f,type:u})=>{u==="report"&&(w.value=f),u==="plan"&&(v.value=f)},dn=f=>{const u=Number(w.value),x=Number(v.value);return f.filter(T=>u!==999&&x!==999?T.reportStatus===u&&T.planStatus===x:u!==999?T.reportStatus===u:x!==999?T.planStatus===x:!0)},fn=()=>{!y.value?($.value=hn($.value),_.value&&Ie(_.value)):($.value=$.value.map(u=>{var x;return{...u,reportStatus:((x=F.value.find(T=>T.id===u.id))==null?void 0:x.reportStatus)??0}}),_.value=!1,Ie(_.value))},Ie=f=>{(f!==void 0?f:!_.value)?$.value=gn($.value):($.value=$.value.map(x=>{var T;return{...x,planStatus:((T=F.value.find(L=>L.id===x.id))==null?void 0:T.planStatus)??0}}),$.value=he($.value))},pn=f=>f.filter(u=>J.value.some(x=>{const[T,L]=x.split(",");return u.nameKana.startsWith(T.trim())||u.nameKana.startsWith(L.trim())})),mn=f=>f.filter(u=>u.nameKanji.includes(i.value)),hn=f=>f.map(u=>({...u,reportStatus:u.reportStatus===0||u.reportStatus===3?V:u.reportStatus})),gn=f=>f.map(u=>({...u,planStatus:(u.planStatus===0||u.planStatus===3)&&u.reportStatus!==0&&u.reportStatus!==3?V:u.planStatus})),We=f=>f?f===1||f===V?k[1]:f===2?k[2]:f===3?k[3]:k[0]:k[0],Xe=f=>{f||(f=0);let u="flex justify-center items-center py-2 ml-2 rounded-sm ";switch(f){case 0:u+="bg-[#d4e9d3]";break;case 1:case V:u+="bg-[#fff3cb]";break;case 2:u+="bg-[#d9e8fc]";break;case 3:u+="bg-[#f8cecb]";break}return u},yn=f=>{f||(f=0);let u="flex justify-center items-center py-2 ml-2 rounded-sm mx-1 ";switch(f){case 0:case 3:u+=ne.value?"border border-gray-300 bg-[#ccc] opacity-50 cursor-not-allowed":"border border-gray-300 hover:bg-[#faeded]";break;case 1:u+="bg-[#afeeed] cursor-not-allowed";break;case 2:u+="bg-[#ccc] cursor-not-allowed";break;case V:u+="bg-[#afeeed] hover:bg-[#77f6f4]";break}return u},vn=f=>{const u=f.reportStatus??0,x=f.planStatus??0;let T="flex justify-center items-center py-2 ml-2 rounded-sm mx-1 ";switch(x){case 0:case 3:T+=[V,1,2].includes(u)&&!ne.value?"border border-gray-300 hover:bg-[#faeded]":"border border-gray-300 bg-[#ccc] opacity-50 cursor-not-allowed";break;case 1:T+="bg-[#afeeed] cursor-not-allowed";break;case 2:T+="bg-[#ccc] cursor-not-allowed";break;case V:T+="bg-[#afeeed] hover:bg-[#77f6f4]";break}return T},_n=f=>{if(!f.isSort)return;const[u,x]=c.value.split(":"),T=u===f.key?x===ee.ASC?ee.DESC:"":ee.ASC;c.value=T?`${f.key}:${T}`:""},bn=f=>{const[u,x]=c.value.split(":");return f.sort((T,L)=>{const j=T[u],Y=L[u];if(typeof j=="number"&&typeof Y=="number")return x===ee.DESC?Y-j:j-Y;if(typeof j=="string"&&typeof Y=="string"){const W=new Date(j),Z=new Date(Y);return!isNaN(W.getTime())&&!isNaN(Z.getTime())?x===ee.DESC?Z.getTime()-W.getTime():W.getTime()-Z.getTime():x===ee.DESC?Y.localeCompare(j):j.localeCompare(Y)}return 0})},xn=f=>{var j;if(ne.value)return;const{id:u,reportStatus:x}=f;if(![0,3,V].includes(x))return;const T=((j=F.value.find(Y=>Y.id===u))==null?void 0:j.reportStatus)??0,L=x===V?T:V;$.value=$.value.map(Sn(f.id,L)),L!=V&&Ze(f,!0)},Ze=(f,u)=>{var W;if(ne.value)return;const{id:x,planStatus:T,reportStatus:L}=f;if(![0,3,V].includes(T)||[0,3].includes(L))return;const j=((W=F.value.find(Z=>Z.id===x))==null?void 0:W.planStatus)??0;if(u){$.value=$.value.map(et(f.id,j));return}const Y=T===V?j:V;$.value=$.value.map(et(f.id,Y))},Sn=(f,u)=>x=>x.id===f?{...x,reportStatus:u}:x,et=(f,u)=>x=>x.id===f?{...x,planStatus:u}:x,wn=()=>{B.value=$.value.filter(f=>f.reportStatus===99||f.planStatus===99),p.value=!0},Cn=async()=>{var x;l.clearNotify(),r.isLoadCompanyUsers=!0;const f=B.value.map(T=>{const{id:L}=T,j=T.reportStatus===99?1:0,Y=T.planStatus===99?1:0;return{id:L,isExecuteReport:j,isExecutePlan:Y}});if(!(o!=null&&o.value)||!(t!=null&&t.value))return;const u={officeId:o==null?void 0:o.value,targetYearMonth:t==null?void 0:t.value,users:f};if(await r.bulkExportReport(u),(x=ie.value)!=null&&x.message){q.value=`
      <span class="text-red-500">${ie.value.message}</span>
    `,D.value=!0,a.isOpenNotifyExport=!0,r.isLoadCompanyUsers=!1;return}await r.getCompanyUseStatus({officeId:o==null?void 0:o.value,targetYearMonth:t==null?void 0:t.value}),r.isLoadCompanyUsers=!1,q.value=gt,a.isOpenNotifyExport=!0},tt=S(),nt=S(),st=S(),ot=S(),rt=S(),at=S(),lt=S(),it=S(),ct=S(),ut=S(),kn=S(0);ae(()=>{var f;tt.value=document.getElementById("select-report-element"),nt.value=document.getElementById("column-3"),st.value=document.getElementById("select-plan-element"),ot.value=document.getElementById("column-5"),rt.value=document.getElementById("toggle-report-element"),at.value=document.getElementById("column-7"),lt.value=document.getElementById("toggle-plan-element"),it.value=document.getElementById("column-8"),ct.value=document.getElementById("table-user"),ut.value=(f=ct.value)==null?void 0:f.getBoundingClientRect(),ge(),window.addEventListener("resize",ge)});const ge=()=>{const f=ut.value,u=[{element:tt.value,column:nt.value,position:35},{element:st.value,column:ot.value,position:35},{element:rt.value,column:at.value,position:30},{element:lt.value,column:it.value,position:30}],x=()=>{u.forEach(({element:T,column:L,position:j})=>{Tn(T,L,j,f)})};x(),setTimeout(x,50)},Tn=(f,u,x,T)=>{if(!f||!u)return;const L=u.getBoundingClientRect();f.style.left=`${L.left+window.scrollX}px`,f.style.top=`${L.top+window.scrollY-x}px`,f.style.width=`${L.width-2}px`,T&&T.left>L.left||window.innerWidth-L.left-L.width<5?(f.style.zIndex="-1",f.style.display="none"):(f.style.zIndex="5",f.style.display="flex")},In=f=>{f.target.scrollLeft!==kn.value&&ge()};Un(()=>{ge()});const En=R(()=>l.isLoadPermission),ne=R(()=>(En.value,!(Pn(t==null?void 0:t.value)&&$e())));return s({resetFilterTable:f=>{f&&(i.value="",w.value="999",v.value="999",c.value=""),g.value=!1}}),(f,u)=>{const x=Vn,T=vs,L=nr,j=Cs,Y=ln,W=an,Z=rn,dt=cn,Dn=ks,ft=rr,Mn=Yt,$n=ur,Ln=fs;return I(),A("div",dr,[m("div",fr,[m("div",pr,[m("div",mr,[h(x,{id:"search",type:"text",placeholder:"Search",class:"pl-10",modelValue:d(i),"onUpdate:modelValue":u[0]||(u[0]=M=>te(i)?i.value=M:null)},null,8,["modelValue"]),m("span",hr,[h(d(ds),{class:"w-4 h-4 text-muted-foreground"})])]),m("div",gr,[h(T,{id:"terms",checked:d(g),"onUpdate:checked":u[1]||(u[1]=M=>te(g)?g.value=M:null)},null,8,["checked"]),u[9]||(u[9]=m("span",{for:"terms",class:"flex text-xs flex-shrink-0"}," 和暦表示 ",-1))])])]),h(L,{id:"select-report-element",cssStyle:"absolute duration-10 ease-linear whitespace-nowrap top-0",type:"report","selected-status":d(w),onFilterStatus:Qe},null,8,["selected-status"]),h(L,{id:"select-plan-element",cssStyle:"absolute duration-10 ease-linear whitespace-nowrap top-0",type:"plan","selected-status":d(v),onFilterStatus:Qe},null,8,["selected-status"]),m("div",yr,[h(j,{disabled:d(ne),checked:d(y),"onUpdate:checked":u[2]||(u[2]=M=>te(y)?y.value=M:null),onClick:u[3]||(u[3]=()=>fn())},null,8,["disabled","checked"]),u[10]||(u[10]=m("span",null,"一括",-1))]),m("div",vr,[h(j,{disabled:d(ne),checked:d(_),"onUpdate:checked":u[4]||(u[4]=M=>te(_)?_.value=M:null),onClick:u[5]||(u[5]=()=>Ie())},null,8,["disabled","checked"]),u[11]||(u[11]=m("span",null,"一括",-1))]),m("div",_r,[m("div",{class:G(["table-container overflow-auto border-b",{"border-l":d($).length}]),onScroll:In},[m("table",br,[m("thead",xr,[m("tr",Sr,[(I(),A(oe,null,re(E,(M,ce)=>m("th",{class:"py-3",id:`column-${ce+1}`,key:ce,style:Le({width:M.width})},[m("span",{class:G(["flex items-center justify-center px-4 text-black border-white hover:cursor-pointer ",ce<E.length-1?"border-r-2":""]),onClick:pt=>_n(M)},[K(O(M.label)+" ",1),d(c)&&d(c).split(":")[1]==("SORT"in f?f.SORT:d(ee)).ASC&&M.key==d(c).split(":")[0]?(I(),N(d(ps),{key:0,width:"12",height:"12",class:"ml-1 hover:text-[#5566da]"})):Q("",!0),d(c)&&d(c).split(":")[1]==("SORT"in f?f.SORT:d(ee)).DESC&&M.key==d(c).split(":")[0]?(I(),N(d(ms),{key:1,width:"12",height:"12",class:"ml-1 hover:text-[#5566da]"})):Q("",!0)],10,Cr)],12,wr)),64))])]),m("tbody",null,[d($).length===0&&!d(X)?(I(),A("tr",kr,[m("td",{class:"text-center py-3 text-[#5566da]",colspan:E.length},O(("MESSAGES"in f?f.MESSAGES:d(Fn)).EMPTY),9,Tr)])):(I(!0),A(oe,{key:1},re(d($),(M,ce)=>(I(),A("tr",{class:G(["bg-white dark:bg-gray-800 text-center h-10 hover:cursor-pointer hover:bg-[#afe7ee47]",[ce<d($).length-1?"border-b":""]])},[m("td",null,[m("span",null,O(M.nameKanji),1)]),m("td",null,[d(g)?(I(),A("span",Ir,O(("formatToJapaneseEra"in f?f.formatToJapaneseEra:d(hs))(M.birthday)),1)):(I(),A("span",Er,O(("formatDate"in f?f.formatDate:d(ve))(M.birthday,"YYYY/MM/DD")),1))]),m("td",null,[m("span",{class:G(["px-[18px] py-[8px] rounded-sm",Xe(M.reportStatus)])},[K(O(We(M.reportStatus))+" ",1),M.reportErrorMessage?(I(),N(dt,{key:0},{default:b(()=>[h(Z,null,{default:b(()=>[h(Y,null,{default:b(()=>[h(d(Ae),{width:"16",height:"16",class:"ml-[5px] hover:text-[#5566da] text-[red]"})]),_:1}),h(W,null,{default:b(()=>[m("p",{innerHTML:M.reportErrorMessage},null,8,Dr)]),_:2},1024)]),_:2},1024)]),_:2},1024)):Q("",!0)],2)]),m("td",null,[m("span",null,O(("formatDate"in f?f.formatDate:d(ve))(M.reportDate,"YYYY/MM/DD HH:mm")),1)]),m("td",null,[m("span",{class:G(["px-[18px] py-[8px] rounded-sm",Xe(M.planStatus)])},[K(O(We(M.planStatus))+" ",1),M.planErrorMessage?(I(),N(dt,{key:0},{default:b(()=>[h(Z,null,{default:b(()=>[h(Y,null,{default:b(()=>[h(d(Ae),{width:"16",height:"16",class:"ml-[5px] hover:text-[#5566da] text-[red]"})]),_:1}),h(W,null,{default:b(()=>[m("p",{class:"text-[12px]",innerHTML:M.planErrorMessage},null,8,Mr)]),_:2},1024)]),_:2},1024)]),_:2},1024)):Q("",!0)],2)]),m("td",null,[m("span",null,O(("formatDate"in f?f.formatDate:d(ve))(M.planDate,"YYYY/MM/DD HH:mm")),1)]),m("td",null,[m("span",{class:G(yn(M.reportStatus)),onClick:pt=>xn(M)},"実行",10,$r)]),m("td",null,[m("span",{class:G(vn(M)),onClick:pt=>Ze(M)},"実行 ",10,Lr)])],2))),256))])])],34),d(U)?(I(),N(Dn,{key:0})):Q("",!0),h(ft,{"is-open-notify":d(a).isOpenNotifyCrawl,"html-message":d(P),onClose:u[6]||(u[6]=M=>d(a).isOpenNotifyCrawl=!1)},null,8,["is-open-notify","html-message"]),h(ft,{"is-open-notify":d(a).isOpenNotifyExport,"html-message":d(q),"is-error":d(D),onClose:u[7]||(u[7]=M=>{d(a).isOpenNotifyExport=!1,D.value=!1})},null,8,["is-open-notify","html-message","is-error"]),m("div",Ar,[h(Mn,{disabled:d(C)||d(ne),class:"flex justify-end mt-[30px]",onClick:wn},{default:b(()=>u[12]||(u[12]=[K(" 実行開始 ")])),_:1},8,["disabled"])])]),h($n,{isOpen:d(p),users:d(B),onClose:u[8]||(u[8]=()=>p.value=!1),onExport:Cn},null,8,["isOpen","users"]),h(Ln,{class:"top-[5px]"})])}}}),jr=le(Pr,[["__scopeId","data-v-649da4d2"]]),Or={class:"user-list px-4"},Rr={class:"relative header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},Nr={class:"body-content flex py-4 w-full gap-2"},sa=H({__name:"index",setup(e){const s=we(),n=S(void 0),o=S(""),t=S(),r=i=>{var p;t.value&&((p=t.value)==null||p.resetFilterTable(!0)),n.value=i,c(!0)},a=i=>{var p;t.value&&((p=t.value)==null||p.resetFilterTable(!1)),o.value=i,c(!1)},l=i=>{const[p,_]=i.split("/");return`${p}-${_}-01`},c=i=>{n.value&&o.value&&s.getCompanyUseStatus({officeId:n.value,targetYearMonth:l(o.value)},i)};return ae(()=>{c(!0)}),(i,p)=>{const _=Is,y=Hn,g=Qo,C=tr,w=jr;return I(),A("div",Or,[h(_),m("div",Rr,[p[0]||(p[0]=m("span",{class:"text-base font-bold"},"利用者選択",-1)),h(y,{"class-custom":"absolute z-10 bg-[#ccc] w-[100%] top-[40px]  py-[11px]",type:"custom"})]),h(g,{"onUpdate:officeId":r,"onUpdate:targetYearMonth":a}),m("div",Nr,[h(C,{class:"px-5 py-10 min-w-[230px]"}),h(w,{class:"w-full",ref_key:"userTableComponentRef",ref:t,"office-id":d(n),"target-year-month":l(d(o))},null,8,["office-id","target-year-month"])])])}}});export{sa as default};
