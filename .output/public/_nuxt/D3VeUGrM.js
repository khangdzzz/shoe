import{_ as fe,a as _e}from"./CfIH33XQ.js";import{_ as xe}from"./Di3JZa5r.js";import{_ as ue}from"./CF-n_ads.js";import{_ as ve}from"./C6nLHIyT.js";import{t as be,u as ye,_ as ge,a as we,F as ke}from"./BoE6YWWi.js";import{_ as he,a as Pe,b as Ne,c as Se,d as Ce}from"./-ZiQ4yvb.js";import{_ as Fe,a as Te}from"./CGQSb0m2.js";import{_ as Ie}from"./8eFtb4ME.js";import{_ as Ee}from"./nlMAUvPE.js";import{m as q,y as $e,n as Ae,r as y,z as Ge,F as l,M as Ke,P as Oe,T as S,o as m,c as T,a as s,p as i,v as _,x as K,b as e,w as t,d as C,q as w,A as Me,B as Le,C as Re,D as V,E as B,t as Y,G as De,H as Ue}from"./DRlUu_Td.js";import{o as Ve,a as F,s as O,f as Be}from"./sXZUm_jF.js";import{v as c,g as Ye}from"./DNN2-cHN.js";import{u as He}from"./B7f0-ZEq.js";import{u as je}from"./BCf_UzMx.js";import{L as qe}from"./BuQ21z8H.js";import{E as H,a as j}from"./MYNcNvKC.js";import{_ as ze}from"./DlAUqK2U.js";import"./LdrLGm5z.js";import"./CU3HsJgg.js";const We={class:"login-page flex flex-col !h-[100vh] overflow-hidden relative"},Je={class:"flex justify-between mt-[15px]"},Qe={class:"form overflow-y-auto scroll"},Xe={class:"flex flex-col w-[900px] gap-[25px] pb-[20px]"},Ze={class:"company flex flex-col gap-5"},es={class:"flex gap-5 items-center"},ss={class:"flex gap-5 items-center"},as={class:"information flex flex-col gap-5"},ts={class:"flex gap-5 items-center"},ls={class:"flex gap-5 items-center"},ns={class:"flex flex-col gap-[15px] w-[82%]"},os={class:"flex gap-5 items-center !m-[0px]"},is={class:"pic-position flex gap-5 items-center w-[50%]"},cs={class:"pic-name flex items-center gap-5 w-[50%]"},rs={class:"flex gap-5 items-center !m-[0px]"},ps={class:"pic-name flex items-center gap-5 w-[50%]"},ms={class:"flex flex-col gap-[15px] w-[82%]"},ds={class:"flex gap-5 items-center !m-[0px]"},fs={class:"pic-position flex gap-5 items-center w-[50%]"},_s={class:"pic-name flex items-center gap-5 w-[50%]"},xs={class:"flex gap-5 items-center !m-[0px]"},us={class:"pic-name flex items-center gap-5 w-[50%]"},vs={class:"contact flex flex-col gap-6"},bs={class:"flex gap-5 items-center"},ys={class:"flex gap-5 items-center -mb-[12.5px]"},gs={class:"flex gap-5 items-center"},ws={class:"relative !m-[0px]"},ks={class:"relative"},hs={class:"flex gap-5 items-center"},Ps={class:"!m-[0px]"},Ns={class:"flex gap-5 items-center"},Ss={class:"flex gap-5 items-center"},Cs={class:"flex gap-5 items-center"},Fs={class:"relative !m-[0px]"},Ts={class:"relative"},Is={class:"relative w-[82%] !m-[0px]"},Es={class:"relative w-[82%] !m-[0px] flex gap-2 items-center"},$s={class:"flex max-w-[900px] justify-between py-[20px]"},As={class:"flex gap-5"},Gs=q({__name:"index",setup(z){const M=$e(),f=Ae(),I=He(),{redirectPage:L}=je(),k=y(!1),W=y(),h=y(!1),J=Ge(()=>{var p;return(p=M.masterData)==null?void 0:p.kaigoSoftwares}),E=y(!1),$=y(!1),P=y(!1),R=y(!1),Q=be(Ve({companyName:c(l.companyName,250),companyNameKana:c(l.companyNameKana,250,!0),companyPostCode:c(l.companyPostCode,10),companyAddress:c(l.companyAddress,250),frontPicPosition:c(l.frontPicPosition,100),frontPicFamilyName:c(l.frontPicFamilyName,100),frontPicGivenName:c(l.frontPicGivenName,100),frontPicFamilyNameKana:c(l.frontPicFamilyNameKana,100,!0),frontPicGivenNameKana:c(l.frontPicGivenNameKana,100,!0),picPosition:c(l.picPosition,100),picFamilyName:c(l.picFamilyName,100),picGivenName:c(l.picGivenName,100),picFamilyNameKana:c(l.picFamilyNameKana,100,!0),picGivenNameKana:c(l.picGivenNameKana,100,!0),phoneNumber:c(l.phoneNumber,20),email:c(l.email,250),password:Ye(F(l.password)),kaigoSoftware:O(Be(Ke.ERR002,l.kaigoSoftware)).min(1,F(l.kaigoSoftware)),kaipokeCompanyId:c(l.kaipokeCompanyId,100),kaipokeUserId:c(l.kaipokeUserId,100),kaipokeUserPassword:O(F(l.kaipokeUserPassword)).min(1,F(l.kaipokeUserPassword)),paymentMethod:O().default(Oe.bankWithdrawal)})),{handleSubmit:X,values:A,setFieldValue:Z}=ye({validationSchema:Q}),ee=()=>{h.value=!h.value},se=()=>{k.value=!k.value},ae=async()=>{const p=A==null?void 0:A.companyPostCode;if(!p){f.setNotify({message:"郵便番号が存在しません。",type:S.error});return}$.value=!0;const a=await f.searchPostalCode(p);if(a!=null&&a.data){const{prefecture:x,city:n}=a.data,o=`${x} ${n}`;Z("companyAddress",o),W.value=a.data}else f.setNotify({message:"郵便番号が存在しません。",type:S.error});$.value=!1},D=X(async p=>{var x;f.clearNotify(),E.value=!0;const a={...p,keepLastPlanContentFlg:P.value?1:0};await I.createNewCompany(a),E.value=!1,(x=f.notify)!=null&&x.message||te("顧客情報を登録しました")},({errors:p})=>{const x=Object.keys(l).map(n=>p[n]).find(Boolean)??"";f.setNotify({message:x,type:S.error})}),te=p=>{R.value=!0,L("/customer"),f.setNotify({message:p,type:S.success})};return(p,a)=>{const x=fe,n=xe,o=ue,G=ve,N=_e,v=ge,u=we,b=ke,le=he,ne=Pe,oe=Ne,ie=Se,ce=Ce,re=Fe,pe=Te,me=Ie,de=Ee;return m(),T("div",We,[s("div",Je,[i(R)?K("",!0):(m(),_(x,{key:0,class:"pl-[64px]"}))]),s("form",{class:"register flex flex-col gap-[25px] pl-[64px] pt-[10px] pb-[15px]",onSubmit:a[2]||(a[2]=(...r)=>i(D)&&i(D)(...r))},[s("div",Qe,[s("div",Xe,[e(n,{label:"必須項目です",position:"left",class:"mb-[10px]"}),s("div",Ze,[s("div",es,[e(n,{label:"法人名",class:"w-[160px] flex-shrink-0"}),e(o,{"name-bind":"companyName"})]),s("div",ss,[e(n,{label:"フリガナ",class:"w-[160px] flex-shrink-0"}),e(o,{"name-bind":"companyNameKana"})])]),a[16]||(a[16]=s("div",{class:"space"},null,-1)),s("div",as,[s("div",ts,[e(n,{label:"郵便番号",class:"w-[160px] flex"}),e(o,{"name-bind":"companyPostCode","class-form":"w-[20%]"}),e(G,{onClick:ae,type:"button",variant:"cancel_btn",class:"!m-[0px] !rounded-3xl"},{default:t(()=>[i($)?(m(),_(i(qe),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):K("",!0),a[3]||(a[3]=C(" 郵便番号から入力 "))]),_:1})]),s("div",ls,[e(n,{label:"会社所在地",class:"w-[160px] flex-shrink-0"}),e(o,{"name-bind":"companyAddress"})]),e(b,{name:"frontPicPosition"},{default:t(({componentField:r,errors:d})=>[e(u,{class:"flex gap-5"},{default:t(()=>[e(n,{label:"代表者",class:"w-[160px] flex pt-[14px] items-baseline flex-shrink-0"}),s("div",ns,[s("div",os,[s("div",is,[a[4]||(a[4]=s("span",{class:"label w-[35px]"},"役職",-1)),e(v,null,{default:t(()=>[e(N,w({type:"text"},r,{class:{"border-red-500":d.length}}),null,16,["class"])]),_:2},1024)]),s("div",cs,[a[5]||(a[5]=s("span",{class:"label flex w-[19%] flex-shrink-0"},"お名前",-1)),e(o,{"name-bind":"frontPicFamilyName",placeholder:"姓","class-input":"text-center"}),e(o,{"name-bind":"frontPicGivenName",placeholder:"名","class-input":"text-center"})])]),s("div",rs,[a[7]||(a[7]=s("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),s("div",ps,[a[6]||(a[6]=s("span",{class:"label flex w-[19%] flex-shrink-0"},"フリガナ",-1)),e(o,{"name-bind":"frontPicFamilyNameKana",placeholder:"せい","class-input":"text-center"}),e(o,{"name-bind":"frontPicGivenNameKana",placeholder:"めい","class-input":"text-center"})])])])]),_:2},1024)]),_:1}),e(b,{name:"picPosition"},{default:t(({componentField:r,errors:d})=>[e(u,{class:"flex gap-5"},{default:t(()=>[e(n,{label:"ご担当者",class:"w-[160px] flex pt-[14px] items-baseline flex-shrink-0"}),s("div",ms,[s("div",ds,[s("div",fs,[a[8]||(a[8]=s("span",{class:"label w-[35px]"},"役職",-1)),e(v,null,{default:t(()=>[e(N,w({type:"text"},r,{class:{"border-red-500":d.length}}),null,16,["class"])]),_:2},1024)]),s("div",_s,[a[9]||(a[9]=s("span",{class:"label flex w-[19%] flex-shrink-0"},"お名前",-1)),e(o,{"name-bind":"picFamilyName",placeholder:"姓","class-input":"text-center"}),e(o,{"name-bind":"picGivenName",placeholder:"名","class-input":"text-center"})])]),s("div",xs,[a[11]||(a[11]=s("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),s("div",us,[a[10]||(a[10]=s("span",{class:"label flex w-[19%] flex-shrink-0"},"フリガナ",-1)),e(o,{"name-bind":"picFamilyNameKana",placeholder:"せい","class-input":"text-center"}),e(o,{"name-bind":"picGivenNameKana",placeholder:"めい","class-input":"text-center"})])])])]),_:2},1024)]),_:1})]),a[17]||(a[17]=s("div",{class:"space"},null,-1)),s("div",vs,[s("div",bs,[e(n,{label:"電話番号",class:"w-[160px] flex-shrink-0"}),e(o,{"name-bind":"phoneNumber","class-form":"w-[40%]"})]),s("div",ys,[e(n,{label:"メールアドレス",class:"w-[160px] flex-shrink-0"}),e(o,{"name-bind":"email"})]),s("div",gs,[a[12]||(a[12]=s("div",{class:"w-[160px] flex-shrink-0"},[s("span",null,"パスワード")],-1)),e(b,{name:"password"},{default:t(({componentField:r,errors:d})=>[e(u,{class:"w-[100%]"},{default:t(()=>[s("div",ws,[e(v,null,{default:t(()=>[s("div",ks,[e(N,w({type:i(k)?"text":"password"},r,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":d.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2",onClick:se,"aria-label":"Toggle password visibility"},[i(k)?(m(),_(i(j),{key:1,class:"h-5 w-3.5 text-black"})):(m(),_(i(H),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024)])]),_:2},1024)]),_:1})]),s("div",hs,[e(n,{label:"介護ソフト選択",class:"w-[160px] flex-shrink-0"}),e(b,{name:"kaigoSoftware"},{default:t(({componentField:r,errors:d,meta:g})=>[e(u,{class:"w-[100%]"},{default:t(()=>[s("div",Ps,[e(v,null,{default:t(()=>[e(ce,Me(Le(r)),{default:t(()=>[e(ne,{class:Re({"border-red-500":d.length&&!r.modelValue})},{default:t(()=>[e(le,{placeholder:"Select an option"})]),_:2},1032,["class"]),e(ie,null,{default:t(()=>[(m(!0),T(V,null,B(i(J),U=>(m(),_(oe,{value:`${U.id}`},{default:t(()=>[C(Y(U.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040)]),_:2},1024)])]),_:2},1024)]),_:1})]),s("div",Ns,[e(n,{label:"カイポケ法人ID",class:"w-[160px] flex-shrink-0"}),e(o,{"name-bind":"kaipokeCompanyId"})]),s("div",Ss,[e(n,{label:"カイポケユーザーID",class:"w-[160px] flex-shrink-0"}),e(o,{"name-bind":"kaipokeUserId"})]),s("div",Cs,[e(n,{label:"カイポケパスワード",class:"w-[160px] flex-shrink-0"}),e(b,{name:"kaipokeUserPassword"},{default:t(({componentField:r,errors:d})=>[e(u,{class:"w-[100%]"},{default:t(()=>[s("div",Fs,[e(v,null,{default:t(()=>[s("div",Ts,[e(N,w({type:i(h)?"text":"password"},r,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":d.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2",onClick:ee,"aria-label":"Toggle password visibility"},[i(h)?(m(),_(i(j),{key:1,class:"h-5 w-3.5 text-black"})):(m(),_(i(H),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024)])]),_:2},1024)]),_:1})]),e(b,{name:"paymentMethod"},{default:t(({componentField:r,errors:d})=>[e(u,{class:"flex gap-5"},{default:t(()=>[e(n,{label:"決済方法",class:"w-[160px] flex-shrink-0"}),s("div",Is,[e(v,null,{default:t(()=>[e(pe,w({class:"flex gap-5"},r),{default:t(()=>[(m(!0),T(V,null,B("PAYMENT_METHOD_OPTIONS_LIST"in p?p.PAYMENT_METHOD_OPTIONS_LIST:i(De),g=>(m(),_(u,{class:"flex items-center space-y-0 gap-x-3"},{default:t(()=>[e(v,null,{default:t(()=>[e(re,{value:g.type},null,8,["value"])]),_:2},1024),s("span",null,Y(g.value),1)]),_:2},1024))),256))]),_:2},1040)]),_:2},1024)])]),_:2},1024)]),_:1}),e(b,{name:"remainOldPlan"},{default:t(({componentField:r,errors:d})=>[e(u,{class:"flex gap-5"},{default:t(()=>[a[15]||(a[15]=s("span",{class:"w-[160px] flex items-center"},"前回の計画書内容を保持する",-1)),s("div",Es,[a[13]||(a[13]=s("span",null,"OFF",-1)),e(me,{checked:i(P),"onUpdate:checked":a[0]||(a[0]=g=>Ue(P)?P.value=g:null)},null,8,["checked"]),a[14]||(a[14]=s("span",null,"ON",-1))])]),_:1})]),_:1})])])]),s("div",$s,[s("div",As,[e(G,{type:"button",variant:"cancel_btn",class:"flex self-center",onClick:a[1]||(a[1]=r=>i(L)("/customer"))},{default:t(()=>a[18]||(a[18]=[C(" キャンセル ")])),_:1}),e(G,{variant:"export",class:"delete flex self-center"},{default:t(()=>a[19]||(a[19]=[C(" 登録 ")])),_:1})])])],32),i(E)?(m(),_(de,{key:0})):K("",!0)])}}}),Ks=ze(Gs,[["__scopeId","data-v-cdf0993d"]]),Os={class:"user-list px-4"},aa=q({__name:"index",setup(z){return(M,f)=>{const I=Ks;return m(),T("div",Os,[f[0]||(f[0]=s("div",{class:"header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},[s("span",{class:"text-base font-bold"},"顧客管理")],-1)),e(I)])}}});export{aa as default};
