import{t as oe,o as ne,s as m,m as i,f as ie,u as ce,_ as re,a as pe,c as de,F as me,b as fe}from"./_2Os9YoA.js";import{_ as xe,a as _e,b as ue,c as ge,d as ve,e as ye}from"./Bm7X6Hn2.js";import{L as be,_ as he}from"./8dED6kvz.js";import{_ as we}from"./DxzTtcsr.js";import{_ as Ne}from"./rJKnUtux.js";import{m as j,y as Pe,n as ke,z as Fe,r as k,A as Se,F as l,M as h,T as C,o as y,c as A,a as s,b as e,w as a,q as f,p as g,v as w,x as L,d as R,B as Ce,C as Re,D as Ke,E as Ee,G as $e,t as Ge}from"./B0D-fAXP.js";import{u as Ie}from"./mesxdw0M.js";import{u as Ae}from"./PDzu7Mfb.js";import{E as D,a as B}from"./CY2X0dOR.js";import{_ as Ve}from"./DlAUqK2U.js";import"./5b1924lA.js";import"./BATwX7_A.js";const Me={class:"login-page flex flex-col !h-[100vh] overflow-hidden relative"},Te={class:"flex justify-between mt-[15px]"},Ue={class:"form overflow-y-auto scroll"},Le={class:"flex flex-col w-[900px] gap-[25px] pb-[20px]"},De={class:"company flex flex-col gap-5"},Be={class:"relative w-[82%] !m-[0px]"},je={class:"relative w-[82%] !m-[0px]"},qe={class:"information flex flex-col gap-5"},ze={class:"relative flex !m-[0px] gap-[20px]"},Oe={class:"relative w-[82%] !m-[0px]"},Ye={class:"flex flex-col gap-[15px] w-[82%]"},He={class:"flex gap-5 items-center !m-[0px]"},Je={class:"pic-position flex gap-5 items-center w-[90%]"},Qe={class:"pic-name flex items-center gap-5"},We={class:"relative !m-[0px]"},Xe={class:"relative !m-[0px]"},Ze={class:"flex gap-5 items-center !m-[0px]"},ea={class:"pic-name flex items-center gap-5"},aa={class:"relative !m-[0px]"},sa={class:"relative !m-[0px]"},ta={class:"flex flex-col gap-[15px] w-[82%]"},la={class:"flex gap-5 items-center !m-[0px]"},oa={class:"pic-position flex gap-5 items-center w-[90%]"},na={class:"pic-name flex items-center gap-5"},ia={class:"relative !m-[0px]"},ca={class:"relative !m-[0px]"},ra={class:"flex gap-5 items-center !m-[0px]"},pa={class:"pic-name flex items-center gap-5"},da={class:"relative !m-[0px]"},ma={class:"relative !m-[0px]"},fa={class:"contact flex flex-col gap-6"},xa={class:"relative w-[40%] !m-[0px]"},_a={class:"relative w-[82%] !m-[0px]"},ua={class:"relative w-[82%] !m-[0px]"},ga={class:"relative"},va={class:"relative w-[82%] !m-[0px]"},ya={class:"relative w-[82%] !m-[0px]"},ba={class:"relative w-[82%] !m-[0px]"},ha={class:"relative w-[82%] !m-[0px]"},wa={class:"relative"},Na={class:"relative w-[82%] !m-[0px]"},Pa={class:"flex max-w-[900px] justify-between py-[20px]"},ka={class:"flex gap-5"},Fa=j({__name:"index",setup(q){const V=Pe(),b=ke();Fe();const K=Ie(),{redirectPage:M}=Ae(),T=k(!1),z=k(),F=k(!1),N=/^[\u30A0-\u30FF]+$/,O=Se(()=>{var v;return(v=V.masterData)==null?void 0:v.kaigoSoftwares}),E=k(!1),$=k(!1),Y=oe(ne({companyName:m(i(l.companyName)).min(1,i(l.companyName)),companyNameKana:m(i(l.companyNameKana)).min(1,i(l.companyNameKana)).regex(N,{message:h.ERR005}),companyPostCode:m(i(l.companyPostCode)).min(1,l.companyPostCode),companyAddress:m(i(l.companyAddress)).min(1,l.companyAddress),frontPicPosition:m(i(l.frontPicPosition)).min(1,l.frontPicPosition),frontPicFamilyName:m(i(l.frontPicFamilyName)).min(1,l.frontPicFamilyName),frontPicGivenName:m(i(l.frontPicGivenName)).min(1,l.frontPicGivenName),frontPicFamilyNameKana:m(i(l.frontPicFamilyNameKana)).min(1,i(l.frontPicFamilyNameKana)).regex(N,{message:h.ERR005}),frontPicGivenNameKana:m(i(l.frontPicGivenNameKana)).min(1,i(l.frontPicGivenNameKana)).regex(N,{message:h.ERR005}),picPosition:m(i(l.picPosition)).min(1,l.picPosition),picFamilyName:m(i(l.picFamilyName)).min(1,l.picFamilyName),picGivenName:m(i(l.picGivenName)).min(1,l.picGivenName),picFamilyNameKana:m(i(l.picFamilyNameKana)).min(1,i(l.picFamilyNameKana)).regex(N,{message:h.ERR005}),picGivenNameKana:m(i(l.picGivenNameKana)).min(1,i(l.picGivenNameKana)).regex(N,{message:h.ERR005}),phoneNumber:m(i(l.phoneNumber)).min(1,l.phoneNumber),email:m(i(l.email)).min(1,l.email),password:m().min(8,{message:h.ERR007}).optional(),kaigoSoftware:m(ie(h.ERR002,l.kaigoSoftware)).min(1,l.kaigoSoftware),kaipokeCompanyId:m(i(l.kaipokeCompanyId)).min(1,l.kaipokeCompanyId),kaipokeUserId:m(i(l.kaipokeUserId)).min(1,l.kaipokeUserId),kaipokeUserPassword:m(i(l.kaipokeUserPassword)).min(8,{message:h.ERR007}),paymentMethod:m(i(l.paymentMethod)).min(1,l.paymentMethod)})),{handleSubmit:H,values:G,setFieldValue:J}=ce({validationSchema:Y}),Q=()=>{F.value=!F.value},W=async()=>{const v=G==null?void 0:G.companyPostCode;if(!v){b.setNotify({message:"郵便番号が存在しません。",type:C.error});return}$.value=!0;const t=await b.searchPostalCode(v);if(t!=null&&t.data){const{prefecture:P,city:x}=t.data,c=`${P} ${x}`;J("companyAddress",c),z.value=t.data}else b.setNotify({message:"郵便番号が存在しません。",type:C.error});$.value=!1},U=H(async v=>{var x;E.value=!0;const{password:t,...P}=v;await K.createNewCompany(P),E.value=!1,(x=b.notify)!=null&&x.message||X("新しい顧客の成功を生み出す。")},({errors:v})=>{const t=Object.values(v)[0];b.setNotify({message:t,type:C.error})}),X=v=>{b.setNotify({message:v,type:C.success}),setTimeout(()=>{M("/customer")},500)};return(v,t)=>{const P=re,x=xe,c=he,r=pe,p=de,d=me,S=fe,I=we,Z=_e,ee=ue,ae=ge,se=ve,te=ye,le=Ne;return y(),A("div",Me,[s("div",Te,[e(P,{class:"pl-[64px]"})]),s("form",{class:"register flex flex-col gap-[25px] pl-[64px] pt-[10px] pb-[15px]",onSubmit:t[2]||(t[2]=(...o)=>g(U)&&g(U)(...o))},[s("div",Ue,[s("div",Le,[e(x,{label:"必須項目です",position:"left",class:"mb-[10px]"}),s("div",De,[e(d,{name:"companyName"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"法人名",class:"w-[145px]"}),s("div",Be,[e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(d,{name:"companyNameKana"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"フリガナ",class:"w-[145px]"}),s("div",je,[e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024),e(S,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1})]),t[14]||(t[14]=s("div",{class:"space"},null,-1)),s("div",qe,[e(d,{name:"companyPostCode"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"郵便番号",class:"w-[145px] flex"}),s("div",ze,[e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024),e(I,{onClick:W,type:"button",variant:"cancel_btn",class:"!m-[0px] !rounded-3xl"},{default:a(()=>[g($)?(y(),w(g(be),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):L("",!0),t[3]||(t[3]=R(" 郵便番号から入力 "))]),_:1})])]),_:2},1024)]),_:1}),e(d,{name:"companyAddress"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"会社所在地",class:"w-[145px]"}),s("div",Oe,[e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(d,{name:"frontPicPosition"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"代表者",class:"w-[145px] flex pt-[14px] items-baseline"}),s("div",Ye,[s("div",He,[s("div",Je,[t[4]||(t[4]=s("span",{class:"label w-[35px]"},"役職",-1)),e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)]),s("div",Qe,[t[5]||(t[5]=s("span",{class:"label flex w-[54%]"},"お名前",-1)),e(d,{name:"frontPicFamilyName"},{default:a(({componentField:_,errors:u})=>[e(p,{class:"flex gap-5"},{default:a(()=>[s("div",We,[e(r,null,{default:a(()=>[e(c,f({type:"text",class:"placeholder:flex placeholder:text-center text-center"},_,{class:{"border-red-500":u.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(d,{name:"frontPicGivenName"},{default:a(({componentField:_,errors:u})=>[e(p,{class:"flex gap-5"},{default:a(()=>[s("div",Xe,[e(r,null,{default:a(()=>[e(c,f({type:"text",class:"placeholder:flex placeholder:text-center text-center"},_,{class:{"border-red-500":u.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),s("div",Ze,[t[7]||(t[7]=s("div",{class:"pic-position flex gap-5 items-center w-[90%]"},null,-1)),s("div",ea,[t[6]||(t[6]=s("span",{class:"label flex w-[54%]"},"フリガナ",-1)),e(d,{name:"frontPicFamilyNameKana"},{default:a(({componentField:_,errors:u})=>[e(p,{class:"flex gap-5"},{default:a(()=>[s("div",aa,[e(r,null,{default:a(()=>[e(c,f({type:"text",class:"placeholder:flex placeholder:text-center text-center"},_,{class:{"border-red-500":u.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(d,{name:"frontPicGivenNameKana"},{default:a(({componentField:_,errors:u})=>[e(p,{class:"flex gap-5"},{default:a(()=>[s("div",sa,[e(r,null,{default:a(()=>[e(c,f({type:"text",class:"placeholder:flex placeholder:text-center text-center"},_,{class:{"border-red-500":u.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1}),e(d,{name:"picPosition"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"ご担当者",class:"w-[145px] flex pt-[14px] items-baseline"}),s("div",ta,[s("div",la,[s("div",oa,[t[8]||(t[8]=s("span",{class:"label w-[35px]"},"役職",-1)),e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)]),s("div",na,[t[9]||(t[9]=s("span",{class:"label flex w-[54%]"},"お名前",-1)),e(d,{name:"picFamilyName"},{default:a(({componentField:_,errors:u})=>[e(p,{class:"flex gap-5"},{default:a(()=>[s("div",ia,[e(r,null,{default:a(()=>[e(c,f({type:"text",class:"placeholder:flex placeholder:text-center text-center"},_,{class:{"border-red-500":u.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(d,{name:"picGivenName"},{default:a(({componentField:_,errors:u})=>[e(p,{class:"flex gap-5"},{default:a(()=>[s("div",ca,[e(r,null,{default:a(()=>[e(c,f({type:"text",class:"placeholder:flex placeholder:text-center text-center"},_,{class:{"border-red-500":u.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),s("div",ra,[t[11]||(t[11]=s("div",{class:"pic-position flex gap-5 items-center w-[90%]"},null,-1)),s("div",pa,[t[10]||(t[10]=s("span",{class:"label flex w-[54%]"},"フリガナ",-1)),e(d,{name:"picFamilyNameKana"},{default:a(({componentField:_,errors:u})=>[e(p,{class:"flex gap-5"},{default:a(()=>[s("div",da,[e(r,null,{default:a(()=>[e(c,f({type:"text",class:"placeholder:flex placeholder:text-center text-center"},_,{class:{"border-red-500":u.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(d,{name:"picGivenNameKana"},{default:a(({componentField:_,errors:u})=>[e(p,{class:"flex gap-5"},{default:a(()=>[s("div",ma,[e(r,null,{default:a(()=>[e(c,f({type:"text",class:"placeholder:flex placeholder:text-center text-center"},_,{class:{"border-red-500":u.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1})]),t[15]||(t[15]=s("div",{class:"space"},null,-1)),s("div",fa,[e(d,{name:"phoneNumber"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"電話番号",class:"w-[145px]"}),s("div",xa,[e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(d,{name:"email"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"メールアドレス",class:"w-[145px]"}),s("div",_a,[e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"]),t[12]||(t[12]=s("span",{class:"absolute text-[10px] pt-[2px]"},"認証済みのメールアドレス",-1))]),_:2},1024)])]),_:2},1024)]),_:1}),e(d,{name:"password"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[t[13]||(t[13]=s("div",{class:"w-[145px]"},[s("span",null,"パスワード")],-1)),s("div",ua,[e(r,null,{default:a(()=>[s("div",ga,[e(c,f({disabled:"",type:g(T)?"text":"password"},o,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":n.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2",onClick:t[0]||(t[0]=(..._)=>v.togglePasswordVisibility&&v.togglePasswordVisibility(..._)),"aria-label":"Toggle password visibility"},[g(T)?(y(),w(g(B),{key:1,class:"h-5 w-3.5 text-black"})):(y(),w(g(D),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024),e(S,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1}),e(d,{name:"kaigoSoftware"},{default:a(({componentField:o,errors:n,meta:_})=>[e(p,{class:"relative flex gap-5"},{default:a(()=>[e(x,{label:"介護ソフト選択",class:"w-[145px]"}),s("div",va,[e(r,null,{default:a(()=>[e(te,Ce(Re(o)),{default:a(()=>[e(ee,{class:Ke({"border-red-500":n.length&&!o.modelValue})},{default:a(()=>[e(Z,{placeholder:"Select an option"})]),_:2},1032,["class"]),e(se,null,{default:a(()=>[(y(!0),A(Ee,null,$e(g(O),u=>(y(),w(ae,{value:`${u.id}`},{default:a(()=>[R(Ge(u.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040),e(S,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})]),_:2},1024)])]),_:2},1024)]),_:1}),e(d,{name:"kaipokeCompanyId"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"カイポケ法人ID",class:"w-[145px]"}),s("div",ya,[e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(d,{name:"kaipokeUserId"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"カイポケユーザーID",class:"w-[145px]"}),s("div",ba,[e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(d,{name:"kaipokeUserPassword"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"カイポケパスワード",class:"w-[145px]"}),s("div",ha,[e(r,null,{default:a(()=>[s("div",wa,[e(c,f({type:g(F)?"text":"password"},o,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":n.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2",onClick:Q,"aria-label":"Toggle password visibility"},[g(F)?(y(),w(g(B),{key:1,class:"h-5 w-3.5 text-black"})):(y(),w(g(D),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024),e(S,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1}),e(d,{name:"paymentMethod"},{default:a(({componentField:o,errors:n})=>[e(p,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"決済方法",class:"w-[145px]"}),s("div",Na,[e(r,null,{default:a(()=>[e(c,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1})])])]),s("div",Pa,[s("div",ka,[e(I,{type:"button",variant:"cancel_btn",class:"flex self-center",onClick:t[1]||(t[1]=o=>g(M)("/customer"))},{default:a(()=>t[16]||(t[16]=[R(" キャンセル ")])),_:1}),e(I,{variant:"export",class:"delete flex self-center"},{default:a(()=>t[17]||(t[17]=[R(" 登録 ")])),_:1})])])],32),g(E)?(y(),w(le,{key:0})):L("",!0)])}}}),Sa=Ve(Fa,[["__scopeId","data-v-40919d53"]]),Ca={class:"user-list px-4"},Da=j({__name:"index",setup(q){return(V,b)=>{const K=Sa;return y(),A("div",Ca,[b[0]||(b[0]=s("div",{class:"header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},[s("span",{class:"text-base font-bold"},"顧客管理")],-1)),e(K)])}}});export{Da as default};
