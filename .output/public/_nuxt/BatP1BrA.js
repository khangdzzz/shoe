import{t as ie,m as c,f as re,u as pe,_ as de,a as me,c as fe,F as xe,b as _e}from"./D-xkfC6J.js";import{_ as ue}from"./ChG297TC.js";import{_ as ge}from"./C2kf650O.js";import{_ as ve}from"./BGJAuMi4.js";import{_ as ye,a as be,b as he,c as we,d as Ne}from"./DMnKH7Zr.js";import{_ as ke}from"./cMe7C9R4.js";import{_ as Pe}from"./BzkCrmfe.js";import{o as Fe,s as m}from"./C7MCtxAn.js";import{g as Se}from"./SYyRSm0F.js";import{m as j,y as Ce,n as Re,z as Ee,r as k,A as Ke,F as l,M as h,T as E,o as y,c as T,a as s,b as e,w as a,q as f,p as g,v as w,x as B,d as K,B as $e,C as Ge,D as Ie,E as Ae,G as Ue,t as Te,H as Ve}from"./DJT-e2Rx.js";import{u as Le}from"./xwieret0.js";import{u as De}from"./Dk0_HobT.js";import{L as Be}from"./CWuiXZ63.js";import{E as M,a as O}from"./BbQ8xTek.js";import{_ as Me}from"./DlAUqK2U.js";import"./BBRaWW1J.js";import"./BTCxRw9G.js";const Oe={class:"login-page flex flex-col !h-[100vh] overflow-hidden relative"},je={class:"flex justify-between mt-[15px]"},qe={class:"form overflow-y-auto scroll"},ze={class:"flex flex-col w-[900px] gap-[25px] pb-[20px]"},He={class:"company flex flex-col gap-5"},Ye={class:"relative w-[82%] !m-[0px]"},Je={class:"relative w-[82%] !m-[0px]"},Qe={class:"information flex flex-col gap-5"},We={class:"relative flex !m-[0px] gap-[20px]"},Xe={class:"relative w-[82%] !m-[0px]"},Ze={class:"flex flex-col gap-[15px] w-[82%]"},ea={class:"flex gap-5 items-center !m-[0px]"},aa={class:"pic-position flex gap-5 items-center w-[50%]"},sa={class:"pic-name flex items-center gap-5 w-[50%]"},ta={class:"relative !m-[0px]"},la={class:"relative !m-[0px]"},oa={class:"flex gap-5 items-center !m-[0px]"},na={class:"pic-name flex items-center gap-5 w-[50%]"},ca={class:"relative !m-[0px]"},ia={class:"relative !m-[0px]"},ra={class:"flex flex-col gap-[15px] w-[82%]"},pa={class:"flex gap-5 items-center !m-[0px]"},da={class:"pic-position flex gap-5 items-center w-[50%]"},ma={class:"pic-name flex items-center gap-5 w-[50%]"},fa={class:"relative !m-[0px]"},xa={class:"relative !m-[0px]"},_a={class:"flex gap-5 items-center !m-[0px]"},ua={class:"pic-name flex items-center gap-5 w-[50%]"},ga={class:"relative !m-[0px]"},va={class:"relative !m-[0px]"},ya={class:"contact flex flex-col gap-6"},ba={class:"relative w-[40%] !m-[0px]"},ha={class:"relative w-[82%] !m-[0px]"},wa={class:"relative w-[82%] !m-[0px]"},Na={class:"relative"},ka={class:"relative w-[82%] !m-[0px]"},Pa={class:"relative w-[82%] !m-[0px]"},Fa={class:"relative w-[82%] !m-[0px]"},Sa={class:"relative w-[82%] !m-[0px]"},Ca={class:"relative"},Ra={class:"relative w-[82%] !m-[0px] flex gap-2 items-center"},Ea={class:"flex max-w-[900px] justify-between py-[20px]"},Ka={class:"flex gap-5"},$a=j({__name:"index",setup(q){const V=Ce(),b=Re();Ee();const $=Le(),{redirectPage:L}=De(),F=k(!1),z=k(),S=k(!1),P=/^[\u30A0-\u30FF]+$/,H=Ke(()=>{var v;return(v=V.masterData)==null?void 0:v.kaigoSoftwares}),G=k(!1),I=k(!1),C=k(!1),Y=ie(Fe({companyName:m(c(l.companyName)).min(1,c(l.companyName)).max(255,h.ERR011),companyNameKana:m(c(l.companyNameKana)).min(1,c(l.companyNameKana)).regex(P,{message:h.ERR005}),companyPostCode:m(c(l.companyPostCode)).min(1,l.companyPostCode),companyAddress:m(c(l.companyAddress)).min(1,l.companyAddress),frontPicPosition:m(c(l.frontPicPosition)).min(1,l.frontPicPosition),frontPicFamilyName:m(c(l.frontPicFamilyName)).min(1,l.frontPicFamilyName),frontPicGivenName:m(c(l.frontPicGivenName)).min(1,l.frontPicGivenName),frontPicFamilyNameKana:m(c(l.frontPicFamilyNameKana)).min(1,c(l.frontPicFamilyNameKana)).regex(P,{message:h.ERR005}),frontPicGivenNameKana:m(c(l.frontPicGivenNameKana)).min(1,c(l.frontPicGivenNameKana)).regex(P,{message:h.ERR005}),picPosition:m(c(l.picPosition)).min(1,l.picPosition),picFamilyName:m(c(l.picFamilyName)).min(1,l.picFamilyName),picGivenName:m(c(l.picGivenName)).min(1,l.picGivenName),picFamilyNameKana:m(c(l.picFamilyNameKana)).min(1,c(l.picFamilyNameKana)).regex(P,{message:h.ERR005}),picGivenNameKana:m(c(l.picGivenNameKana)).min(1,c(l.picGivenNameKana)).regex(P,{message:h.ERR005}),phoneNumber:m(c(l.phoneNumber)).min(1,l.phoneNumber),email:m(c(l.email)).min(1,l.email).email({message:h.ERR004}),password:Se(c(l.password)),kaigoSoftware:m(re(h.ERR002,l.kaigoSoftware)).min(1,l.kaigoSoftware),kaipokeCompanyId:m(c(l.kaipokeCompanyId)).min(1,l.kaipokeCompanyId),kaipokeUserId:m(c(l.kaipokeUserId)).min(1,l.kaipokeUserId),kaipokeUserPassword:m(c(l.kaipokeUserPassword)).min(8,{message:h.ERR007})})),{handleSubmit:J,values:A,setFieldValue:Q}=pe({validationSchema:Y}),W=()=>{S.value=!S.value},X=()=>{F.value=!F.value},Z=async()=>{const v=A==null?void 0:A.companyPostCode;if(!v){b.setNotify({message:"郵便番号が存在しません。",type:E.error});return}I.value=!0;const t=await b.searchPostalCode(v);if(t!=null&&t.data){const{prefecture:N,city:u}=t.data,i=`${N} ${u}`;Q("companyAddress",i),z.value=t.data}else b.setNotify({message:"郵便番号が存在しません。",type:E.error});I.value=!1},D=J(async v=>{var N;G.value=!0;const t={...v,keepLastPlanContentFlg:C.value?1:0};await $.createNewCompany(t),G.value=!1,(N=b.notify)!=null&&N.message||ee("新しい顧客の成功を生み出す。")},({errors:v})=>{const t=Object.values(v)[0];b.setNotify({message:t,type:E.error})}),ee=v=>{b.setNotify({message:v,type:E.success}),setTimeout(()=>{L("/customer")},500)};return(v,t)=>{const N=de,u=ue,i=ge,d=me,r=fe,p=xe,R=_e,U=ve,ae=ye,se=be,te=he,le=we,oe=Ne,ne=ke,ce=Pe;return y(),T("div",Oe,[s("div",je,[e(N,{class:"pl-[64px]"})]),s("form",{class:"register flex flex-col gap-[25px] pl-[64px] pt-[10px] pb-[15px]",onSubmit:t[2]||(t[2]=(...o)=>g(D)&&g(D)(...o))},[s("div",qe,[s("div",ze,[e(u,{label:"必須項目です",position:"left",class:"mb-[10px]"}),s("div",He,[e(p,{name:"companyName"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"法人名",class:"w-[160px]"}),s("div",Ye,[e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"companyNameKana"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"フリガナ",class:"w-[160px]"}),s("div",Je,[e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024),e(R,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1})]),t[15]||(t[15]=s("div",{class:"space"},null,-1)),s("div",Qe,[e(p,{name:"companyPostCode"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"郵便番号",class:"w-[160px] flex"}),s("div",We,[e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024),e(U,{onClick:Z,type:"button",variant:"cancel_btn",class:"!m-[0px] !rounded-3xl"},{default:a(()=>[g(I)?(y(),w(g(Be),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):B("",!0),t[3]||(t[3]=K(" 郵便番号から入力 "))]),_:1})])]),_:2},1024)]),_:1}),e(p,{name:"companyAddress"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"会社所在地",class:"w-[160px]"}),s("div",Xe,[e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"frontPicPosition"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"代表者",class:"w-[160px] flex pt-[14px] items-baseline"}),s("div",Ze,[s("div",ea,[s("div",aa,[t[4]||(t[4]=s("span",{class:"label w-[35px]"},"役職",-1)),e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)]),s("div",sa,[t[5]||(t[5]=s("span",{class:"label flex w-[19%]"},"お名前",-1)),e(p,{name:"frontPicFamilyName"},{default:a(({componentField:x,errors:_})=>[e(r,{class:"flex gap-5"},{default:a(()=>[s("div",ta,[e(d,null,{default:a(()=>[e(i,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},x,{class:{"border-red-500":_.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(p,{name:"frontPicGivenName"},{default:a(({componentField:x,errors:_})=>[e(r,{class:"flex gap-5"},{default:a(()=>[s("div",la,[e(d,null,{default:a(()=>[e(i,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},x,{class:{"border-red-500":_.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),s("div",oa,[t[7]||(t[7]=s("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),s("div",na,[t[6]||(t[6]=s("span",{class:"label flex w-[19%]"},"フリガナ",-1)),e(p,{name:"frontPicFamilyNameKana"},{default:a(({componentField:x,errors:_})=>[e(r,{class:"flex gap-5"},{default:a(()=>[s("div",ca,[e(d,null,{default:a(()=>[e(i,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},x,{class:{"border-red-500":_.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(p,{name:"frontPicGivenNameKana"},{default:a(({componentField:x,errors:_})=>[e(r,{class:"flex gap-5"},{default:a(()=>[s("div",ia,[e(d,null,{default:a(()=>[e(i,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},x,{class:{"border-red-500":_.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1}),e(p,{name:"picPosition"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"ご担当者",class:"w-[160px] flex pt-[14px] items-baseline"}),s("div",ra,[s("div",pa,[s("div",da,[t[8]||(t[8]=s("span",{class:"label w-[35px]"},"役職",-1)),e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)]),s("div",ma,[t[9]||(t[9]=s("span",{class:"label flex w-[19%]"},"お名前",-1)),e(p,{name:"picFamilyName"},{default:a(({componentField:x,errors:_})=>[e(r,{class:"flex gap-5"},{default:a(()=>[s("div",fa,[e(d,null,{default:a(()=>[e(i,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},x,{class:{"border-red-500":_.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(p,{name:"picGivenName"},{default:a(({componentField:x,errors:_})=>[e(r,{class:"flex gap-5"},{default:a(()=>[s("div",xa,[e(d,null,{default:a(()=>[e(i,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},x,{class:{"border-red-500":_.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),s("div",_a,[t[11]||(t[11]=s("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),s("div",ua,[t[10]||(t[10]=s("span",{class:"label flex w-[19%]"},"フリガナ",-1)),e(p,{name:"picFamilyNameKana"},{default:a(({componentField:x,errors:_})=>[e(r,{class:"flex gap-5"},{default:a(()=>[s("div",ga,[e(d,null,{default:a(()=>[e(i,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},x,{class:{"border-red-500":_.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(p,{name:"picGivenNameKana"},{default:a(({componentField:x,errors:_})=>[e(r,{class:"flex gap-5"},{default:a(()=>[s("div",va,[e(d,null,{default:a(()=>[e(i,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},x,{class:{"border-red-500":_.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1})]),t[16]||(t[16]=s("div",{class:"space"},null,-1)),s("div",ya,[e(p,{name:"phoneNumber"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"電話番号",class:"w-[160px]"}),s("div",ba,[e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"email"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"メールアドレス",class:"w-[160px]"}),s("div",ha,[e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"password"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"パスワード",class:"w-[160px]"}),s("div",wa,[e(d,null,{default:a(()=>[s("div",Na,[e(i,f({type:g(F)?"text":"password"},o,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":n.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2","aria-label":"Toggle password visibility",onClick:X},[g(F)?(y(),w(g(O),{key:1,class:"h-5 w-3.5 text-black"})):(y(),w(g(M),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024),e(R,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1}),e(p,{name:"kaigoSoftware"},{default:a(({componentField:o,errors:n,meta:x})=>[e(r,{class:"relative flex gap-5"},{default:a(()=>[e(u,{label:"介護ソフト選択",class:"w-[160px]"}),s("div",ka,[e(d,null,{default:a(()=>[e(oe,$e(Ge(o)),{default:a(()=>[e(se,{class:Ie({"border-red-500":n.length&&!o.modelValue})},{default:a(()=>[e(ae,{placeholder:"Select an option"})]),_:2},1032,["class"]),e(le,null,{default:a(()=>[(y(!0),T(Ae,null,Ue(g(H),_=>(y(),w(te,{value:`${_.id}`},{default:a(()=>[K(Te(_.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040),e(R,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"kaipokeCompanyId"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"カイポケ法人ID",class:"w-[160px]"}),s("div",Pa,[e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"kaipokeUserId"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"カイポケユーザーID",class:"w-[160px]"}),s("div",Fa,[e(d,null,{default:a(()=>[e(i,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"kaipokeUserPassword"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[e(u,{label:"カイポケパスワード",class:"w-[160px]"}),s("div",Sa,[e(d,null,{default:a(()=>[s("div",Ca,[e(i,f({type:g(S)?"text":"password"},o,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":n.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2",onClick:W,"aria-label":"Toggle password visibility"},[g(S)?(y(),w(g(O),{key:1,class:"h-5 w-3.5 text-black"})):(y(),w(g(M),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024),e(R,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1}),e(p,{name:"remainOldPlan"},{default:a(({componentField:o,errors:n})=>[e(r,{class:"flex gap-5"},{default:a(()=>[t[14]||(t[14]=s("span",{class:"w-[160px] flex items-center"},"前回の計画書内容を保持する",-1)),s("div",Ra,[t[12]||(t[12]=s("span",null,"OFF",-1)),e(ne,{checked:g(C),"onUpdate:checked":t[0]||(t[0]=x=>Ve(C)?C.value=x:null)},null,8,["checked"]),t[13]||(t[13]=s("span",null,"ON",-1))])]),_:1})]),_:1})])])]),s("div",Ea,[s("div",Ka,[e(U,{type:"button",variant:"cancel_btn",class:"flex self-center",onClick:t[1]||(t[1]=o=>g(L)("/customer"))},{default:a(()=>t[17]||(t[17]=[K(" キャンセル ")])),_:1}),e(U,{variant:"export",class:"delete flex self-center"},{default:a(()=>t[18]||(t[18]=[K(" 登録 ")])),_:1})])])],32),g(G)?(y(),w(ce,{key:0})):B("",!0)])}}}),Ga=Me($a,[["__scopeId","data-v-c9d9eca0"]]),Ia={class:"user-list px-4"},Xa=j({__name:"index",setup(q){return(V,b)=>{const $=Ga;return y(),T("div",Ia,[b[0]||(b[0]=s("div",{class:"header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},[s("span",{class:"text-base font-bold"},"顧客管理")],-1)),e($)])}}});export{Xa as default};
