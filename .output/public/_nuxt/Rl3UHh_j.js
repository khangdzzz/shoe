import{_ as Dt,a as Et,b as $t,d as At,e as Mt,f as Pt,c as kn}from"./DRXN5yPD.js";import{h as ve,c as jt}from"./7bxYAlim.js";import{m as N,A as U,o as w,v as O,w as v,K as fe,q as Lt,p,n as Re,r as x,g as H,J as pe,b as g,d as Y,I as X,aa as ut,S as Ee,c as L,E as se,G as oe,a as m,t as F,Z as xe,x as J,ac as dt,D as q,R as Ot,B as Be,C as Ue,ad as In,M as Tn,U as W}from"./D3lIf9C-.js";import{u as Dn}from"./BhfL0Kk9.js";import{c as Rt,a as En,N as $n,L as An,z as Mn,j as Pn,G as jn,U as Ln,H as On,q as Rn,Y as Bn,F as Un,_ as Bt,x as Ut,k as Fn,V as Nn,b as Vn,M as zn,O as Hn}from"./C0kJIpxr.js";import{_ as re}from"./DlAUqK2U.js";import{C as Yn,j as Kn,V as qn,u as Gn,S as Qn,_ as Wn,A as Jn,a as Xn,b as Zn,f as Ie}from"./BJoq0goN.js";import{C as es}from"./CvvDd0AO.js";import{C as ts}from"./jtREyRSB.js";import{L as Ft}from"./DUbbSyLK.js";import{_ as ns}from"./NzbhadIA.js";import{_ as ss}from"./CCXCKSDy.js";import{_ as os,a as rs,b as as,c as ls,d as is}from"./CCkOF_pJ.js";import{_ as cs}from"./Cr_yR-gK.js";import{_ as us}from"./Di6v2dXn.js";import{c as ds}from"./DaWW4iwV.js";import"./C7MCtxAn.js";/**
 * @license lucide-vue-next v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=ds("ShieldAlertIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),fs=N({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const s=e,n=U(()=>{const{class:o,...t}=s;return t});return(o,t)=>(w(),O(p(En),Lt(n.value,{class:p(Rt)("text-sm text-muted-foreground",s.class)}),{default:v(()=>[fe(o.$slots,"default")]),_:3},16,["class"]))}}),ps=N({__name:"notify-register-payment",setup(e){const s=Re(),{redirectPage:n}=Dn(),o=x(!1),t=U(()=>s.isLoadPermission);H(t,()=>{o.value=!ve()});const r=()=>{o.value=!1,n("/mypage")};return pe(()=>{setTimeout(()=>{o.value=!ve()},200)}),(a,l)=>{const c=Dt,i=Et,f=$t,h=At,_=Mt,I=Pt;return w(),O(I,{open:p(o),"onUpdate:open":l[0]||(l[0]=T=>X(o)?o.value=T:null)},{default:v(()=>[g(_,null,{default:v(()=>[g(i,{class:"flex flex-col gap-4 items-center"},{default:v(()=>[g(c,{class:"text-sm"},{default:v(()=>l[1]||(l[1]=[Y("決済方法は設定完了していないので、マイページより設定完了してください。")])),_:1})]),_:1}),g(h,{class:"flex !flex-col gap-4"},{default:v(()=>[g(f,{class:"flex self-center min-w-[120px]",onClick:r},{default:v(()=>l[2]||(l[2]=[Y("登録")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),ce=/^[a-z0-9]+(-[a-z0-9]+)*$/,Se=(e,s,n,o="")=>{const t=e.split(":");if(e.slice(0,1)==="@"){if(t.length<2||t.length>3)return null;o=t.shift().slice(1)}if(t.length>3||!t.length)return null;if(t.length>1){const l=t.pop(),c=t.pop(),i={provider:t.length>0?t[0]:o,prefix:c,name:l};return s&&!ge(i)?null:i}const r=t[0],a=r.split("-");if(a.length>1){const l={provider:o,prefix:a.shift(),name:a.join("-")};return s&&!ge(l)?null:l}if(n&&o===""){const l={provider:o,prefix:"",name:r};return s&&!ge(l,n)?null:l}return null},ge=(e,s)=>e?!!((e.provider===""||e.provider.match(ce))&&(s&&e.prefix===""||e.prefix.match(ce))&&e.name.match(ce)):!1,Nt=Object.freeze({left:0,top:0,width:16,height:16}),_e=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),we=Object.freeze({...Nt,..._e}),$e=Object.freeze({...we,body:"",hidden:!1});function ms(e,s){const n={};!e.hFlip!=!s.hFlip&&(n.hFlip=!0),!e.vFlip!=!s.vFlip&&(n.vFlip=!0);const o=((e.rotate||0)+(s.rotate||0))%4;return o&&(n.rotate=o),n}function pt(e,s){const n=ms(e,s);for(const o in $e)o in _e?o in e&&!(o in n)&&(n[o]=_e[o]):o in s?n[o]=s[o]:o in e&&(n[o]=e[o]);return n}function hs(e,s){const n=e.icons,o=e.aliases||Object.create(null),t=Object.create(null);function r(a){if(n[a])return t[a]=[];if(!(a in t)){t[a]=null;const l=o[a]&&o[a].parent,c=l&&r(l);c&&(t[a]=[l].concat(c))}return t[a]}return Object.keys(n).concat(Object.keys(o)).forEach(r),t}function gs(e,s,n){const o=e.icons,t=e.aliases||Object.create(null);let r={};function a(l){r=pt(o[l]||t[l],r)}return a(s),n.forEach(a),pt(e,r)}function Vt(e,s){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(t=>{s(t,null),n.push(t)});const o=hs(e);for(const t in o){const r=o[t];r&&(s(t,gs(e,t,r)),n.push(t))}return n}const ys={provider:"",aliases:{},not_found:{},...Nt};function Te(e,s){for(const n in s)if(n in e&&typeof e[n]!=typeof s[n])return!1;return!0}function zt(e){if(typeof e!="object"||e===null)return null;const s=e;if(typeof s.prefix!="string"||!e.icons||typeof e.icons!="object"||!Te(e,ys))return null;const n=s.icons;for(const t in n){const r=n[t];if(!t.match(ce)||typeof r.body!="string"||!Te(r,$e))return null}const o=s.aliases||Object.create(null);for(const t in o){const r=o[t],a=r.parent;if(!t.match(ce)||typeof a!="string"||!n[a]&&!o[a]||!Te(r,$e))return null}return s}const mt=Object.create(null);function bs(e,s){return{provider:e,prefix:s,icons:Object.create(null),missing:new Set}}function te(e,s){const n=mt[e]||(mt[e]=Object.create(null));return n[s]||(n[s]=bs(e,s))}function Fe(e,s){return zt(s)?Vt(s,(n,o)=>{o?e.icons[n]=o:e.missing.add(n)}):[]}function vs(e,s,n){try{if(typeof n.body=="string")return e.icons[s]={...n},!0}catch{}return!1}let ue=!1;function Ht(e){return typeof e=="boolean"&&(ue=e),ue}function _s(e){const s=typeof e=="string"?Se(e,!0,ue):e;if(s){const n=te(s.provider,s.prefix),o=s.name;return n.icons[o]||(n.missing.has(o)?null:void 0)}}function xs(e,s){const n=Se(e,!0,ue);if(!n)return!1;const o=te(n.provider,n.prefix);return vs(o,n.name,s)}function Ss(e,s){if(typeof e!="object")return!1;if(typeof s!="string"&&(s=e.provider||""),ue&&!s&&!e.prefix){let t=!1;return zt(e)&&(e.prefix="",Vt(e,(r,a)=>{a&&xs(r,a)&&(t=!0)})),t}const n=e.prefix;if(!ge({provider:s,prefix:n,name:"a"}))return!1;const o=te(s,n);return!!Fe(o,e)}const Yt=Object.freeze({width:null,height:null}),Kt=Object.freeze({...Yt,..._e}),ws=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Cs=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ht(e,s,n){if(s===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*s*n)/n;if(typeof e!="string")return e;const o=e.split(ws);if(o===null||!o.length)return e;const t=[];let r=o.shift(),a=Cs.test(r);for(;;){if(a){const l=parseFloat(r);isNaN(l)?t.push(r):t.push(Math.ceil(l*s*n)/n)}else t.push(r);if(r=o.shift(),r===void 0)return t.join("");a=!a}}function ks(e,s="defs"){let n="";const o=e.indexOf("<"+s);for(;o>=0;){const t=e.indexOf(">",o),r=e.indexOf("</"+s);if(t===-1||r===-1)break;const a=e.indexOf(">",r);if(a===-1)break;n+=e.slice(t+1,r).trim(),e=e.slice(0,o).trim()+e.slice(a+1)}return{defs:n,content:e}}function Is(e,s){return e?"<defs>"+e+"</defs>"+s:s}function Ts(e,s,n){const o=ks(e);return Is(o.defs,s+o.content+n)}const Ds=e=>e==="unset"||e==="undefined"||e==="none";function Es(e,s){const n={...we,...e},o={...Kt,...s},t={left:n.left,top:n.top,width:n.width,height:n.height};let r=n.body;[n,o].forEach(k=>{const y=[],V=k.hFlip,A=k.vFlip;let P=k.rotate;V?A?P+=2:(y.push("translate("+(t.width+t.left).toString()+" "+(0-t.top).toString()+")"),y.push("scale(-1 1)"),t.top=t.left=0):A&&(y.push("translate("+(0-t.left).toString()+" "+(t.height+t.top).toString()+")"),y.push("scale(1 -1)"),t.top=t.left=0);let z;switch(P<0&&(P-=Math.floor(P/4)*4),P=P%4,P){case 1:z=t.height/2+t.top,y.unshift("rotate(90 "+z.toString()+" "+z.toString()+")");break;case 2:y.unshift("rotate(180 "+(t.width/2+t.left).toString()+" "+(t.height/2+t.top).toString()+")");break;case 3:z=t.width/2+t.left,y.unshift("rotate(-90 "+z.toString()+" "+z.toString()+")");break}P%2===1&&(t.left!==t.top&&(z=t.left,t.left=t.top,t.top=z),t.width!==t.height&&(z=t.width,t.width=t.height,t.height=z)),y.length&&(r=Ts(r,'<g transform="'+y.join(" ")+'">',"</g>"))});const a=o.width,l=o.height,c=t.width,i=t.height;let f,h;a===null?(h=l===null?"1em":l==="auto"?i:l,f=ht(h,c/i)):(f=a==="auto"?c:a,h=l===null?ht(f,i/c):l==="auto"?i:l);const _={},I=(k,y)=>{Ds(y)||(_[k]=y.toString())};I("width",f),I("height",h);const T=[t.left,t.top,c,i];return _.viewBox=T.join(" "),{attributes:_,viewBox:T,body:r}}const $s=/\sid="(\S+)"/g,As="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Ms=0;function Ps(e,s=As){const n=[];let o;for(;o=$s.exec(e);)n.push(o[1]);if(!n.length)return e;const t="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(r=>{const a=typeof s=="function"?s(r):s+(Ms++).toString(),l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+a+t+"$3")}),e=e.replace(new RegExp(t,"g"),""),e}const Ae=Object.create(null);function js(e,s){Ae[e]=s}function Me(e){return Ae[e]||Ae[""]}function Ne(e){let s;if(typeof e.resources=="string")s=[e.resources];else if(s=e.resources,!(s instanceof Array)||!s.length)return null;return{resources:s,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Ve=Object.create(null),ie=["https://api.simplesvg.com","https://api.unisvg.com"],ye=[];for(;ie.length>0;)ie.length===1||Math.random()>.5?ye.push(ie.shift()):ye.push(ie.pop());Ve[""]=Ne({resources:["https://api.iconify.design"].concat(ye)});function Ls(e,s){const n=Ne(s);return n===null?!1:(Ve[e]=n,!0)}function ze(e){return Ve[e]}const Os=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let gt=Os();function Rs(e,s){const n=ze(e);if(!n)return 0;let o;if(!n.maxURL)o=0;else{let t=0;n.resources.forEach(a=>{t=Math.max(t,a.length)});const r=s+".json?icons=";o=n.maxURL-t-n.path.length-r.length}return o}function Bs(e){return e===404}const Us=(e,s,n)=>{const o=[],t=Rs(e,s),r="icons";let a={type:r,provider:e,prefix:s,icons:[]},l=0;return n.forEach((c,i)=>{l+=c.length+1,l>=t&&i>0&&(o.push(a),a={type:r,provider:e,prefix:s,icons:[]},l=c.length),a.icons.push(c)}),o.push(a),o};function Fs(e){if(typeof e=="string"){const s=ze(e);if(s)return s.path}return"/"}const Ns=(e,s,n)=>{if(!gt){n("abort",424);return}let o=Fs(s.provider);switch(s.type){case"icons":{const r=s.prefix,l=s.icons.join(","),c=new URLSearchParams({icons:l});o+=r+".json?"+c.toString();break}case"custom":{const r=s.uri;o+=r.slice(0,1)==="/"?r.slice(1):r;break}default:n("abort",400);return}let t=503;gt(e+o).then(r=>{const a=r.status;if(a!==200){setTimeout(()=>{n(Bs(a)?"abort":"next",a)});return}return t=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?n("abort",r):n("next",t)});return}setTimeout(()=>{n("success",r)})}).catch(()=>{n("next",t)})},Vs={prepare:Us,send:Ns};function zs(e){const s={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((t,r)=>t.provider!==r.provider?t.provider.localeCompare(r.provider):t.prefix!==r.prefix?t.prefix.localeCompare(r.prefix):t.name.localeCompare(r.name));let o={provider:"",prefix:"",name:""};return e.forEach(t=>{if(o.name===t.name&&o.prefix===t.prefix&&o.provider===t.provider)return;o=t;const r=t.provider,a=t.prefix,l=t.name,c=n[r]||(n[r]=Object.create(null)),i=c[a]||(c[a]=te(r,a));let f;l in i.icons?f=s.loaded:a===""||i.missing.has(l)?f=s.missing:f=s.pending;const h={provider:r,prefix:a,name:l};f.push(h)}),s}function qt(e,s){e.forEach(n=>{const o=n.loaderCallbacks;o&&(n.loaderCallbacks=o.filter(t=>t.id!==s))})}function Hs(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const s=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!s.length)return;let n=!1;const o=e.provider,t=e.prefix;s.forEach(r=>{const a=r.icons,l=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==t)return!0;const i=c.name;if(e.icons[i])a.loaded.push({provider:o,prefix:t,name:i});else if(e.missing.has(i))a.missing.push({provider:o,prefix:t,name:i});else return n=!0,!0;return!1}),a.pending.length!==l&&(n||qt([e],r.id),r.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),r.abort))})}))}let Ys=0;function Ks(e,s,n){const o=Ys++,t=qt.bind(null,n,o);if(!s.pending.length)return t;const r={id:o,icons:s,callback:e,abort:t};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(r)}),t}function qs(e,s=!0,n=!1){const o=[];return e.forEach(t=>{const r=typeof t=="string"?Se(t,s,n):t;r&&o.push(r)}),o}var Gs={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Qs(e,s,n,o){const t=e.resources.length,r=e.random?Math.floor(Math.random()*t):e.index;let a;if(e.random){let E=e.resources.slice(0);for(a=[];E.length>1;){const j=Math.floor(Math.random()*E.length);a.push(E[j]),E=E.slice(0,j).concat(E.slice(j+1))}a=a.concat(E)}else a=e.resources.slice(r).concat(e.resources.slice(0,r));const l=Date.now();let c="pending",i=0,f,h=null,_=[],I=[];typeof o=="function"&&I.push(o);function T(){h&&(clearTimeout(h),h=null)}function k(){c==="pending"&&(c="aborted"),T(),_.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),_=[]}function y(E,j){j&&(I=[]),typeof E=="function"&&I.push(E)}function V(){return{startTime:l,payload:s,status:c,queriesSent:i,queriesPending:_.length,subscribe:y,abort:k}}function A(){c="failed",I.forEach(E=>{E(void 0,f)})}function P(){_.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),_=[]}function z(E,j,G){const ne=j!=="success";switch(_=_.filter(C=>C!==E),c){case"pending":break;case"failed":if(ne||!e.dataAfterTimeout)return;break;default:return}if(j==="abort"){f=G,A();return}if(ne){f=G,_.length||(a.length?Z():A());return}if(T(),P(),!e.random){const C=e.resources.indexOf(E.resource);C!==-1&&C!==e.index&&(e.index=C)}c="completed",I.forEach(C=>{C(G)})}function Z(){if(c!=="pending")return;T();const E=a.shift();if(E===void 0){if(_.length){h=setTimeout(()=>{T(),c==="pending"&&(P(),A())},e.timeout);return}A();return}const j={status:"pending",resource:E,callback:(G,ne)=>{z(j,G,ne)}};_.push(j),i++,h=setTimeout(Z,e.rotate),n(E,s,j.callback)}return setTimeout(Z),V}function Gt(e){const s={...Gs,...e};let n=[];function o(){n=n.filter(l=>l().status==="pending")}function t(l,c,i){const f=Qs(s,l,c,(h,_)=>{o(),i&&i(h,_)});return n.push(f),f}function r(l){return n.find(c=>l(c))||null}return{query:t,find:r,setIndex:l=>{s.index=l},getIndex:()=>s.index,cleanup:o}}function yt(){}const De=Object.create(null);function Ws(e){if(!De[e]){const s=ze(e);if(!s)return;const n=Gt(s),o={config:s,redundancy:n};De[e]=o}return De[e]}function Js(e,s,n){let o,t;if(typeof e=="string"){const r=Me(e);if(!r)return n(void 0,424),yt;t=r.send;const a=Ws(e);a&&(o=a.redundancy)}else{const r=Ne(e);if(r){o=Gt(r);const a=e.resources?e.resources[0]:"",l=Me(a);l&&(t=l.send)}}return!o||!t?(n(void 0,424),yt):o.query(s,t,n)().abort}const bt="iconify2",de="iconify",Qt=de+"-count",vt=de+"-version",Wt=36e5,Xs=168,Zs=50;function Pe(e,s){try{return e.getItem(s)}catch{}}function He(e,s,n){try{return e.setItem(s,n),!0}catch{}}function _t(e,s){try{e.removeItem(s)}catch{}}function je(e,s){return He(e,Qt,s.toString())}function Le(e){return parseInt(Pe(e,Qt))||0}const Ce={local:!0,session:!0},Jt={local:new Set,session:new Set};let Ye=!1;function eo(e){Ye=e}let he=typeof window>"u"?{}:window;function Xt(e){const s=e+"Storage";try{if(he&&he[s]&&typeof he[s].length=="number")return he[s]}catch{}Ce[e]=!1}function Zt(e,s){const n=Xt(e);if(!n)return;const o=Pe(n,vt);if(o!==bt){if(o){const l=Le(n);for(let c=0;c<l;c++)_t(n,de+c.toString())}He(n,vt,bt),je(n,0);return}const t=Math.floor(Date.now()/Wt)-Xs,r=l=>{const c=de+l.toString(),i=Pe(n,c);if(typeof i=="string"){try{const f=JSON.parse(i);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>t&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&s(f,l))return!0}catch{}_t(n,c)}};let a=Le(n);for(let l=a-1;l>=0;l--)r(l)||(l===a-1?(a--,je(n,a)):Jt[e].add(l))}function en(){if(!Ye){eo(!0);for(const e in Ce)Zt(e,s=>{const n=s.data,o=s.provider,t=n.prefix,r=te(o,t);if(!Fe(r,n).length)return!1;const a=n.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,a):a,!0})}}function to(e,s){const n=e.lastModifiedCached;if(n&&n>=s)return n===s;if(e.lastModifiedCached=s,n)for(const o in Ce)Zt(o,t=>{const r=t.data;return t.provider!==e.provider||r.prefix!==e.prefix||r.lastModified===s});return!0}function no(e,s){Ye||en();function n(o){let t;if(!Ce[o]||!(t=Xt(o)))return;const r=Jt[o];let a;if(r.size)r.delete(a=Array.from(r).shift());else if(a=Le(t),a>=Zs||!je(t,a+1))return;const l={cached:Math.floor(Date.now()/Wt),provider:e.provider,data:s};return He(t,de+a.toString(),JSON.stringify(l))}s.lastModified&&!to(e,s.lastModified)||Object.keys(s.icons).length&&(s.not_found&&(s=Object.assign({},s),delete s.not_found),n("local")||n("session"))}function xt(){}function so(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,Hs(e)}))}function oo(e,s){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(s).sort():e.iconsToLoad=s,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:o}=e,t=e.iconsToLoad;delete e.iconsToLoad;let r;if(!t||!(r=Me(n)))return;r.prepare(n,o,t).forEach(l=>{Js(n,l,c=>{if(typeof c!="object")l.icons.forEach(i=>{e.missing.add(i)});else try{const i=Fe(e,c);if(!i.length)return;const f=e.pendingIcons;f&&i.forEach(h=>{f.delete(h)}),no(e,c)}catch(i){console.error(i)}so(e)})})}))}const ro=(e,s)=>{const n=qs(e,!0,Ht()),o=zs(n);if(!o.pending.length){let c=!0;return s&&setTimeout(()=>{c&&s(o.loaded,o.missing,o.pending,xt)}),()=>{c=!1}}const t=Object.create(null),r=[];let a,l;return o.pending.forEach(c=>{const{provider:i,prefix:f}=c;if(f===l&&i===a)return;a=i,l=f,r.push(te(i,f));const h=t[i]||(t[i]=Object.create(null));h[f]||(h[f]=[])}),o.pending.forEach(c=>{const{provider:i,prefix:f,name:h}=c,_=te(i,f),I=_.pendingIcons||(_.pendingIcons=new Set);I.has(h)||(I.add(h),t[i][f].push(h))}),r.forEach(c=>{const{provider:i,prefix:f}=c;t[i][f].length&&oo(c,t[i][f])}),s?Ks(s,o,r):xt};function ao(e,s){const n={...e};for(const o in s){const t=s[o],r=typeof t;o in Yt?(t===null||t&&(r==="string"||r==="number"))&&(n[o]=t):r===typeof n[o]&&(n[o]=o==="rotate"?t%4:t)}return n}const lo=/[\s,]+/;function io(e,s){s.split(lo).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function co(e,s=0){const n=e.replace(/^-?[0-9.]*/,"");function o(t){for(;t<0;)t+=4;return t%4}if(n===""){const t=parseInt(e);return isNaN(t)?0:o(t)}else if(n!==e){let t=0;switch(n){case"%":t=25;break;case"deg":t=90}if(t){let r=parseFloat(e.slice(0,e.length-n.length));return isNaN(r)?0:(r=r/t,r%1===0?o(r):0)}}return s}function uo(e,s){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in s)n+=" "+o+'="'+s[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function fo(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function po(e){return"data:image/svg+xml,"+fo(e)}function mo(e){return'url("'+po(e)+'")'}const St={...Kt,inline:!1},ho={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},go={display:"inline-block"},Oe={backgroundColor:"currentColor"},tn={backgroundColor:"transparent"},wt={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Ct={webkitMask:Oe,mask:Oe,background:tn};for(const e in Ct){const s=Ct[e];for(const n in wt)s[e+n]=wt[n]}const be={};["horizontal","vertical"].forEach(e=>{const s=e.slice(0,1)+"Flip";be[e+"-flip"]=s,be[e.slice(0,1)+"-flip"]=s,be[e+"Flip"]=s});function kt(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const It=(e,s)=>{const n=ao(St,s),o={...ho},t=s.mode||"svg",r={},a=s.style,l=typeof a=="object"&&!(a instanceof Array)?a:{};for(let k in s){const y=s[k];if(y!==void 0)switch(k){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[k]=y===!0||y==="true"||y===1;break;case"flip":typeof y=="string"&&io(n,y);break;case"color":r.color=y;break;case"rotate":typeof y=="string"?n[k]=co(y):typeof y=="number"&&(n[k]=y);break;case"ariaHidden":case"aria-hidden":y!==!0&&y!=="true"&&delete o["aria-hidden"];break;default:{const V=be[k];V?(y===!0||y==="true"||y===1)&&(n[V]=!0):St[k]===void 0&&(o[k]=y)}}}const c=Es(e,n),i=c.attributes;if(n.inline&&(r.verticalAlign="-0.125em"),t==="svg"){o.style={...r,...l},Object.assign(o,i);let k=0,y=s.id;return typeof y=="string"&&(y=y.replace(/-/g,"_")),o.innerHTML=Ps(c.body,y?()=>y+"ID"+k++:"iconifyVue"),ut("svg",o)}const{body:f,width:h,height:_}=e,I=t==="mask"||(t==="bg"?!1:f.indexOf("currentColor")!==-1),T=uo(f,{...i,width:h+"",height:_+""});return o.style={...r,"--svg":mo(T),width:kt(i.width),height:kt(i.height),...go,...I?Oe:tn,...l},ut("span",o)};Ht(!0);js("",Vs);if(typeof document<"u"&&typeof window<"u"){en();const e=window;if(e.IconifyPreload!==void 0){const s=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof s=="object"&&s!==null&&(s instanceof Array?s:[s]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!Ss(o))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const s=e.IconifyProviders;if(typeof s=="object"&&s!==null)for(let n in s){const o="IconifyProviders["+n+"] is invalid.";try{const t=s[n];if(typeof t!="object"||!t||t.resources===void 0)continue;Ls(n,t)||console.error(o)}catch{console.error(o)}}}}const yo={...we,body:""},Tt=N({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,s){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let n;if(typeof e!="string"||(n=Se(e,!1,!0))===null)return this.abortLoading(),null;const o=_s(n);if(!o)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",o!==null&&(this._loadingIcon={name:e,abort:ro([n],()=>{this.counter++})})),null;this.abortLoading(),this._name!==e&&(this._name=e,s&&s(e));const t=["iconify"];return n.prefix!==""&&t.push("iconify--"+n.prefix),n.provider!==""&&t.push("iconify--"+n.provider),{data:o,classes:t}}},render(){this.counter;const e=this.$attrs,s=this.iconMounted||e.ssr?this.getIcon(e.icon,e.onLoad):null;if(!s)return It(yo,e);let n=e;return s.classes&&(n={...e,class:(typeof e.class=="string"?e.class+" ":"")+s.classes.join(" ")}),It({...we,...s.data},n)}}),bo=N({__name:"auto-complete",props:{width:{type:String,default:"100%"},options:{type:Array,default:()=>[]}},emits:["update:selectedValue"],setup(e,{emit:s}){const n=e,o=s,t=x("");return H(()=>n.options,()=>{t.value=n.options[0]||""},{immediate:!0}),H(t,r=>{o("update:selectedValue",r)}),pe(()=>{t.value&&o("update:selectedValue",t.value)}),(r,a)=>(w(),O(p(Un),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=l=>t.value=l),class:"relative"},{default:v(()=>[g(p($n),{style:Ee({width:e.width}),class:"min-w-[120px] w-full inline-flex items-center justify-between rounded px-[15px] leading-none h-[30px] gap-[5px] bg-white hover:bg-mauve3 focus:shadow-[0_0_0_2px] focus:shadow-black data-[placeholder]:text-grass9 outline-none border border-input"},{default:v(()=>[g(p(An),{class:"!bg-transparent w-full outline-none h-full selection:bg-grass5 placeholder-mauve8"}),g(p(Mn),null,{default:v(()=>[g(p(Tt),{icon:"radix-icons:chevron-down",class:"h-4 w-4"})]),_:1})]),_:1},8,["style"]),g(p(Pn),{style:Ee({width:e.width}),class:"combobox-content absolute !z-12 w-full mt-[1px] min-w-[120px] bg-white overflow-hidden rounded shadow-[0px_10px_38px_-10px_rgba(22,_23,_24,_0.35),_0px_10px_20px_-15px_rgba(22,_23,_24,_0.2)] will-change-[opacity,transform] data-[side=top]:animate-slideDownAndFade data-[side=right]:animate-slideLeftAndFade data-[side=bottom]:animate-slideUpAndFade data-[side=left]:animate-slideRightAndFade"},{default:v(()=>[g(p(jn),{class:"p-[5px]"},{default:v(()=>[g(p(Ln),{class:"text-mauve8 text-xs font-medium text-center py-2"}),g(p(On),null,{default:v(()=>[(w(!0),L(se,null,oe(e.options,(l,c)=>(w(),O(p(Rn),{key:c,class:"text-[13px] leading-none rounded-[3px] flex items-center h-[25px] pr-[35px] pl-[25px] relative select-none data-[disabled]:text-mauve8 data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-mauve3 data-[highlighted]:text-black",value:l},{default:v(()=>[g(p(Bn),{class:"absolute left-0 w-[25px] inline-flex items-center justify-center"},{default:v(()=>[g(p(Tt),{icon:"radix-icons:check"})]),_:1}),m("span",null,F(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]))}}),vo=re(bo,[["__scopeId","data-v-e91b8b78"]]),_o={class:"date-search flex items-center gap-3"},xo={class:"label font-medium"},So={class:"flex items-center gap-2"},wo={class:"h-[30px] flex items-center justify-between px-4 bg-white rounded cursor-pointer"},Co=N({__name:"date",props:{title:{}},emits:["update:selectedDate"],setup(e,{emit:s}){const n=s,t=x((()=>{const i=new Date,f=i.getFullYear(),h=i.getMonth()+1;return{year:f,month:h}})()),r=x(""),a=()=>{const{year:i,month:f}=t.value;r.value=`${i}/${f.toString().padStart(2,"0")}`,n("update:selectedDate",r.value)},l=i=>{let{year:f,month:h}=t.value;h+=i,h>12?(h=1,f+=1):h<1&&(h=12,f-=1),c.value={year:f,month:h-1}};pe(()=>{a()});const c=x({year:t.value.year,month:t.value.month-1});return H(c,()=>{t.value={year:c.value.year,month:c.value.month+1},a()}),(i,f)=>(w(),L("div",_o,[m("span",xo,F(i.title),1),m("div",So,[m("button",{class:"flex items-center gap-1 bg-gray-300 text-gray-700 pl-2 pr-3 py-[5px] rounded-md hover:bg-gray-400",onClick:f[0]||(f[0]=h=>l(-1))},[g(p(Yn),{class:"w-4 h-4"}),f[3]||(f[3]=Y(" 前月 "))]),g(p(qn),{modelValue:p(c),"onUpdate:modelValue":f[1]||(f[1]=h=>X(c)?c.value=h:null),"month-picker":"","auto-apply":"","format-locale":p(Kn),format:"E"},{trigger:v(()=>[m("div",wo,[m("span",null,F(p(r)),1),g(p(es),{class:"w-4 h-4"})])]),_:1},8,["modelValue","format-locale"]),m("button",{class:"flex items-center gap-1 bg-gray-300 text-gray-700 pl-3 pr-2 py-[5px] rounded-md hover:bg-gray-400",onClick:f[2]||(f[2]=h=>l(1))},[f[4]||(f[4]=Y(" 翌月 ")),g(p(ts),{class:"w-4 h-4"})])])]))}}),ko=re(Co,[["__scopeId","data-v-fb31c05b"]]),Io={class:"search flex justify-between items-center min-h-[80px] !px-[25px] max-lg:!px-[10px] max-lg:flex-col max-lg:gap-5 max-lg:justify-start"},To={class:"office flex gap-5 items-center font-medium w-full"},Do={class:"date w-full"},Eo=N({__name:"index",emits:["update:officeId","update:targetYearMonth"],setup(e,{emit:s}){const n=xe(),o=Re(),t=x(""),r=x(""),a=x(!1),l=s,c=U(()=>n.offices.map(I=>I.officeName)),i=U(()=>{var I;return(I=n.offices.find(T=>T.officeName===t.value))==null?void 0:I.id});H(i,()=>{l("update:officeId",i.value)}),H(r,()=>{l("update:targetYearMonth",r.value)});const f=async()=>{a.value=!0,await n.crawlCompanyUserStatus().finally(()=>{a.value=!1,setTimeout(()=>{window.location.reload()},500)})},h=U(()=>o.isLoadPermission),_=U(()=>(h.value,jt(r==null?void 0:r.value)&&ve()));return(I,T)=>{const k=vo,y=ko,V=Bt;return w(),L("div",Io,[m("div",To,[T[2]||(T[2]=m("span",{class:"label"},"事業所",-1)),g(k,{width:"300px",options:p(c),"onUpdate:selectedValue":T[0]||(T[0]=A=>t.value=A)},null,8,["options"])]),m("div",Do,[g(y,{title:"表示年月","onUpdate:selectedDate":T[1]||(T[1]=A=>r.value=A)})]),g(V,{onClick:f,disabled:!p(_)},{default:v(()=>[p(a)?(w(),O(p(Ft),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):J("",!0),T[3]||(T[3]=Y("更新 "))]),_:1},8,["disabled"])])}}}),$o=re(Eo,[["__scopeId","data-v-3518c8b1"]]),Ao={class:"flex flex-col items-center"},Mo={class:"grid grid-cols-5 gap-2 mb-4"},Po=["onClick"],jo=N({__name:"character",setup(e){const s=xe(),n=x(dt.map(l=>({...l,selected:!1}))),o=U(()=>s.userNameKana);H(o,()=>{n.value=dt.map(l=>{var i;const c=(i=o.value)==null?void 0:i.some(f=>f.startsWith(l.label)||f.startsWith(l.label2));return{...l,disabled:!c,selected:!1}})});const t=l=>l.disabled?"h-[25px] w-[25px] bg-gray-400 text-white rounded-md cursor-not-allowed ":l.selected?"h-[25px] w-[25px] border border-blue-500 text-blue-500 rounded-md ":"h-[25px] w-[25px] border border-black rounded-md hover:bg-gray-100 ",r=l=>{l.disabled||(l.selected=!l.selected),s.charactersSelected=n.value.filter(c=>c.selected).map(c=>`${c.label}, ${c.label2}`)},a=()=>{n.value.forEach(l=>{l.selected=!1}),s.charactersSelected=[]};return(l,c)=>(w(),L("div",Ao,[m("div",Mo,[(w(!0),L(se,null,oe(p(n),(i,f)=>(w(),L("button",{key:f,class:q(t(i)),onClick:h=>r(i)},F(i.label),11,Po))),128))]),m("button",{class:"py-2 px-4 border border-black rounded-full text-black hover:bg-gray-200",onClick:a}," 条件クリア ")]))}}),Lo=re(jo,[["__scopeId","data-v-0c7e4a10"]]),Oo=N({__name:"status",props:{cssStyle:{},type:{},selectedStatus:{}},emits:["filterStatus"],setup(e,{emit:s}){const n=e,{type:o}=Ot(n),t=x(n.selectedStatus),r={0:"未実行",1:"実行予定",2:"実行済み",3:"実行エラー"},a=s,l=Object.entries(r).map(([c,i])=>({id:Number(c),value:i}));return H(()=>n.selectedStatus,c=>{t.value=c}),H(t,()=>{a("filterStatus",{status:t.value,type:o.value})}),(c,i)=>{const f=os,h=rs,_=as,I=ls,T=is;return w(),L("div",{class:q(c.cssStyle)},[g(T,{modelValue:p(t),"onUpdate:modelValue":i[0]||(i[0]=k=>X(t)?t.value=k:null)},{default:v(()=>[g(h,{class:"w-full"},{default:v(()=>[g(f,{placeholder:""})]),_:1}),g(I,null,{default:v(()=>[g(_,{value:"999"},{default:v(()=>i[1]||(i[1]=[Y("すべて")])),_:1}),(w(!0),L(se,null,oe(p(l),k=>(w(),O(_,{value:`${k.id}`},{default:v(()=>[Y(F(k.value),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])],2)}}}),Ro=N({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(e,{emit:s}){const t=Ut(e,s);return(r,a)=>(w(),O(p(Fn),Be(Ue(p(t))),{default:v(()=>[fe(r.$slots,"default")]),_:3},16))}}),Bo=N({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:s}){const n=e,o=s,t=U(()=>{const{class:a,...l}=n;return l}),r=Ut(t,o);return(a,l)=>(w(),O(p(Vn),null,{default:v(()=>[g(p(Nn),Lt({...p(r),...a.$attrs},{class:p(Rt)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:v(()=>[fe(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Uo=N({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;return(n,o)=>(w(),O(p(zn),Be(Ue(s)),{default:v(()=>[fe(n.$slots,"default")]),_:3},16))}}),Fo=N({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const s=e;return(n,o)=>(w(),O(p(Hn),Be(Ue(s)),{default:v(()=>[fe(n.$slots,"default")]),_:3},16))}}),No={class:"table-container overflow-auto border-b"},Vo={class:"w-full table-fixed"},zo={class:"pl-5"},Ho=N({__name:"confirm-create-report",props:{users:{type:Array,default:()=>[]},isOpen:{type:Boolean,default:!1}},emits:["close","export"],setup(e,{emit:s}){const n=e,o=x(n.isOpen);H(()=>n.isOpen,c=>{o.value=c});const t=x(!1),r=s,a=()=>{r("close")},l=()=>{t.value=!0,r("export"),setTimeout(()=>{t.value=!1,r("close")},1e3)};return(c,i)=>{const f=Dt,h=Et,_=fs,I=$t,T=kn,k=At,y=Mt,V=Pt;return w(),O(V,{open:p(o),"onUpdate:open":i[0]||(i[0]=A=>X(o)?o.value=A:null)},{default:v(()=>[g(y,null,{default:v(()=>[g(h,{class:"flex flex-col gap-4 items-center"},{default:v(()=>[g(f,{class:"text-sm"},{default:v(()=>i[1]||(i[1]=[Y("実行の確認")])),_:1})]),_:1}),g(_,null,{default:v(()=>i[2]||(i[2]=[m("span",null,"以下を実行します、よろしいですか？",-1)])),_:1}),m("div",No,[m("table",Vo,[i[5]||(i[5]=m("thead",{class:"bg-[#adadad] sticky top-0 z-10"},[m("tr",{class:"border border-[#adadad]"},[m("th",{class:"py-3 w-[50%]"},[m("span",{class:"flex items-center justify-center px-4 text-black border-white border-r-2"},"利用者")]),m("th",{class:"py-3 w-[25%]"},[m("span",{class:"flex items-center justify-center px-4 text-black border-white border-r-2"},"報告書")]),m("th",{class:"py-3 w-[25%]"},[m("span",{class:"flex items-center justify-center px-4 text-black"},"計画書")])])],-1)),m("tbody",null,[(w(!0),L(se,null,oe(e.users,(A,P)=>(w(),L("tr",{key:P,class:"h-10 hover:cursor-pointer hover:bg-[#cfcfcf47] border border-gray-300"},[m("td",null,[m("span",zo,F(A.nameKanji),1)]),m("td",{class:q(A.reportStatus===99?"visible":"invisible")},i[3]||(i[3]=[m("span",{class:"text-center flex justify-center bg-[#ccc] py-[8px] mx-[5px] rounded"},"実行",-1)]),2),m("td",{class:q(A.planStatus===99?"visible":"invisible")},i[4]||(i[4]=[m("span",{class:"text-center flex justify-center bg-[#ccc] py-[8px] mx-[5px] rounded"},"実行",-1)]),2)]))),128))])])]),g(k,{class:"flex !flex-col gap-4"},{default:v(()=>[g(I,{class:"flex self-center min-w-[120px]",onClick:l},{default:v(()=>[p(t)?(w(),O(p(Ft),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):J("",!0),i[6]||(i[6]=Y("実行"))]),_:1}),g(T,{class:"flex self-center border border-gray-300 min-w-[120px]",onClick:a},{default:v(()=>i[7]||(i[7]=[Y("キャンセル")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),Yo=re(Ho,[["__scopeId","data-v-04b4db2b"]]),Ko={class:"user-container flex flex-col gap-2 overflow-hidden"},qo={class:"action flex justify-between pr-5 max-lg:flex-col max-lg:gap-5"},Go={class:"flex gap-4 items-center"},Qo={class:"relative w-full max-w-[220px] items-center justify-center"},Wo={class:"absolute start-0 inset-y-0 flex items-center justify-center px-2"},Jo={class:"flex items-center gap-2"},Xo={id:"toggle-report-element",class:"flex! items-center justify-center space-x-2 absolute duration-10 ease-linear whitespace-nowrap top-0"},Zo={id:"toggle-plan-element",class:"flex! items-center justify-center space-x-2 absolute duration-10 ease-linear whitespace-nowrap top-0"},er={class:"w-full flex relative flex-col mt-[35px]"},tr={class:"w-full table-fixed",id:"table-user"},nr={class:"sticky top-0 z-10"},sr={class:"bg-[#afeeee] mt-[20px]"},or=["id"],rr=["onClick"],ar={key:0},lr=["colspan"],ir={key:0},cr={key:1},ur=["innerHTML"],dr=["innerHTML"],fr=["onClick"],pr=["onClick"],mr={key:1,class:"absolute w-full h-full bg-[#f7f5f505] flex justify-center items-center z-50"},hr={class:"flex justify-end mr-[35px]"},B=99,gr=N({__name:"index",props:{officeId:{type:Number},targetYearMonth:{type:String}},setup(e,{expose:s}){const n=e,{officeId:o,targetYearMonth:t}=Ot(n),r=xe(),a=Re(),{toast:l}=Gn(),c=x(""),i=x(""),f=x(!1),h=x(!1),_=x(!1),I=x(!1),T=x(!0),k=x("999"),y=x("999"),V=x([]),A=[{label:"利用者",width:"16%",key:"nameKanji",isSort:!0},{label:"生年月日",width:"12%",key:"birthday",isSort:!0},{label:"報告書",width:"12%",key:"reportStatus",isSort:!1},{label:"実行日時",width:"15%",key:"reportDate",isSort:!1},{label:"計画書",width:"12%",key:"planStatus",isSort:!1},{label:"実行日時",width:"15%",key:"planDate",isSort:!1},{label:"報告書",width:"9%",key:"actionReport",isSort:!1},{label:"計画書",width:"9%",key:"actionPlan",isSort:!1}],P={0:"未実行",1:"実行予定",2:"実行済み",3:"実行エラー"},z=U(()=>r.isLoadCompanyUsers),Z=U(()=>r.charactersSelected),E=U(()=>r.isHaveDataCompanyUsers),j=U(()=>r.companyUsers),G=U(()=>a.notify),ne=U(()=>r.isOpenNotifyCrawler),C=x([]);H(j,()=>{h.value=!1,_.value=!1,C.value=ae()}),H([c,Z,i],()=>{C.value=ae()}),H(C,d=>{const u=d.some(b=>b.reportStatus===B||b.planStatus===B);T.value=!u}),H([k,y],()=>{C.value=ae()});const ae=d=>{let u=d??[...j.value];return c.value&&(u=fn(u)),Z.value.length&&(u=on(u)),i.value&&(u=rn(u)),(k.value!=="999"||y.value!=="999")&&(u=nn(u)),u},Ke=({status:d,type:u})=>{u==="report"&&(k.value=d),u==="plan"&&(y.value=d)},nn=d=>{const u=Number(k.value),b=Number(y.value);return d.filter(S=>u!==999&&b!==999?S.reportStatus===u&&S.planStatus===b:u!==999?S.reportStatus===u:b!==999?S.planStatus===b:!0)},sn=()=>{!_.value?(C.value=an(C.value),h.value&&ke(h.value)):(C.value=C.value.map(u=>{var b;return{...u,reportStatus:((b=j.value.find(S=>S.id===u.id))==null?void 0:b.reportStatus)??0}}),C.value=ae(C.value),h.value=!1,ke(h.value))},ke=d=>{(d!==void 0?d:!h.value)?C.value=ln(C.value):(C.value=C.value.map(b=>{var S;return{...b,planStatus:((S=j.value.find($=>$.id===b.id))==null?void 0:S.planStatus)??0}}),C.value=ae(C.value))},on=d=>d.filter(u=>Z.value.some(b=>{const[S,$]=b.split(",");return u.nameKana.startsWith(S.trim())||u.nameKana.startsWith($.trim())})),rn=d=>d.filter(u=>u.nameKanji.includes(i.value)),an=d=>d.map(u=>({...u,reportStatus:u.reportStatus===0||u.reportStatus===3?B:u.reportStatus})),ln=d=>d.map(u=>({...u,planStatus:(u.planStatus===0||u.planStatus===3)&&u.reportStatus!==0&&u.reportStatus!==3?B:u.planStatus})),qe=d=>d?d===1||d===B?P[1]:d===2?P[2]:d===3?P[3]:P[0]:P[0],Ge=d=>{d||(d=0);let u="flex justify-center items-center py-2 ml-2 rounded-sm ";switch(d){case 0:u+="bg-[#d4e9d3]";break;case 1:case B:u+="bg-[#fff3cb]";break;case 2:u+="bg-[#d9e8fc]";break;case 3:u+="bg-[#f8cecb]";break}return u},cn=d=>{d||(d=0);let u="flex justify-center items-center py-2 ml-2 rounded-sm mx-1 ";switch(d){case 0:case 3:u+=ee.value?"border border-gray-300 bg-[#ccc] opacity-50 cursor-not-allowed":"border border-gray-300 hover:bg-[#faeded]";break;case 1:case 2:u+="bg-[#afeeed]";break;case B:u+="bg-[#afeeed] hover:bg-[#77f6f4]";break}return u},un=d=>{const u=d.reportStatus??0,b=d.planStatus??0;let S="flex justify-center items-center py-2 ml-2 rounded-sm mx-1 ";switch(b){case 0:case 3:S+=[B,1,2].includes(u)&&!ee.value?"border border-gray-300 hover:bg-[#faeded]":"border border-gray-300 bg-[#ccc] opacity-50 cursor-not-allowed";break;case 1:case 2:S+="bg-[#afeeed]";break;case B:S+="bg-[#afeeed] hover:bg-[#77f6f4]";break}return S},dn=d=>{if(!d.isSort)return;const[u,b]=c.value.split(":"),S=u===d.key?b===W.ASC?W.DESC:"":W.ASC;c.value=S?`${d.key}:${S}`:""},fn=d=>{const[u,b]=c.value.split(":");return d.sort((S,$)=>{const M=S[u],R=$[u];if(typeof M=="number"&&typeof R=="number")return b===W.DESC?R-M:M-R;if(typeof M=="string"&&typeof R=="string"){const K=new Date(M),Q=new Date(R);return!isNaN(K.getTime())&&!isNaN(Q.getTime())?b===W.DESC?Q.getTime()-K.getTime():K.getTime()-Q.getTime():b===W.DESC?R.localeCompare(M):M.localeCompare(R)}return 0})},pn=d=>{var M;if(ee.value)return;const{id:u,reportStatus:b}=d;if(![0,3,B].includes(b))return;const S=((M=j.value.find(R=>R.id===u))==null?void 0:M.reportStatus)??0,$=b===B?S:B;C.value=C.value.map(mn(d.id,$)),$!=B&&Qe(d,!0)},Qe=(d,u)=>{var K;if(ee.value)return;const{id:b,planStatus:S,reportStatus:$}=d,M=((K=j.value.find(Q=>Q.id===b))==null?void 0:K.planStatus)??0;if(u){C.value=C.value.map(We(d.id,M));return}if(![0,3,B].includes(S)||[0,3].includes($))return;const R=S===B?M:B;C.value=C.value.map(We(d.id,R))},mn=(d,u)=>b=>b.id===d?{...b,reportStatus:u}:b,We=(d,u)=>b=>b.id===d?{...b,planStatus:u}:b,hn=()=>{V.value=C.value.filter(d=>d.reportStatus===99||d.planStatus===99),f.value=!0},gn=async()=>{var S;r.isLoadCompanyUsers=!0;const d=V.value.map($=>{const{id:M}=$,R=$.reportStatus===99?1:0,K=$.planStatus===99?1:0;return{id:M,isExecuteReport:R,isExecutePlan:K}});if(!(o!=null&&o.value)||!(t!=null&&t.value))return;const u={officeId:o==null?void 0:o.value,targetYearMonth:t==null?void 0:t.value,users:d};if(await r.bulkExportReport(u),(S=G.value)!=null&&S.message){Je("destructive",G.value.message),r.isLoadCompanyUsers=!1;return}await r.getCompanyUseStatus({officeId:o==null?void 0:o.value,targetYearMonth:t==null?void 0:t.value}),r.isLoadCompanyUsers=!1,Je("default","利用者の報告書／計画書実行のリクエストを受領しました。システムからの通知メールにて状況をご確認ください")},Je=(d,u)=>{l({description:u,variant:d,duration:1e3})},Xe=x(),Ze=x(),et=x(),tt=x(),nt=x(),st=x(),ot=x(),rt=x(),at=x(),lt=x(),yn=x(0);pe(()=>{var d;Xe.value=document.getElementById("select-report-element"),Ze.value=document.getElementById("column-3"),et.value=document.getElementById("select-plan-element"),tt.value=document.getElementById("column-5"),nt.value=document.getElementById("toggle-report-element"),st.value=document.getElementById("column-7"),ot.value=document.getElementById("toggle-plan-element"),rt.value=document.getElementById("column-8"),at.value=document.getElementById("table-user"),lt.value=(d=at.value)==null?void 0:d.getBoundingClientRect(),me(),window.addEventListener("resize",me)});const me=()=>{const d=lt.value,u=[{element:Xe.value,column:Ze.value,position:35},{element:et.value,column:tt.value,position:35},{element:nt.value,column:st.value,position:30},{element:ot.value,column:rt.value,position:30}],b=()=>{u.forEach(({element:S,column:$,position:M})=>{bn(S,$,M,d)})};b(),setTimeout(b,50)},bn=(d,u,b,S)=>{if(!d||!u)return;const $=u.getBoundingClientRect();d.style.left=`${$.left+window.scrollX}px`,d.style.top=`${$.top+window.scrollY-b}px`,d.style.width=`${$.width-10}px`,S&&S.left>$.left||window.innerWidth-$.left-$.width<5?(d.style.zIndex="-1",d.style.display="none"):(d.style.zIndex="5",d.style.display="flex")},vn=d=>{d.target.scrollLeft!==yn.value&&me()};In(()=>{me()});const _n=U(()=>a.isLoadPermission),ee=U(()=>(_n.value,!(jt(t==null?void 0:t.value)&&ve())));return s({resetFilterTable:()=>{i.value="",k.value="999",y.value="999",I.value=!1,c.value=""}}),(d,u)=>{const b=ns,S=ss,$=Oo,M=cs,R=Uo,K=Bo,Q=Ro,it=Fo,xn=us,Sn=Bt,wn=Yo,Cn=Wn;return w(),L("div",Ko,[m("div",qo,[m("div",Go,[m("div",Qo,[g(b,{id:"search",type:"text",placeholder:"Search",class:"pl-10",modelValue:p(i),"onUpdate:modelValue":u[0]||(u[0]=D=>X(i)?i.value=D:null)},null,8,["modelValue"]),m("span",Wo,[g(p(Qn),{class:"w-4 h-4 text-muted-foreground"})])]),m("div",Jo,[g(S,{id:"terms",checked:p(I),"onUpdate:checked":u[1]||(u[1]=D=>X(I)?I.value=D:null)},null,8,["checked"]),u[7]||(u[7]=m("span",{for:"terms",class:"flex text-xs flex-shrink-0"}," 和暦表示 ",-1))])])]),g($,{id:"select-report-element",cssStyle:"absolute duration-10 ease-linear whitespace-nowrap top-0",type:"report","selected-status":p(k),onFilterStatus:Ke},null,8,["selected-status"]),g($,{id:"select-plan-element",cssStyle:"absolute duration-10 ease-linear whitespace-nowrap top-0",type:"plan","selected-status":p(y),onFilterStatus:Ke},null,8,["selected-status"]),m("div",Xo,[g(M,{disabled:p(ee),checked:p(_),"onUpdate:checked":u[2]||(u[2]=D=>X(_)?_.value=D:null),onClick:u[3]||(u[3]=()=>sn())},null,8,["disabled","checked"]),u[8]||(u[8]=m("span",null,"一括",-1))]),m("div",Zo,[g(M,{disabled:p(ee),checked:p(h),"onUpdate:checked":u[4]||(u[4]=D=>X(h)?h.value=D:null),onClick:u[5]||(u[5]=()=>ke())},null,8,["disabled","checked"]),u[9]||(u[9]=m("span",null,"一括",-1))]),m("div",er,[m("div",{class:q(["table-container overflow-auto border-b",{"border-l":p(C).length}]),onScroll:vn},[m("table",tr,[m("thead",nr,[m("tr",sr,[(w(),L(se,null,oe(A,(D,le)=>m("th",{class:"py-3",id:`column-${le+1}`,key:le,style:Ee({width:D.width})},[m("span",{class:q(["flex items-center justify-center px-4 text-black border-white hover:cursor-pointer ",le<A.length-1?"border-r-2":""]),onClick:ct=>dn(D)},[Y(F(D.label)+" ",1),p(c)&&p(c).split(":")[1]==("SORT"in d?d.SORT:p(W)).ASC&&D.key==p(c).split(":")[0]?(w(),O(p(Jn),{key:0,width:"12",height:"12",class:"ml-1 hover:text-[#5566da]"})):J("",!0),p(c)&&p(c).split(":")[1]==("SORT"in d?d.SORT:p(W)).DESC&&D.key==p(c).split(":")[0]?(w(),O(p(Xn),{key:1,width:"12",height:"12",class:"ml-1 hover:text-[#5566da]"})):J("",!0)],10,rr)],12,or)),64))])]),m("tbody",null,[p(C).length===0&&!p(E)?(w(),L("tr",ar,[m("td",{class:"text-center py-3 text-[#5566da]",colspan:A.length},F(("MESSAGES"in d?d.MESSAGES:p(Tn)).EMPTY),9,lr)])):(w(!0),L(se,{key:1},oe(p(C),(D,le)=>(w(),L("tr",{class:q(["bg-white dark:bg-gray-800 text-center h-10 hover:cursor-pointer hover:bg-[#afe7ee47]",[le<p(C).length-1?"border-b":""]])},[m("td",null,[m("span",null,F(D.nameKanji),1)]),m("td",null,[p(I)?(w(),L("span",ir,F(("formatToJapaneseEra"in d?d.formatToJapaneseEra:p(Zn))(D.birthday)),1)):(w(),L("span",cr,F(("formatDate"in d?d.formatDate:p(Ie))(D.birthday,"YYYY/MM/DD")),1))]),m("td",null,[m("span",{class:q(["px-[18px] py-[8px] rounded-sm",Ge(D.reportStatus)])},[Y(F(qe(D.reportStatus))+" ",1),D.reportErrorMessage?(w(),O(it,{key:0},{default:v(()=>[g(Q,null,{default:v(()=>[g(R,null,{default:v(()=>[g(p(ft),{width:"16",height:"16",class:"ml-[5px] hover:text-[#5566da] text-[red]"})]),_:1}),g(K,null,{default:v(()=>[m("p",{innerHTML:D.reportErrorMessage},null,8,ur)]),_:2},1024)]),_:2},1024)]),_:2},1024)):J("",!0)],2)]),m("td",null,[m("span",null,F(("formatDate"in d?d.formatDate:p(Ie))(D.reportDate,"YYYY/MM/DD HH:mm")),1)]),m("td",null,[m("span",{class:q(["px-[18px] py-[8px] rounded-sm",Ge(D.planStatus)])},[Y(F(qe(D.planStatus))+" ",1),D.planErrorMessage?(w(),O(it,{key:0},{default:v(()=>[g(Q,null,{default:v(()=>[g(R,null,{default:v(()=>[g(p(ft),{width:"16",height:"16",class:"ml-[5px] hover:text-[#5566da] text-[red]"})]),_:1}),g(K,null,{default:v(()=>[m("p",{class:"text-[12px]",innerHTML:D.planErrorMessage},null,8,dr)]),_:2},1024)]),_:2},1024)]),_:2},1024)):J("",!0)],2)]),m("td",null,[m("span",null,F(("formatDate"in d?d.formatDate:p(Ie))(D.planDate,"YYYY/MM/DD HH:mm")),1)]),m("td",null,[m("span",{class:q(cn(D.reportStatus)),onClick:ct=>pn(D)},"実行",10,fr)]),m("td",null,[m("span",{class:q(un(D)),onClick:ct=>Qe(D)},"実行 ",10,pr)])],2))),256))])])],34),p(z)?(w(),O(xn,{key:0})):J("",!0),p(ne)?(w(),L("div",mr,u[10]||(u[10]=[m("div",{class:"flex flex-col items-center bg-[#b5b5b5e6] py-[24px] px-[50px] gap-[8px] rounded-[30px]"},[m("span",null,"利用者情報を最新化しています。 "),m("span",null,"利用者数 一人あたり 5秒要します、しばらくお待ちください！"),m("span",null," ※実際の速度はカイポケサイトのレスポンス状況により変動いたします。")],-1)]))):J("",!0),m("div",hr,[g(Sn,{disabled:p(T)||p(ee),class:"flex justify-end mt-[30px]",onClick:hn},{default:v(()=>u[11]||(u[11]=[Y(" 実行開始 ")])),_:1},8,["disabled"])])]),g(wn,{isOpen:p(f),users:p(V),onClose:u[6]||(u[6]=()=>f.value=!1),onExport:gn},null,8,["isOpen","users"]),g(Cn,{class:"top-[5px]"})])}}}),yr=re(gr,[["__scopeId","data-v-fc96c7ca"]]),br={class:"user-list px-4"},vr={class:"body-content flex py-4 w-full gap-2"},Br=N({__name:"index",setup(e){const s=xe(),n=x(void 0),o=x(""),t=x(),r=i=>{n.value=i,c()},a=i=>{var f;t.value&&((f=t.value)==null||f.resetFilterTable()),o.value=i,c()},l=i=>{const[f,h]=i.split("/");return`${f}-${h}-01`},c=()=>{n.value&&o.value&&s.getCompanyUseStatus({officeId:n.value,targetYearMonth:l(o.value)})};return pe(()=>{c()}),(i,f)=>{const h=ps,_=$o,I=Lo,T=yr;return w(),L("div",br,[g(h),f[0]||(f[0]=m("div",{class:"header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},[m("span",{class:"text-base font-bold"},"利用者選択")],-1)),g(_,{"onUpdate:officeId":r,"onUpdate:targetYearMonth":a}),m("div",vr,[g(I,{class:"px-5 py-10 min-w-[230px]"}),g(T,{class:"w-full",ref_key:"userTableComponentRef",ref:t,"office-id":p(n),"target-year-month":l(p(o))},null,8,["office-id","target-year-month"])])])}}});export{Br as default};
