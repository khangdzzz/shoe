import{t as fe,u as _e,_ as xe,a as ue,c as ve,F as ge,b as ye}from"./DdMCuj4r.js";import{_ as he}from"./8NChCXF3.js";import{_ as be}from"./B62p2gee.js";import{_ as we}from"./CwXoW_K1.js";import{_ as Pe,a as Ne,b as ke,c as Se,d as Fe}from"./CuX3nq2h.js";import{_ as Ce,a as Te}from"./NwUTVqZl.js";import{_ as Ee}from"./ChRd3vkq.js";import{_ as Ie}from"./aNm4efTt.js";import{m as q,y as $e,n as Ae,r as w,z as Ge,F as i,M as L,P as Ke,T as F,o as g,c as T,a as l,b as e,w as a,q as m,p as u,v as b,x as D,d as C,A as Oe,B as Me,C as Re,D as U,E as V,t as B,G as Le,H as De}from"./DcyFqU5G.js";import{o as Ue,a as Y,s as K,f as Ve}from"./D1RdGal9.js";import{v as x,g as Be}from"./CvamtFMt.js";import{u as Ye}from"./D14oGW2k.js";import{u as He}from"./C_mtSW5r.js";import{L as je}from"./Cwa6hkIX.js";import{E as H,a as j}from"./CA0Yvj_7.js";import{_ as qe}from"./DlAUqK2U.js";import"./CJqby5rk.js";import"./CIekbV_5.js";const ze={class:"login-page flex flex-col !h-[100vh] overflow-hidden relative"},We={class:"flex justify-between mt-[15px]"},Je={class:"form overflow-y-auto scroll"},Qe={class:"flex flex-col w-[900px] gap-[25px] pb-[20px]"},Xe={class:"company flex flex-col gap-5"},Ze={class:"relative w-[82%] !m-[0px]"},ea={class:"relative w-[82%] !m-[0px]"},aa={class:"information flex flex-col gap-5"},la={class:"relative flex !m-[0px] gap-[20px]"},sa={class:"relative w-[82%] !m-[0px]"},ta={class:"flex flex-col gap-[15px] w-[82%]"},oa={class:"flex gap-5 items-center !m-[0px]"},na={class:"pic-position flex gap-5 items-center w-[50%]"},ca={class:"pic-name flex items-center gap-5 w-[50%]"},ra={class:"relative !m-[0px]"},ia={class:"relative !m-[0px]"},pa={class:"flex gap-5 items-center !m-[0px]"},da={class:"pic-name flex items-center gap-5 w-[50%]"},ma={class:"relative !m-[0px]"},fa={class:"relative !m-[0px]"},_a={class:"flex flex-col gap-[15px] w-[82%]"},xa={class:"flex gap-5 items-center !m-[0px]"},ua={class:"pic-position flex gap-5 items-center w-[50%]"},va={class:"pic-name flex items-center gap-5 w-[50%]"},ga={class:"relative !m-[0px]"},ya={class:"relative !m-[0px]"},ha={class:"flex gap-5 items-center !m-[0px]"},ba={class:"pic-name flex items-center gap-5 w-[50%]"},wa={class:"relative !m-[0px]"},Pa={class:"relative !m-[0px]"},Na={class:"contact flex flex-col gap-6"},ka={class:"relative w-[40%] !m-[0px]"},Sa={class:"relative w-[82%] !m-[0px]"},Fa={class:"relative w-[82%] !m-[0px]"},Ca={class:"relative"},Ta={class:"relative w-[82%] !m-[0px]"},Ea={class:"relative w-[82%] !m-[0px]"},Ia={class:"relative w-[82%] !m-[0px]"},$a={class:"relative w-[82%] !m-[0px]"},Aa={class:"relative"},Ga={class:"relative w-[82%] !m-[0px]"},Ka={class:"relative w-[82%] !m-[0px] flex gap-2 items-center"},Oa={class:"flex max-w-[900px] justify-between py-[20px]"},Ma={class:"flex gap-5"},Ra=q({__name:"index",setup(z){const O=$e(),y=Ae(),E=Ye(),{redirectPage:M}=He(),P=w(!1),W=w(),N=w(!1),J=Ge(()=>{var v;return(v=O.masterData)==null?void 0:v.kaigoSoftwares}),I=w(!1),$=w(!1),k=w(!1),Q=fe(Ue({companyName:x(i.companyName,250),companyNameKana:x(i.companyNameKana,250,!0),companyPostCode:x(i.companyPostCode,10),companyAddress:x(i.companyAddress,250),frontPicPosition:x(i.frontPicPosition,100),frontPicFamilyName:x(i.frontPicFamilyName,100),frontPicGivenName:x(i.frontPicGivenName,100),frontPicFamilyNameKana:x(i.frontPicFamilyNameKana,100,!0),frontPicGivenNameKana:x(i.frontPicGivenNameKana,100,!0),picPosition:x(i.picPosition,100),picFamilyName:x(i.picFamilyName,100),picGivenName:x(i.picGivenName,100),picFamilyNameKana:x(i.picFamilyNameKana,100,!0),picGivenNameKana:x(i.picGivenNameKana,100,!0),phoneNumber:x(i.phoneNumber,20),email:x(i.email,250),password:Be(Y(i.password)),kaigoSoftware:K(Ve(L.ERR002,i.kaigoSoftware)).min(1,i.kaigoSoftware),kaipokeCompanyId:x(i.kaipokeCompanyId,100),kaipokeUserId:x(i.kaipokeUserId,100),kaipokeUserPassword:K(Y(i.kaipokeUserPassword)).min(8,{message:L.ERR007}),paymentMethod:K().default(Ke.bankWithdrawal)})),{handleSubmit:X,values:A,setFieldValue:Z}=_e({validationSchema:Q}),ee=()=>{N.value=!N.value},ae=()=>{P.value=!P.value},le=async()=>{const v=A==null?void 0:A.companyPostCode;if(!v){y.setNotify({message:"郵便番号が存在しません。",type:F.error});return}$.value=!0;const s=await y.searchPostalCode(v);if(s!=null&&s.data){const{prefecture:h,city:f}=s.data,p=`${h} ${f}`;Z("companyAddress",p),W.value=s.data}else y.setNotify({message:"郵便番号が存在しません。",type:F.error});$.value=!1},R=X(async v=>{var h;y.clearNotify(),I.value=!0;const s={...v,keepLastPlanContentFlg:k.value?1:0};await E.createNewCompany(s),I.value=!1,(h=y.notify)!=null&&h.message||se("新しい顧客の成功を生み出す。")},({errors:v})=>{const h=Object.keys(i).map(f=>v[f]).find(Boolean)??"";y.setNotify({message:h,type:F.error})}),se=v=>{y.setNotify({message:v,type:F.success}),setTimeout(()=>{M("/customer")},500)};return(v,s)=>{const h=xe,f=he,p=be,c=ue,n=ve,r=ge,S=ye,G=we,te=Pe,oe=Ne,ne=ke,ce=Se,re=Fe,ie=Ce,pe=Te,de=Ee,me=Ie;return g(),T("div",ze,[l("div",We,[e(h,{class:"pl-[64px]"})]),l("form",{class:"register flex flex-col gap-[25px] pl-[64px] pt-[10px] pb-[15px]",onSubmit:s[2]||(s[2]=(...t)=>u(R)&&u(R)(...t))},[l("div",Je,[l("div",Qe,[e(f,{label:"必須項目です",position:"left",class:"mb-[10px]"}),l("div",Xe,[e(r,{name:"companyName"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"法人名",class:"w-[160px]"}),l("div",Ze,[e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(r,{name:"companyNameKana"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"フリガナ",class:"w-[160px]"}),l("div",ea,[e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024),e(S,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1})]),s[15]||(s[15]=l("div",{class:"space"},null,-1)),l("div",aa,[e(r,{name:"companyPostCode"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"郵便番号",class:"w-[160px] flex"}),l("div",la,[e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024),e(G,{onClick:le,type:"button",variant:"cancel_btn",class:"!m-[0px] !rounded-3xl"},{default:a(()=>[u($)?(g(),b(u(je),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),s[3]||(s[3]=C(" 郵便番号から入力 "))]),_:1})])]),_:2},1024)]),_:1}),e(r,{name:"companyAddress"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"会社所在地",class:"w-[160px]"}),l("div",sa,[e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(r,{name:"frontPicPosition"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"代表者",class:"w-[160px] flex pt-[14px] items-baseline"}),l("div",ta,[l("div",oa,[l("div",na,[s[4]||(s[4]=l("span",{class:"label w-[35px]"},"役職",-1)),e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)]),l("div",ca,[s[5]||(s[5]=l("span",{class:"label flex w-[19%]"},"お名前",-1)),e(r,{name:"frontPicFamilyName"},{default:a(({componentField:d,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[l("div",ra,[e(c,null,{default:a(()=>[e(p,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},d,{class:{"border-red-500":_.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(r,{name:"frontPicGivenName"},{default:a(({componentField:d,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[l("div",ia,[e(c,null,{default:a(()=>[e(p,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},d,{class:{"border-red-500":_.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),l("div",pa,[s[7]||(s[7]=l("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),l("div",da,[s[6]||(s[6]=l("span",{class:"label flex w-[19%]"},"フリガナ",-1)),e(r,{name:"frontPicFamilyNameKana"},{default:a(({componentField:d,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[l("div",ma,[e(c,null,{default:a(()=>[e(p,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},d,{class:{"border-red-500":_.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(r,{name:"frontPicGivenNameKana"},{default:a(({componentField:d,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[l("div",fa,[e(c,null,{default:a(()=>[e(p,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},d,{class:{"border-red-500":_.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1}),e(r,{name:"picPosition"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"ご担当者",class:"w-[160px] flex pt-[14px] items-baseline"}),l("div",_a,[l("div",xa,[l("div",ua,[s[8]||(s[8]=l("span",{class:"label w-[35px]"},"役職",-1)),e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)]),l("div",va,[s[9]||(s[9]=l("span",{class:"label flex w-[19%]"},"お名前",-1)),e(r,{name:"picFamilyName"},{default:a(({componentField:d,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[l("div",ga,[e(c,null,{default:a(()=>[e(p,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},d,{class:{"border-red-500":_.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(r,{name:"picGivenName"},{default:a(({componentField:d,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[l("div",ya,[e(c,null,{default:a(()=>[e(p,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},d,{class:{"border-red-500":_.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),l("div",ha,[s[11]||(s[11]=l("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),l("div",ba,[s[10]||(s[10]=l("span",{class:"label flex w-[19%]"},"フリガナ",-1)),e(r,{name:"picFamilyNameKana"},{default:a(({componentField:d,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[l("div",wa,[e(c,null,{default:a(()=>[e(p,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},d,{class:{"border-red-500":_.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(r,{name:"picGivenNameKana"},{default:a(({componentField:d,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[l("div",Pa,[e(c,null,{default:a(()=>[e(p,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},d,{class:{"border-red-500":_.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1})]),s[16]||(s[16]=l("div",{class:"space"},null,-1)),l("div",Na,[e(r,{name:"phoneNumber"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"電話番号",class:"w-[160px]"}),l("div",ka,[e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(r,{name:"email"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"メールアドレス",class:"w-[160px]"}),l("div",Sa,[e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(r,{name:"password"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"パスワード",class:"w-[160px]"}),l("div",Fa,[e(c,null,{default:a(()=>[l("div",Ca,[e(p,m({type:u(P)?"text":"password"},t,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":o.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),l("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2","aria-label":"Toggle password visibility",onClick:ae},[u(P)?(g(),b(u(j),{key:1,class:"h-5 w-3.5 text-black"})):(g(),b(u(H),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024),e(S,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1}),e(r,{name:"kaigoSoftware"},{default:a(({componentField:t,errors:o,meta:d})=>[e(n,{class:"relative flex gap-5"},{default:a(()=>[e(f,{label:"介護ソフト選択",class:"w-[160px]"}),l("div",Ta,[e(c,null,{default:a(()=>[e(re,Oe(Me(t)),{default:a(()=>[e(oe,{class:Re({"border-red-500":o.length&&!t.modelValue})},{default:a(()=>[e(te,{placeholder:"Select an option"})]),_:2},1032,["class"]),e(ce,null,{default:a(()=>[(g(!0),T(U,null,V(u(J),_=>(g(),b(ne,{value:`${_.id}`},{default:a(()=>[C(B(_.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040),e(S,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})]),_:2},1024)])]),_:2},1024)]),_:1}),e(r,{name:"kaipokeCompanyId"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"カイポケ法人ID",class:"w-[160px]"}),l("div",Ea,[e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(r,{name:"kaipokeUserId"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"カイポケユーザーID",class:"w-[160px]"}),l("div",Ia,[e(c,null,{default:a(()=>[e(p,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(r,{name:"kaipokeUserPassword"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"カイポケパスワード",class:"w-[160px]"}),l("div",$a,[e(c,null,{default:a(()=>[l("div",Aa,[e(p,m({type:u(N)?"text":"password"},t,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":o.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),l("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2",onClick:ee,"aria-label":"Toggle password visibility"},[u(N)?(g(),b(u(j),{key:1,class:"h-5 w-3.5 text-black"})):(g(),b(u(H),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024),e(S,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1}),e(r,{name:"paymentMethod"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"決済方法",class:"w-[160px]"}),l("div",Ga,[e(c,null,{default:a(()=>[e(pe,m({class:"flex gap-5"},t),{default:a(()=>[(g(!0),T(U,null,V("PAYMENT_METHOD_OPTIONS_LIST"in v?v.PAYMENT_METHOD_OPTIONS_LIST:u(Le),d=>(g(),b(n,{class:"flex items-center space-y-0 gap-x-3"},{default:a(()=>[e(c,null,{default:a(()=>[e(ie,{value:d.type},null,8,["value"])]),_:2},1024),l("span",null,B(d.value),1)]),_:2},1024))),256))]),_:2},1040)]),_:2},1024)])]),_:2},1024)]),_:1}),e(r,{name:"remainOldPlan"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[s[14]||(s[14]=l("span",{class:"w-[160px] flex items-center"},"前回の計画書内容を保持する",-1)),l("div",Ka,[s[12]||(s[12]=l("span",null,"OFF",-1)),e(de,{checked:u(k),"onUpdate:checked":s[0]||(s[0]=d=>De(k)?k.value=d:null)},null,8,["checked"]),s[13]||(s[13]=l("span",null,"ON",-1))])]),_:1})]),_:1})])])]),l("div",Oa,[l("div",Ma,[e(G,{type:"button",variant:"cancel_btn",class:"flex self-center",onClick:s[1]||(s[1]=t=>u(M)("/customer"))},{default:a(()=>s[17]||(s[17]=[C(" キャンセル ")])),_:1}),e(G,{variant:"export",class:"delete flex self-center"},{default:a(()=>s[18]||(s[18]=[C(" 登録 ")])),_:1})])])],32),u(I)?(g(),b(me,{key:0})):D("",!0)])}}}),La=qe(Ra,[["__scopeId","data-v-23eb4e84"]]),Da={class:"user-list px-4"},ol=q({__name:"index",setup(z){return(O,y)=>{const E=La;return g(),T("div",Da,[y[0]||(y[0]=l("div",{class:"header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},[l("span",{class:"text-base font-bold"},"顧客管理")],-1)),e(E)])}}});export{ol as default};
