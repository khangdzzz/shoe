import{_ as Lt,a as At,b as Pt,d as jt,e as Ot,f as Rt,c as An}from"./DcaBGrw5.js";import{h as Me}from"./DndMWGNc.js";import{m as K,z as U,o as k,v as B,w as S,K as fe,q as Nt,p as d,n as Se,r as C,g as F,J as pe,h as Pn,b as y,d as V,H as te,ab as mt,S as Le,c as M,D as oe,E as re,a as p,t as N,C as q,A as Fe,B as Ye,L as jn,Y as we,X as Ee,x as X,N as On,ad as ht,R as Ut,ae as Rn,af as gt,ag as Nn,M as Un,U as ee,ah as Bn,$ as Fn}from"./eAQWD99-.js";import{u as Yn}from"./BSKXGRyf.js";import{S as Ae,a as Hn,_ as zn}from"./DVaOATFW.js";import{c as Bt,a as Kn,N as Vn,L as qn,z as Gn,j as Jn,G as Qn,U as Wn,H as Xn,q as Zn,Y as es,F as ts,x as Ft,k as ns,V as ss,b as os,M as rs,O as as,_ as Yt}from"./DbhJrTwf.js";import{_ as ae}from"./DlAUqK2U.js";import{g as ls,C as is,j as cs,V as us,S as ds,_ as fs,A as ps,a as ms}from"./DrNmfQES.js";import{C as hs}from"./_m22-w_b.js";import{C as gs}from"./C2MmMGLz.js";import{f as ye,a as ys}from"./DevxgbSN.js";import{L as Ht}from"./DVUcTsl4.js";import{_ as vs}from"./By9_Xiin.js";import{_ as _s,a as bs,b as xs,c as Ss,d as ws}from"./DY7xdFnd.js";import{_ as Cs}from"./BBNASRks.js";import{_ as ks}from"./BGdzTO0C.js";import"./GmxUGQzk.js";import"./DRMCIoPL.js";import"./DoTgGiQL.js";const Ts=K({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,n=U(()=>{const{class:o,...s}=t;return s});return(o,s)=>(k(),B(d(Kn),Nt(n.value,{class:d(Bt)("text-sm text-muted-foreground",t.class)}),{default:S(()=>[fe(o.$slots,"default")]),_:3},16,["class"]))}}),Is=K({__name:"notify-register-payment",setup(e){const t=Se(),{redirectPage:n}=Yn(),o=C(!1),s=U(()=>t.isLoadPermission);F(s,()=>{o.value=!Me()});const r=()=>{o.value=!1,n("/mypage")};pe(()=>{setTimeout(()=>{o.value=!Me()},200),window.addEventListener("keydown",a)}),Pn(()=>{window.removeEventListener("keydown",a)});const a=l=>{l.key==="Escape"&&o.value&&(l.stopPropagation(),l.preventDefault())};return(l,i)=>{const c=Lt,m=At,x=Pt,g=jt,h=Ot,v=Rt;return k(),B(v,{open:d(o),"onUpdate:open":i[0]||(i[0]=_=>te(o)?o.value=_:null)},{default:S(()=>[y(h,null,{default:S(()=>[y(m,{class:"flex flex-col gap-4 items-center"},{default:S(()=>[y(c,{class:"text-sm"},{default:S(()=>i[1]||(i[1]=[V("決済方法は設定完了していないので、マイページより設定完了してください。")])),_:1})]),_:1}),y(g,{class:"flex !flex-col gap-4"},{default:S(()=>[y(x,{class:"flex self-center min-w-[120px]",onClick:r},{default:S(()=>i[2]||(i[2]=[V("登録")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),ce=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ce=(e,t,n,o="")=>{const s=e.split(":");if(e.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;o=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const l=s.pop(),i=s.pop(),c={provider:s.length>0?s[0]:o,prefix:i,name:l};return t&&!ve(c)?null:c}const r=s[0],a=r.split("-");if(a.length>1){const l={provider:o,prefix:a.shift(),name:a.join("-")};return t&&!ve(l)?null:l}if(n&&o===""){const l={provider:o,prefix:"",name:r};return t&&!ve(l,n)?null:l}return null},ve=(e,t)=>e?!!((e.provider===""||e.provider.match(ce))&&(t&&e.prefix===""||e.prefix.match(ce))&&e.name.match(ce)):!1,zt=Object.freeze({left:0,top:0,width:16,height:16}),xe=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ke=Object.freeze({...zt,...xe}),Pe=Object.freeze({...ke,body:"",hidden:!1});function Es(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const o=((e.rotate||0)+(t.rotate||0))%4;return o&&(n.rotate=o),n}function yt(e,t){const n=Es(e,t);for(const o in Pe)o in xe?o in e&&!(o in n)&&(n[o]=xe[o]):o in t?n[o]=t[o]:o in e&&(n[o]=e[o]);return n}function Ds(e,t){const n=e.icons,o=e.aliases||Object.create(null),s=Object.create(null);function r(a){if(n[a])return s[a]=[];if(!(a in s)){s[a]=null;const l=o[a]&&o[a].parent,i=l&&r(l);i&&(s[a]=[l].concat(i))}return s[a]}return Object.keys(n).concat(Object.keys(o)).forEach(r),s}function $s(e,t,n){const o=e.icons,s=e.aliases||Object.create(null);let r={};function a(l){r=yt(o[l]||s[l],r)}return a(t),n.forEach(a),yt(e,r)}function Kt(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(s=>{t(s,null),n.push(s)});const o=Ds(e);for(const s in o){const r=o[s];r&&(t(s,$s(e,s,r)),n.push(s))}return n}const Ms={provider:"",aliases:{},not_found:{},...zt};function De(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function Vt(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!De(e,Ms))return null;const n=t.icons;for(const s in n){const r=n[s];if(!s.match(ce)||typeof r.body!="string"||!De(r,Pe))return null}const o=t.aliases||Object.create(null);for(const s in o){const r=o[s],a=r.parent;if(!s.match(ce)||typeof a!="string"||!n[a]&&!o[a]||!De(r,Pe))return null}return t}const vt=Object.create(null);function Ls(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function se(e,t){const n=vt[e]||(vt[e]=Object.create(null));return n[t]||(n[t]=Ls(e,t))}function He(e,t){return Vt(t)?Kt(t,(n,o)=>{o?e.icons[n]=o:e.missing.add(n)}):[]}function As(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let ue=!1;function qt(e){return typeof e=="boolean"&&(ue=e),ue}function Ps(e){const t=typeof e=="string"?Ce(e,!0,ue):e;if(t){const n=se(t.provider,t.prefix),o=t.name;return n.icons[o]||(n.missing.has(o)?null:void 0)}}function js(e,t){const n=Ce(e,!0,ue);if(!n)return!1;const o=se(n.provider,n.prefix);return As(o,n.name,t)}function Os(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),ue&&!t&&!e.prefix){let s=!1;return Vt(e)&&(e.prefix="",Kt(e,(r,a)=>{a&&js(r,a)&&(s=!0)})),s}const n=e.prefix;if(!ve({provider:t,prefix:n,name:"a"}))return!1;const o=se(t,n);return!!He(o,e)}const Gt=Object.freeze({width:null,height:null}),Jt=Object.freeze({...Gt,...xe}),Rs=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ns=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function _t(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const o=e.split(Rs);if(o===null||!o.length)return e;const s=[];let r=o.shift(),a=Ns.test(r);for(;;){if(a){const l=parseFloat(r);isNaN(l)?s.push(r):s.push(Math.ceil(l*t*n)/n)}else s.push(r);if(r=o.shift(),r===void 0)return s.join("");a=!a}}function Us(e,t="defs"){let n="";const o=e.indexOf("<"+t);for(;o>=0;){const s=e.indexOf(">",o),r=e.indexOf("</"+t);if(s===-1||r===-1)break;const a=e.indexOf(">",r);if(a===-1)break;n+=e.slice(s+1,r).trim(),e=e.slice(0,o).trim()+e.slice(a+1)}return{defs:n,content:e}}function Bs(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Fs(e,t,n){const o=Us(e);return Bs(o.defs,t+o.content+n)}const Ys=e=>e==="unset"||e==="undefined"||e==="none";function Hs(e,t){const n={...ke,...e},o={...Jt,...t},s={left:n.left,top:n.top,width:n.width,height:n.height};let r=n.body;[n,o].forEach(_=>{const b=[],O=_.hFlip,L=_.vFlip;let A=_.rotate;O?L?A+=2:(b.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),b.push("scale(-1 1)"),s.top=s.left=0):L&&(b.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),b.push("scale(1 -1)"),s.top=s.left=0);let Y;switch(A<0&&(A-=Math.floor(A/4)*4),A=A%4,A){case 1:Y=s.height/2+s.top,b.unshift("rotate(90 "+Y.toString()+" "+Y.toString()+")");break;case 2:b.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:Y=s.width/2+s.left,b.unshift("rotate(-90 "+Y.toString()+" "+Y.toString()+")");break}A%2===1&&(s.left!==s.top&&(Y=s.left,s.left=s.top,s.top=Y),s.width!==s.height&&(Y=s.width,s.width=s.height,s.height=Y)),b.length&&(r=Fs(r,'<g transform="'+b.join(" ")+'">',"</g>"))});const a=o.width,l=o.height,i=s.width,c=s.height;let m,x;a===null?(x=l===null?"1em":l==="auto"?c:l,m=_t(x,i/c)):(m=a==="auto"?i:a,x=l===null?_t(m,c/i):l==="auto"?c:l);const g={},h=(_,b)=>{Ys(b)||(g[_]=b.toString())};h("width",m),h("height",x);const v=[s.left,s.top,i,c];return g.viewBox=v.join(" "),{attributes:g,viewBox:v,body:r}}const zs=/\sid="(\S+)"/g,Ks="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Vs=0;function qs(e,t=Ks){const n=[];let o;for(;o=zs.exec(e);)n.push(o[1]);if(!n.length)return e;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(r=>{const a=typeof t=="function"?t(r):t+(Vs++).toString(),l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+a+s+"$3")}),e=e.replace(new RegExp(s,"g"),""),e}const je=Object.create(null);function Gs(e,t){je[e]=t}function Oe(e){return je[e]||je[""]}function ze(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Ke=Object.create(null),ie=["https://api.simplesvg.com","https://api.unisvg.com"],_e=[];for(;ie.length>0;)ie.length===1||Math.random()>.5?_e.push(ie.shift()):_e.push(ie.pop());Ke[""]=ze({resources:["https://api.iconify.design"].concat(_e)});function Js(e,t){const n=ze(t);return n===null?!1:(Ke[e]=n,!0)}function Ve(e){return Ke[e]}const Qs=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let bt=Qs();function Ws(e,t){const n=Ve(e);if(!n)return 0;let o;if(!n.maxURL)o=0;else{let s=0;n.resources.forEach(a=>{s=Math.max(s,a.length)});const r=t+".json?icons=";o=n.maxURL-s-n.path.length-r.length}return o}function Xs(e){return e===404}const Zs=(e,t,n)=>{const o=[],s=Ws(e,t),r="icons";let a={type:r,provider:e,prefix:t,icons:[]},l=0;return n.forEach((i,c)=>{l+=i.length+1,l>=s&&c>0&&(o.push(a),a={type:r,provider:e,prefix:t,icons:[]},l=i.length),a.icons.push(i)}),o.push(a),o};function eo(e){if(typeof e=="string"){const t=Ve(e);if(t)return t.path}return"/"}const to=(e,t,n)=>{if(!bt){n("abort",424);return}let o=eo(t.provider);switch(t.type){case"icons":{const r=t.prefix,l=t.icons.join(","),i=new URLSearchParams({icons:l});o+=r+".json?"+i.toString();break}case"custom":{const r=t.uri;o+=r.slice(0,1)==="/"?r.slice(1):r;break}default:n("abort",400);return}let s=503;bt(e+o).then(r=>{const a=r.status;if(a!==200){setTimeout(()=>{n(Xs(a)?"abort":"next",a)});return}return s=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?n("abort",r):n("next",s)});return}setTimeout(()=>{n("success",r)})}).catch(()=>{n("next",s)})},no={prepare:Zs,send:to};function so(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((s,r)=>s.provider!==r.provider?s.provider.localeCompare(r.provider):s.prefix!==r.prefix?s.prefix.localeCompare(r.prefix):s.name.localeCompare(r.name));let o={provider:"",prefix:"",name:""};return e.forEach(s=>{if(o.name===s.name&&o.prefix===s.prefix&&o.provider===s.provider)return;o=s;const r=s.provider,a=s.prefix,l=s.name,i=n[r]||(n[r]=Object.create(null)),c=i[a]||(i[a]=se(r,a));let m;l in c.icons?m=t.loaded:a===""||c.missing.has(l)?m=t.missing:m=t.pending;const x={provider:r,prefix:a,name:l};m.push(x)}),t}function Qt(e,t){e.forEach(n=>{const o=n.loaderCallbacks;o&&(n.loaderCallbacks=o.filter(s=>s.id!==t))})}function oo(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const o=e.provider,s=e.prefix;t.forEach(r=>{const a=r.icons,l=a.pending.length;a.pending=a.pending.filter(i=>{if(i.prefix!==s)return!0;const c=i.name;if(e.icons[c])a.loaded.push({provider:o,prefix:s,name:c});else if(e.missing.has(c))a.missing.push({provider:o,prefix:s,name:c});else return n=!0,!0;return!1}),a.pending.length!==l&&(n||Qt([e],r.id),r.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),r.abort))})}))}let ro=0;function ao(e,t,n){const o=ro++,s=Qt.bind(null,n,o);if(!t.pending.length)return s;const r={id:o,icons:t,callback:e,abort:s};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(r)}),s}function lo(e,t=!0,n=!1){const o=[];return e.forEach(s=>{const r=typeof s=="string"?Ce(s,t,n):s;r&&o.push(r)}),o}var io={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function co(e,t,n,o){const s=e.resources.length,r=e.random?Math.floor(Math.random()*s):e.index;let a;if(e.random){let E=e.resources.slice(0);for(a=[];E.length>1;){const R=Math.floor(Math.random()*E.length);a.push(E[R]),E=E.slice(0,R).concat(E.slice(R+1))}a=a.concat(E)}else a=e.resources.slice(r).concat(e.resources.slice(0,r));const l=Date.now();let i="pending",c=0,m,x=null,g=[],h=[];typeof o=="function"&&h.push(o);function v(){x&&(clearTimeout(x),x=null)}function _(){i==="pending"&&(i="aborted"),v(),g.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),g=[]}function b(E,R){R&&(h=[]),typeof E=="function"&&h.push(E)}function O(){return{startTime:l,payload:t,status:i,queriesSent:c,queriesPending:g.length,subscribe:b,abort:_}}function L(){i="failed",h.forEach(E=>{E(void 0,m)})}function A(){g.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),g=[]}function Y(E,R,G){const Q=R!=="success";switch(g=g.filter(P=>P!==E),i){case"pending":break;case"failed":if(Q||!e.dataAfterTimeout)return;break;default:return}if(R==="abort"){m=G,L();return}if(Q){m=G,g.length||(a.length?J():L());return}if(v(),A(),!e.random){const P=e.resources.indexOf(E.resource);P!==-1&&P!==e.index&&(e.index=P)}i="completed",h.forEach(P=>{P(G)})}function J(){if(i!=="pending")return;v();const E=a.shift();if(E===void 0){if(g.length){x=setTimeout(()=>{v(),i==="pending"&&(A(),L())},e.timeout);return}L();return}const R={status:"pending",resource:E,callback:(G,Q)=>{Y(R,G,Q)}};g.push(R),c++,x=setTimeout(J,e.rotate),n(E,t,R.callback)}return setTimeout(J),O}function Wt(e){const t={...io,...e};let n=[];function o(){n=n.filter(l=>l().status==="pending")}function s(l,i,c){const m=co(t,l,i,(x,g)=>{o(),c&&c(x,g)});return n.push(m),m}function r(l){return n.find(i=>l(i))||null}return{query:s,find:r,setIndex:l=>{t.index=l},getIndex:()=>t.index,cleanup:o}}function xt(){}const $e=Object.create(null);function uo(e){if(!$e[e]){const t=Ve(e);if(!t)return;const n=Wt(t),o={config:t,redundancy:n};$e[e]=o}return $e[e]}function fo(e,t,n){let o,s;if(typeof e=="string"){const r=Oe(e);if(!r)return n(void 0,424),xt;s=r.send;const a=uo(e);a&&(o=a.redundancy)}else{const r=ze(e);if(r){o=Wt(r);const a=e.resources?e.resources[0]:"",l=Oe(a);l&&(s=l.send)}}return!o||!s?(n(void 0,424),xt):o.query(t,s,n)().abort}const St="iconify2",de="iconify",Xt=de+"-count",wt=de+"-version",Zt=36e5,po=168,mo=50;function Re(e,t){try{return e.getItem(t)}catch{}}function qe(e,t,n){try{return e.setItem(t,n),!0}catch{}}function Ct(e,t){try{e.removeItem(t)}catch{}}function Ne(e,t){return qe(e,Xt,t.toString())}function Ue(e){return parseInt(Re(e,Xt))||0}const Te={local:!0,session:!0},en={local:new Set,session:new Set};let Ge=!1;function ho(e){Ge=e}let ge=typeof window>"u"?{}:window;function tn(e){const t=e+"Storage";try{if(ge&&ge[t]&&typeof ge[t].length=="number")return ge[t]}catch{}Te[e]=!1}function nn(e,t){const n=tn(e);if(!n)return;const o=Re(n,wt);if(o!==St){if(o){const l=Ue(n);for(let i=0;i<l;i++)Ct(n,de+i.toString())}qe(n,wt,St),Ne(n,0);return}const s=Math.floor(Date.now()/Zt)-po,r=l=>{const i=de+l.toString(),c=Re(n,i);if(typeof c=="string"){try{const m=JSON.parse(c);if(typeof m=="object"&&typeof m.cached=="number"&&m.cached>s&&typeof m.provider=="string"&&typeof m.data=="object"&&typeof m.data.prefix=="string"&&t(m,l))return!0}catch{}Ct(n,i)}};let a=Ue(n);for(let l=a-1;l>=0;l--)r(l)||(l===a-1?(a--,Ne(n,a)):en[e].add(l))}function sn(){if(!Ge){ho(!0);for(const e in Te)nn(e,t=>{const n=t.data,o=t.provider,s=n.prefix,r=se(o,s);if(!He(r,n).length)return!1;const a=n.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,a):a,!0})}}function go(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const o in Te)nn(o,s=>{const r=s.data;return s.provider!==e.provider||r.prefix!==e.prefix||r.lastModified===t});return!0}function yo(e,t){Ge||sn();function n(o){let s;if(!Te[o]||!(s=tn(o)))return;const r=en[o];let a;if(r.size)r.delete(a=Array.from(r).shift());else if(a=Ue(s),a>=mo||!Ne(s,a+1))return;const l={cached:Math.floor(Date.now()/Zt),provider:e.provider,data:t};return qe(s,de+a.toString(),JSON.stringify(l))}t.lastModified&&!go(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function kt(){}function vo(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,oo(e)}))}function _o(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:o}=e,s=e.iconsToLoad;delete e.iconsToLoad;let r;if(!s||!(r=Oe(n)))return;r.prepare(n,o,s).forEach(l=>{fo(n,l,i=>{if(typeof i!="object")l.icons.forEach(c=>{e.missing.add(c)});else try{const c=He(e,i);if(!c.length)return;const m=e.pendingIcons;m&&c.forEach(x=>{m.delete(x)}),yo(e,i)}catch(c){console.error(c)}vo(e)})})}))}const bo=(e,t)=>{const n=lo(e,!0,qt()),o=so(n);if(!o.pending.length){let i=!0;return t&&setTimeout(()=>{i&&t(o.loaded,o.missing,o.pending,kt)}),()=>{i=!1}}const s=Object.create(null),r=[];let a,l;return o.pending.forEach(i=>{const{provider:c,prefix:m}=i;if(m===l&&c===a)return;a=c,l=m,r.push(se(c,m));const x=s[c]||(s[c]=Object.create(null));x[m]||(x[m]=[])}),o.pending.forEach(i=>{const{provider:c,prefix:m,name:x}=i,g=se(c,m),h=g.pendingIcons||(g.pendingIcons=new Set);h.has(x)||(h.add(x),s[c][m].push(x))}),r.forEach(i=>{const{provider:c,prefix:m}=i;s[c][m].length&&_o(i,s[c][m])}),t?ao(t,o,r):kt};function xo(e,t){const n={...e};for(const o in t){const s=t[o],r=typeof s;o in Gt?(s===null||s&&(r==="string"||r==="number"))&&(n[o]=s):r===typeof n[o]&&(n[o]=o==="rotate"?s%4:s)}return n}const So=/[\s,]+/;function wo(e,t){t.split(So).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function Co(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function o(s){for(;s<0;)s+=4;return s%4}if(n===""){const s=parseInt(e);return isNaN(s)?0:o(s)}else if(n!==e){let s=0;switch(n){case"%":s=25;break;case"deg":s=90}if(s){let r=parseFloat(e.slice(0,e.length-n.length));return isNaN(r)?0:(r=r/s,r%1===0?o(r):0)}}return t}function ko(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)n+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function To(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Io(e){return"data:image/svg+xml,"+To(e)}function Eo(e){return'url("'+Io(e)+'")'}const Tt={...Jt,inline:!1},Do={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},$o={display:"inline-block"},Be={backgroundColor:"currentColor"},on={backgroundColor:"transparent"},It={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Et={webkitMask:Be,mask:Be,background:on};for(const e in Et){const t=Et[e];for(const n in It)t[e+n]=It[n]}const be={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";be[e+"-flip"]=t,be[e.slice(0,1)+"-flip"]=t,be[e+"Flip"]=t});function Dt(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const $t=(e,t)=>{const n=xo(Tt,t),o={...Do},s=t.mode||"svg",r={},a=t.style,l=typeof a=="object"&&!(a instanceof Array)?a:{};for(let _ in t){const b=t[_];if(b!==void 0)switch(_){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[_]=b===!0||b==="true"||b===1;break;case"flip":typeof b=="string"&&wo(n,b);break;case"color":r.color=b;break;case"rotate":typeof b=="string"?n[_]=Co(b):typeof b=="number"&&(n[_]=b);break;case"ariaHidden":case"aria-hidden":b!==!0&&b!=="true"&&delete o["aria-hidden"];break;default:{const O=be[_];O?(b===!0||b==="true"||b===1)&&(n[O]=!0):Tt[_]===void 0&&(o[_]=b)}}}const i=Hs(e,n),c=i.attributes;if(n.inline&&(r.verticalAlign="-0.125em"),s==="svg"){o.style={...r,...l},Object.assign(o,c);let _=0,b=t.id;return typeof b=="string"&&(b=b.replace(/-/g,"_")),o.innerHTML=qs(i.body,b?()=>b+"ID"+_++:"iconifyVue"),mt("svg",o)}const{body:m,width:x,height:g}=e,h=s==="mask"||(s==="bg"?!1:m.indexOf("currentColor")!==-1),v=ko(m,{...c,width:x+"",height:g+""});return o.style={...r,"--svg":Eo(v),width:Dt(c.width),height:Dt(c.height),...$o,...h?Be:on,...l},mt("span",o)};qt(!0);Gs("",no);if(typeof document<"u"&&typeof window<"u"){sn();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!Os(o))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const o="IconifyProviders["+n+"] is invalid.";try{const s=t[n];if(typeof s!="object"||!s||s.resources===void 0)continue;Js(n,s)||console.error(o)}catch{console.error(o)}}}}const Mo={...ke,body:""},Mt=K({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,t){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let n;if(typeof e!="string"||(n=Ce(e,!1,!0))===null)return this.abortLoading(),null;const o=Ps(n);if(!o)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",o!==null&&(this._loadingIcon={name:e,abort:bo([n],()=>{this.counter++})})),null;this.abortLoading(),this._name!==e&&(this._name=e,t&&t(e));const s=["iconify"];return n.prefix!==""&&s.push("iconify--"+n.prefix),n.provider!==""&&s.push("iconify--"+n.provider),{data:o,classes:s}}},render(){this.counter;const e=this.$attrs,t=this.iconMounted||e.ssr?this.getIcon(e.icon,e.onLoad):null;if(!t)return $t(Mo,e);let n=e;return t.classes&&(n={...e,class:(typeof e.class=="string"?e.class+" ":"")+t.classes.join(" ")}),$t({...ke,...t.data},n)}}),Lo=K({__name:"auto-complete",props:{width:{type:String,default:"100%"},options:{type:Array,default:()=>[]},valueSelected:{type:String,default:""}},emits:["update:selectedValue"],setup(e,{emit:t}){const n=e,o=t,s=C(n.valueSelected);return F(()=>n.valueSelected,()=>{s.value=n.valueSelected}),F(s,r=>{o("update:selectedValue",r)}),pe(()=>{s.value&&o("update:selectedValue",s.value)}),(r,a)=>(k(),B(d(ts),{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),class:"relative"},{default:S(()=>[y(d(Vn),{style:Le({width:e.width}),class:"min-w-[120px] w-full inline-flex items-center justify-between rounded px-[15px] leading-none h-[30px] gap-[5px] bg-white hover:bg-mauve3 focus:shadow-[0_0_0_2px] focus:shadow-black data-[placeholder]:text-grass9 outline-none border border-input"},{default:S(()=>[y(d(qn),{class:"!bg-transparent w-full outline-none h-full selection:bg-grass5 placeholder-mauve8"}),y(d(Gn),null,{default:S(()=>[y(d(Mt),{icon:"radix-icons:chevron-down",class:"h-4 w-4"})]),_:1})]),_:1},8,["style"]),y(d(Jn),{style:Le({width:e.width}),class:"combobox-content absolute !z-12 w-full mt-[1px] min-w-[120px] bg-white overflow-hidden rounded shadow-[0px_10px_38px_-10px_rgba(22,_23,_24,_0.35),_0px_10px_20px_-15px_rgba(22,_23,_24,_0.2)] will-change-[opacity,transform] data-[side=top]:animate-slideDownAndFade data-[side=right]:animate-slideLeftAndFade data-[side=bottom]:animate-slideUpAndFade data-[side=left]:animate-slideRightAndFade"},{default:S(()=>[y(d(Qn),{class:"p-[5px]"},{default:S(()=>[y(d(Wn),{class:"text-mauve8 text-xs font-medium text-center py-2"}),y(d(Xn),null,{default:S(()=>[(k(!0),M(oe,null,re(e.options,(l,i)=>(k(),B(d(Zn),{key:i,class:"text-[13px] leading-none rounded-[3px] flex items-center h-[25px] pr-[35px] pl-[25px] relative select-none data-[disabled]:text-mauve8 data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-mauve3 data-[highlighted]:text-black",value:l},{default:S(()=>[y(d(es),{class:"absolute left-0 w-[25px] inline-flex items-center justify-center"},{default:S(()=>[y(d(Mt),{icon:"radix-icons:check"})]),_:1}),p("span",null,N(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]))}}),Ao=ae(Lo,[["__scopeId","data-v-bc0fcfc5"]]),Po={class:"date-search flex items-center gap-3"},jo={class:"label font-medium"},Oo={class:"flex items-center gap-2"},Ro={class:"h-[30px] flex items-center justify-between px-4 bg-white rounded cursor-pointer"},No=["disabled"],Uo=K({__name:"date",props:{title:{}},emits:["update:selectedDate"],setup(e,{emit:t}){const n=t,o=()=>{const g=new Date,h=g.getFullYear(),v=g.getMonth()+1;return{year:h,month:v}},s=C(o().year),r=C(o()),a=C(""),l=()=>{const{year:g,month:h}=r.value;a.value=`${g}/${h.toString().padStart(2,"0")}`,n("update:selectedDate",a.value)},i=g=>{let{year:h,month:v}=r.value;v+=g,v>12?(v=1,h+=1):v<1&&(v=12,h-=1),c.value={year:h,month:v-1}};pe(()=>{l()});const c=C({year:r.value.year,month:r.value.month-1});F(c,()=>{r.value={year:c.value.year,month:c.value.month+1},s.value=c.value.year,l()});const m=U(()=>{const g=new Date;return r.value.year>g.getFullYear()||r.value.year===g.getFullYear()&&r.value.month>=g.getMonth()+1}),x=U(()=>{const g=new Date,h=g.getFullYear(),v=g.getMonth();return s.value===h?{months:Array.from({length:12},(_,b)=>{const O=new Date(h,b);return b>v?ls(O):null}).filter(Boolean)}:{months:s.value>h?Array.from({length:12},(_,b)=>b):[]}});return(g,h)=>(k(),M("div",Po,[p("span",jo,N(g.title),1),p("div",Oo,[p("button",{class:"flex items-center gap-1 bg-gray-300 text-gray-700 pl-2 pr-3 py-[5px] rounded-md hover:bg-gray-400",onClick:h[0]||(h[0]=v=>i(-1))},[y(d(is),{class:"w-4 h-4"}),h[4]||(h[4]=V(" 前月 "))]),y(d(us),{modelValue:d(c),"onUpdate:modelValue":h[1]||(h[1]=v=>te(c)?c.value=v:null),"month-picker":"","auto-apply":"","format-locale":d(cs),format:"E",filters:d(x),onUpdateMonthYear:h[2]||(h[2]=v=>s.value=v.year)},{trigger:S(()=>[p("div",Ro,[p("span",null,N(d(a)),1),y(d(hs),{class:"w-4 h-4"})])]),_:1},8,["modelValue","format-locale","filters"]),p("button",{class:q(["flex items-center gap-1 bg-gray-300 text-gray-700 pl-3 pr-2 py-[5px] rounded-md",{"opacity-50":d(m),"hover:bg-gray-400":!d(m)}]),onClick:h[3]||(h[3]=v=>i(1)),disabled:d(m)},[h[5]||(h[5]=V(" 翌月 ")),y(d(gs),{class:"w-4 h-4"})],10,No)])]))}}),Bo=ae(Uo,[["__scopeId","data-v-b4a4150f"]]),rn=K({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const s=Ft(e,t);return(r,a)=>(k(),B(d(ns),Fe(Ye(d(s))),{default:S(()=>[fe(r.$slots,"default")]),_:3},16))}}),an=K({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const n=e,o=t,s=U(()=>{const{class:a,...l}=n;return l}),r=Ft(s,o);return(a,l)=>(k(),B(d(os),null,{default:S(()=>[y(d(ss),Nt({...d(r),...a.$attrs},{class:d(Bt)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:S(()=>[fe(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ln=K({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(n,o)=>(k(),B(d(rs),Fe(Ye(t)),{default:S(()=>[fe(n.$slots,"default")]),_:3},16))}}),cn=K({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const t=e;return(n,o)=>(k(),B(d(as),Fe(Ye(t)),{default:S(()=>[fe(n.$slots,"default")]),_:3},16))}}),un=jn("userListPageStore",()=>{const e=C(!1),t=C(!1);return{isOpenNotifyCrawl:e,isOpenNotifyExport:t}}),Fo={class:"search flex justify-between items-center min-h-[80px] !px-[25px] max-lg:!px-[10px] max-lg:flex-col max-lg:gap-5 max-lg:justify-start"},Yo={class:"office flex gap-5 items-center font-medium w-full"},Ho={class:"date w-full"},zo={class:"flex relative gap-5 pr-[20px]"},Ko={key:0,class:"absolute top-[5px] right-[-7px]"},Vo={class:"text-[12px]"},qo={key:1,class:"absolute top-[36px] left-[-30px] text-[10px] w-[200px]"},Go={key:2,class:"absolute top-[36px] left-0 text-[10px] w-[200px]"},Jo=K({__name:"index",emits:["update:officeId","update:targetYearMonth"],setup(e,{emit:t}){const n=On(),o=we(),s=un(),r=Se(),a=C(""),l=C(""),i=C(!1),c=t,m=U(()=>r.job);F(()=>m.value,(v,_)=>{(_==null?void 0:_.requestUpdate.status)==1&&(v==null?void 0:v.requestUpdate.status)==3&&window.location.reload()},{immediate:!0,deep:!0});const x=U(()=>{const v=n.getLocalStorage(Ee.officeName),_=o.offices.map(b=>b.officeName);return v&&_.length&&_.includes(v)&&(a.value=v),!v&&_[0]&&(a.value=_[0],n.setLocalStorage(Ee.officeName,_[0])),_}),g=U(()=>{var v;return a.value&&n.setLocalStorage(Ee.officeName,a.value),(v=o.offices.find(_=>_.officeName===a.value))==null?void 0:v.id});F(g,()=>{c("update:officeId",g.value)}),F(l,()=>{c("update:targetYearMonth",l.value)});const h=async()=>{i.value=!0;try{const v=await o.crawlCompanyUserStatus();await r.searchLastJob(),v!=null&&v.data&&(s.isOpenNotifyCrawl=!0,setTimeout(()=>{window.location.reload()},3500))}catch(v){console.error(v)}finally{i.value=!1}};return(v,_)=>{var R,G,Q;const b=Ao,O=Bo,L=Yt,A=ln,Y=an,J=rn,E=cn;return k(),M("div",Fo,[p("div",Yo,[_[2]||(_[2]=p("span",{class:"label"},"事業所",-1)),y(b,{width:"300px",options:d(x),"value-selected":d(a),"onUpdate:selectedValue":_[0]||(_[0]=P=>a.value=P)},null,8,["options","value-selected"])]),p("div",Ho,[y(O,{title:"表示年月","onUpdate:selectedDate":_[1]||(_[1]=P=>l.value=P)})]),p("div",zo,[y(L,{onClick:h,class:"w-[80px] flex items-center justify-center"},{default:S(()=>[d(i)?(k(),B(d(Ht),{key:0,class:"w-4 h-4 mr-2 animate-spin flex-shrink-0"})):X("",!0),_[3]||(_[3]=V("更新 "))]),_:1}),((R=d(m))==null?void 0:R.requestUpdate.status)==2?(k(),M("div",Ko,[y(E,null,{default:S(()=>[y(J,null,{default:S(()=>[y(A,null,{default:S(()=>[y(d(Ae),{class:"w-[20px] h-[20px] text-red-500 cursor-pointer hover:text-red-600"})]),_:1}),y(Y,{class:"mb-2 mr-2"},{default:S(()=>{var P;return[p("p",Vo,N((P=d(m))==null?void 0:P.requestUpdate.errorMessage),1)]}),_:1})]),_:1})]),_:1})])):X("",!0),(Q=(G=d(m))==null?void 0:G.requestUpdate)!=null&&Q.updatedAt?(k(),M("div",qo," 最終更新："+N(("formatDate"in v?v.formatDate:d(ye))(d(m).requestUpdate.updatedAt,"YYYY/MM/DD HH:mm")),1)):(k(),M("div",Go," 最終更新：N/A "))])])}}}),Qo=ae(Jo,[["__scopeId","data-v-abe470ed"]]),Wo={class:"flex flex-col items-center"},Xo={class:"grid grid-cols-5 gap-2 mb-4"},Zo=["onClick"],er=K({__name:"character",setup(e){const t=we(),n=C(ht.map(l=>({...l,selected:!1}))),o=U(()=>t.userNameKana);F(o,()=>{const l=t.charactersSelected.length>0;n.value=ht.map(i=>{var m;const c=(m=o.value)==null?void 0:m.some(x=>x.startsWith(i.label)||x.startsWith(i.label2));return{...i,disabled:!c,selected:l?t.charactersSelected.includes(`${i.label}, ${i.label2}`):!1}})});const s=l=>l.disabled?"h-[25px] w-[25px] bg-gray-400 text-white rounded-md cursor-not-allowed ":l.selected?"h-[25px] w-[25px] border border-blue-500 text-blue-500 rounded-md ":"h-[25px] w-[25px] border border-black rounded-md hover:bg-gray-100 ",r=l=>{l.disabled||(l.selected=!l.selected),t.charactersSelected=n.value.filter(i=>i.selected).map(i=>`${i.label}, ${i.label2}`)},a=()=>{n.value.forEach(l=>{l.selected=!1}),t.charactersSelected=[]};return(l,i)=>(k(),M("div",Wo,[p("div",Xo,[(k(!0),M(oe,null,re(d(n),(c,m)=>(k(),M("button",{key:m,class:q(s(c)),onClick:x=>r(c)},N(c.label),11,Zo))),128))]),p("button",{class:"py-2 px-4 border border-black rounded-full text-black hover:bg-gray-200",onClick:a}," 条件クリア ")]))}}),tr=ae(er,[["__scopeId","data-v-e901fe4f"]]),nr=K({__name:"status",props:{cssStyle:{},type:{},selectedStatus:{}},emits:["filterStatus"],setup(e,{emit:t}){const n=e,{type:o}=Ut(n),s=C(n.selectedStatus),r={0:"未実行",1:"実行予定",2:"実行済み",3:"実行エラー"},a=t,l=Object.entries(r).map(([i,c])=>({id:Number(i),value:c}));return F(()=>n.selectedStatus,i=>{s.value=i}),F(s,()=>{a("filterStatus",{status:s.value,type:o.value})}),(i,c)=>{const m=_s,x=bs,g=xs,h=Ss,v=ws;return k(),M("div",{class:q(i.cssStyle)},[y(v,{modelValue:d(s),"onUpdate:modelValue":c[0]||(c[0]=_=>te(s)?s.value=_:null)},{default:S(()=>[y(x,{class:"w-full"},{default:S(()=>[y(m,{placeholder:""})]),_:1}),y(h,null,{default:S(()=>[y(g,{value:"999"},{default:S(()=>c[1]||(c[1]=[V("すべて")])),_:1}),(k(!0),M(oe,null,re(d(l),_=>(k(),B(g,{value:`${_.id}`},{default:S(()=>[V(N(_.value),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])],2)}}}),sr={key:0,class:"absolute w-full h-full bg-[#f7f5f505] flex justify-center items-center z-50"},or=["innerHTML"],rr=K({__name:"notify-handle-export",props:{isOpenNotify:{type:Boolean,default:!1},htmlMessage:{type:String,default:""},isError:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e,o=t;return F(()=>n.isOpenNotify,s=>{s&&setTimeout(()=>{o("close")},3e3)}),(s,r)=>e.isOpenNotify?(k(),M("div",sr,[p("div",{class:q(["bg-[#b5b5b5e6] py-[24px] px-[50px] gap-[8px] rounded-[30px]",{"bg-[#ead3d3]":e.isError}])},[p("div",{class:"flex flex-col items-center",innerHTML:e.htmlMessage},null,8,or)],2)])):X("",!0)}}),ar={class:"table-container overflow-auto border-b"},lr={class:"w-full table-fixed"},ir={class:"pl-5"},cr=K({__name:"confirm-create-report",props:{users:{type:Array,default:()=>[]},isOpen:{type:Boolean,default:!1}},emits:["close","export"],setup(e,{emit:t}){const n=e,o=C(n.isOpen);F(()=>n.isOpen,i=>{o.value=i});const s=C(!1),r=t,a=()=>{r("close")},l=()=>{s.value=!0,r("export"),setTimeout(()=>{s.value=!1,r("close")},1e3)};return(i,c)=>{const m=Lt,x=At,g=Ts,h=Pt,v=An,_=jt,b=Ot,O=Rt;return k(),B(O,{open:d(o),"onUpdate:open":c[0]||(c[0]=L=>te(o)?o.value=L:null)},{default:S(()=>[y(b,null,{default:S(()=>[y(x,{class:"flex flex-col gap-4 items-center"},{default:S(()=>[y(m,{class:"text-sm"},{default:S(()=>c[1]||(c[1]=[V("実行の確認")])),_:1})]),_:1}),y(g,null,{default:S(()=>c[2]||(c[2]=[p("span",null,"以下を実行します、よろしいですか？",-1)])),_:1}),p("div",ar,[p("table",lr,[c[5]||(c[5]=p("thead",{class:"bg-[#adadad] sticky top-0 z-10"},[p("tr",{class:"border border-[#adadad]"},[p("th",{class:"py-3 w-[50%]"},[p("span",{class:"flex items-center justify-center px-4 text-black border-white border-r-2"},"利用者")]),p("th",{class:"py-3 w-[25%]"},[p("span",{class:"flex items-center justify-center px-4 text-black border-white border-r-2"},"報告書")]),p("th",{class:"py-3 w-[25%]"},[p("span",{class:"flex items-center justify-center px-4 text-black"},"計画書")])])],-1)),p("tbody",null,[(k(!0),M(oe,null,re(e.users,(L,A)=>(k(),M("tr",{key:A,class:"h-10 hover:cursor-pointer hover:bg-[#cfcfcf47] border border-gray-300"},[p("td",null,[p("span",ir,N(L.nameKanji),1)]),p("td",{class:q(L.reportStatus===99?"visible":"invisible")},c[3]||(c[3]=[p("span",{class:"text-center flex justify-center bg-[#ccc] py-[8px] mx-[5px] rounded"},"実行",-1)]),2),p("td",{class:q(L.planStatus===99?"visible":"invisible")},c[4]||(c[4]=[p("span",{class:"text-center flex justify-center bg-[#ccc] py-[8px] mx-[5px] rounded"},"実行",-1)]),2)]))),128))])])]),y(_,{class:"flex !flex-col gap-4"},{default:S(()=>[y(h,{class:"flex self-center min-w-[120px]",onClick:l},{default:S(()=>[d(s)?(k(),B(d(Ht),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):X("",!0),c[6]||(c[6]=V("実行"))]),_:1}),y(v,{class:"flex self-center border border-gray-300 min-w-[120px]",onClick:a},{default:S(()=>c[7]||(c[7]=[V("キャンセル")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),ur=ae(cr,[["__scopeId","data-v-04b4db2b"]]),dr={class:"user-container flex flex-col gap-2 overflow-hidden"},fr={class:"action flex justify-between pr-5 max-lg:flex-col max-lg:gap-5"},pr={class:"flex gap-4 items-center"},mr={class:"relative w-full max-w-[220px] items-center justify-center"},hr={class:"absolute start-0 inset-y-0 flex items-center justify-center px-2"},gr={class:"flex items-center gap-2"},yr={id:"toggle-report-element",class:"flex! items-center justify-center space-x-2 absolute duration-10 ease-linear whitespace-nowrap top-0"},vr={id:"toggle-plan-element",class:"flex! items-center justify-center space-x-2 absolute duration-10 ease-linear whitespace-nowrap top-0"},_r={class:"w-full flex relative flex-col mt-[35px]"},br={class:"w-full table-fixed",id:"table-user"},xr={class:"sticky top-0 z-10"},Sr={class:"bg-[#afeeee] mt-[20px]"},wr=["id"],Cr=["onClick"],kr={key:0},Tr=["colspan"],Ir={key:0},Er={key:1},Dr=["innerHTML"],$r=["innerHTML"],Mr=["onClick"],Lr=["onClick"],Ar={class:"flex justify-end mr-[35px]"},z=99,Pr=K({__name:"index",props:{officeId:{type:Number},targetYearMonth:{type:String}},setup(e,{expose:t}){const n=e,{officeId:o,targetYearMonth:s}=Ut(n),r=we(),a=un(),l=Se(),i=C(""),c=C(""),m=C(!1),x=C(!1),g=C(!1),h=C(!1),v=C(!0),_=C("999"),b=C("999"),O=C([]),L=[{label:"利用者",width:"16%",key:"nameKanji",isSort:!0},{label:"生年月日",width:"12%",key:"birthday",isSort:!0},{label:"報告書",width:"12%",key:"reportStatus",isSort:!1},{label:"実行日時",width:"15%",key:"reportDate",isSort:!1},{label:"計画書",width:"12%",key:"planStatus",isSort:!1},{label:"実行日時",width:"15%",key:"planDate",isSort:!1},{label:"報告書",width:"9%",key:"actionReport",isSort:!1},{label:"計画書",width:"9%",key:"actionPlan",isSort:!1}],A={0:"未実行",1:"実行予定",2:"実行済み",3:"実行エラー"},Y=C(Rn),J=C(gt),E=C(!1),R=U(()=>r.isLoadCompanyUsers),G=U(()=>r.charactersSelected),Q=U(()=>r.isHaveDataCompanyUsers),P=U(()=>r.companyUsers),Je=U(()=>l.notify),D=C([]);F(P,()=>{x.value=!1,g.value=!1,D.value=me()}),F([i,G,c],()=>{D.value=me()}),F(D,f=>{const u=f.some(w=>w.reportStatus===z||w.planStatus===z);v.value=!u}),F([_,b],()=>{D.value=me()});const me=f=>{let u=f??[...P.value];return i.value&&(u=bn(u)),G.value.length&&(u=pn(u)),c.value&&(u=mn(u)),(_.value!=="999"||b.value!=="999")&&(u=dn(u)),u},Qe=({status:f,type:u})=>{u==="report"&&(_.value=f),u==="plan"&&(b.value=f)},dn=f=>{const u=Number(_.value),w=Number(b.value);return f.filter(T=>u!==999&&w!==999?T.reportStatus===u&&T.planStatus===w:u!==999?T.reportStatus===u:w!==999?T.planStatus===w:!0)},fn=()=>{!g.value?(D.value=hn(D.value),x.value&&Ie(x.value)):(D.value=D.value.map(u=>{var w;return{...u,reportStatus:((w=P.value.find(T=>T.id===u.id))==null?void 0:w.reportStatus)??0}}),x.value=!1,Ie(x.value))},Ie=f=>{(f!==void 0?f:!x.value)?D.value=gn(D.value):(D.value=D.value.map(w=>{var T;return{...w,planStatus:((T=P.value.find($=>$.id===w.id))==null?void 0:T.planStatus)??0}}),D.value=me(D.value))},pn=f=>f.filter(u=>G.value.some(w=>{const[T,$]=w.split(",");return u.nameKana.startsWith(T.trim())||u.nameKana.startsWith($.trim())})),mn=f=>f.filter(u=>u.nameKanji.includes(c.value)),hn=f=>f.map(u=>({...u,reportStatus:u.reportStatus===0||u.reportStatus===3?z:u.reportStatus})),gn=f=>f.map(u=>({...u,planStatus:(u.planStatus===0||u.planStatus===3)&&u.reportStatus!==0&&u.reportStatus!==3?z:u.planStatus})),We=f=>f?f===1||f===z?A[1]:f===2?A[2]:f===3?A[3]:A[0]:A[0],Xe=f=>{f||(f=0);let u="flex justify-center items-center py-2 ml-2 rounded-sm ";switch(f){case 0:u+="bg-[#d4e9d3]";break;case 1:case z:u+="bg-[#fff3cb]";break;case 2:u+="bg-[#d9e8fc]";break;case 3:u+="bg-[#f8cecb]";break}return u},yn=f=>{f||(f=0);let u="flex justify-center items-center py-2 ml-2 rounded-sm mx-1 ";switch(f){case 0:case 3:u+=ne.value?"border border-gray-300 bg-[#ccc] opacity-50 cursor-not-allowed":"border border-gray-300 hover:bg-[#faeded]";break;case 1:u+="bg-[#afeeed] cursor-not-allowed";break;case 2:u+="bg-[#ccc] cursor-not-allowed";break;case z:u+="bg-[#afeeed] hover:bg-[#77f6f4]";break}return u},vn=f=>{const u=f.reportStatus??0,w=f.planStatus??0;let T="flex justify-center items-center py-2 ml-2 rounded-sm mx-1 ";switch(w){case 0:case 3:T+=[z,1,2].includes(u)&&!ne.value?"border border-gray-300 hover:bg-[#faeded]":"border border-gray-300 bg-[#ccc] opacity-50 cursor-not-allowed";break;case 1:T+="bg-[#afeeed] cursor-not-allowed";break;case 2:T+="bg-[#ccc] cursor-not-allowed";break;case z:T+="bg-[#afeeed] hover:bg-[#77f6f4]";break}return T},_n=f=>{if(!f.isSort)return;const[u,w]=i.value.split(":"),T=u===f.key?w===ee.ASC?ee.DESC:"":ee.ASC;i.value=T?`${f.key}:${T}`:""},bn=f=>{const[u,w]=i.value.split(":");return f.sort((T,$)=>{const j=T[u],H=$[u];if(typeof j=="number"&&typeof H=="number")return w===ee.DESC?H-j:j-H;if(typeof j=="string"&&typeof H=="string"){const W=new Date(j),Z=new Date(H);return!isNaN(W.getTime())&&!isNaN(Z.getTime())?w===ee.DESC?Z.getTime()-W.getTime():W.getTime()-Z.getTime():w===ee.DESC?H.localeCompare(j):j.localeCompare(H)}return 0})},xn=f=>{var j;if(ne.value)return;const{id:u,reportStatus:w}=f;if(![0,3,z].includes(w))return;const T=((j=P.value.find(H=>H.id===u))==null?void 0:j.reportStatus)??0,$=w===z?T:z;D.value=D.value.map(Sn(f.id,$)),$!=z&&Ze(f,!0)},Ze=(f,u)=>{var W;if(ne.value)return;const{id:w,planStatus:T,reportStatus:$}=f;if(![0,3,z].includes(T)||[0,3].includes($))return;const j=((W=P.value.find(Z=>Z.id===w))==null?void 0:W.planStatus)??0;if(u){D.value=D.value.map(et(f.id,j));return}const H=T===z?j:z;D.value=D.value.map(et(f.id,H))},Sn=(f,u)=>w=>w.id===f?{...w,reportStatus:u}:w,et=(f,u)=>w=>w.id===f?{...w,planStatus:u}:w,wn=()=>{O.value=D.value.filter(f=>f.reportStatus===99||f.planStatus===99),m.value=!0},Cn=async()=>{var w;l.clearNotify(),r.isLoadCompanyUsers=!0;const f=O.value.map(T=>{const{id:$}=T,j=T.reportStatus===99?1:0,H=T.planStatus===99?1:0;return{id:$,isExecuteReport:j,isExecutePlan:H}});if(!(o!=null&&o.value)||!(s!=null&&s.value))return;const u={officeId:o==null?void 0:o.value,targetYearMonth:s==null?void 0:s.value,users:f};if(await r.bulkExportReport(u),(w=Je.value)!=null&&w.message){J.value=`
      <span class="text-red-500">${Je.value.message}</span>
    `,E.value=!0,a.isOpenNotifyExport=!0,r.isLoadCompanyUsers=!1;return}await Promise.all([await r.getCompanyUseStatus({officeId:o==null?void 0:o.value,targetYearMonth:s==null?void 0:s.value}),await l.searchLastJob()]),r.isLoadCompanyUsers=!1,J.value=gt,a.isOpenNotifyExport=!0},tt=C(),nt=C(),st=C(),ot=C(),rt=C(),at=C(),lt=C(),it=C(),ct=C(),ut=C(),kn=C(0);pe(()=>{var f;tt.value=document.getElementById("select-report-element"),nt.value=document.getElementById("column-3"),st.value=document.getElementById("select-plan-element"),ot.value=document.getElementById("column-5"),rt.value=document.getElementById("toggle-report-element"),at.value=document.getElementById("column-7"),lt.value=document.getElementById("toggle-plan-element"),it.value=document.getElementById("column-8"),ct.value=document.getElementById("table-user"),ut.value=(f=ct.value)==null?void 0:f.getBoundingClientRect(),he(),window.addEventListener("resize",he)});const he=()=>{const f=ut.value,u=[{element:tt.value,column:nt.value,position:35},{element:st.value,column:ot.value,position:35},{element:rt.value,column:at.value,position:30},{element:lt.value,column:it.value,position:30}],w=()=>{u.forEach(({element:T,column:$,position:j})=>{Tn(T,$,j,f)})};w(),setTimeout(w,50)},Tn=(f,u,w,T)=>{if(!f||!u)return;const $=u.getBoundingClientRect();f.style.left=`${$.left+window.scrollX}px`,f.style.top=`${$.top+window.scrollY-w}px`,f.style.width=`${$.width-2}px`,T&&T.left>$.left||window.innerWidth-$.left-$.width<5?(f.style.zIndex="-1",f.style.display="none"):(f.style.zIndex="5",f.style.display="flex")},In=f=>{f.target.scrollLeft!==kn.value&&he()};Nn(()=>{he()});const En=U(()=>l.isLoadPermission),ne=U(()=>(En.value,!Me()));return t({resetFilterTable:f=>{f&&(c.value="",_.value="999",b.value="999",i.value=""),h.value=!1}}),(f,u)=>{const w=Hn,T=vs,$=nr,j=Cs,H=ln,W=an,Z=rn,dt=cn,Dn=ks,ft=rr,$n=Yt,Mn=ur,Ln=fs;return k(),M("div",dr,[p("div",fr,[p("div",pr,[p("div",mr,[y(w,{id:"search",type:"text",placeholder:"Search",class:"pl-10",modelValue:d(c),"onUpdate:modelValue":u[0]||(u[0]=I=>te(c)?c.value=I:null)},null,8,["modelValue"]),p("span",hr,[y(d(ds),{class:"w-4 h-4 text-muted-foreground"})])]),p("div",gr,[y(T,{id:"terms",checked:d(h),"onUpdate:checked":u[1]||(u[1]=I=>te(h)?h.value=I:null)},null,8,["checked"]),u[9]||(u[9]=p("span",{for:"terms",class:"flex text-xs flex-shrink-0"}," 和暦表示 ",-1))])])]),y($,{id:"select-report-element",cssStyle:"absolute duration-10 ease-linear whitespace-nowrap top-0",type:"report","selected-status":d(_),onFilterStatus:Qe},null,8,["selected-status"]),y($,{id:"select-plan-element",cssStyle:"absolute duration-10 ease-linear whitespace-nowrap top-0",type:"plan","selected-status":d(b),onFilterStatus:Qe},null,8,["selected-status"]),p("div",yr,[y(j,{disabled:d(ne),checked:d(g),"onUpdate:checked":u[2]||(u[2]=I=>te(g)?g.value=I:null),onClick:u[3]||(u[3]=()=>fn())},null,8,["disabled","checked"]),u[10]||(u[10]=p("span",null,"一括",-1))]),p("div",vr,[y(j,{disabled:d(ne),checked:d(x),"onUpdate:checked":u[4]||(u[4]=I=>te(x)?x.value=I:null),onClick:u[5]||(u[5]=()=>Ie())},null,8,["disabled","checked"]),u[11]||(u[11]=p("span",null,"一括",-1))]),p("div",_r,[p("div",{class:q(["table-container overflow-auto border-b",{"border-l":d(D).length}]),onScroll:In},[p("table",br,[p("thead",xr,[p("tr",Sr,[(k(),M(oe,null,re(L,(I,le)=>p("th",{class:"py-3",id:`column-${le+1}`,key:le,style:Le({width:I.width})},[p("span",{class:q(["flex items-center justify-center px-4 text-black border-white hover:cursor-pointer ",le<L.length-1?"border-r-2":""]),onClick:pt=>_n(I)},[V(N(I.label)+" ",1),d(i)&&d(i).split(":")[1]==("SORT"in f?f.SORT:d(ee)).ASC&&I.key==d(i).split(":")[0]?(k(),B(d(ps),{key:0,width:"12",height:"12",class:"ml-1 hover:text-[#5566da]"})):X("",!0),d(i)&&d(i).split(":")[1]==("SORT"in f?f.SORT:d(ee)).DESC&&I.key==d(i).split(":")[0]?(k(),B(d(ms),{key:1,width:"12",height:"12",class:"ml-1 hover:text-[#5566da]"})):X("",!0)],10,Cr)],12,wr)),64))])]),p("tbody",null,[d(D).length===0&&!d(Q)?(k(),M("tr",kr,[p("td",{class:"text-center py-3 text-[#5566da]",colspan:L.length},N(("MESSAGES"in f?f.MESSAGES:d(Un)).EMPTY),9,Tr)])):(k(!0),M(oe,{key:1},re(d(D),(I,le)=>(k(),M("tr",{class:q(["bg-white dark:bg-gray-800 text-center h-10 hover:cursor-pointer hover:bg-[#afe7ee47]",[le<d(D).length-1?"border-b":""]])},[p("td",null,[p("span",null,N(I.nameKanji),1)]),p("td",null,[d(h)?(k(),M("span",Ir,N(("formatToJapaneseEra"in f?f.formatToJapaneseEra:d(ys))(I.birthday)),1)):(k(),M("span",Er,N(("formatDate"in f?f.formatDate:d(ye))(I.birthday,"YYYY/MM/DD")),1))]),p("td",null,[p("span",{class:q(["px-[18px] py-[8px] rounded-sm",Xe(I.reportStatus)])},[V(N(We(I.reportStatus))+" ",1),I.reportErrorMessage?(k(),B(dt,{key:0},{default:S(()=>[y(Z,null,{default:S(()=>[y(H,null,{default:S(()=>[y(d(Ae),{width:"16",height:"16",class:"ml-[5px] hover:text-[#5566da] text-[red]"})]),_:1}),y(W,null,{default:S(()=>[p("p",{innerHTML:I.reportErrorMessage},null,8,Dr)]),_:2},1024)]),_:2},1024)]),_:2},1024)):X("",!0)],2)]),p("td",null,[p("span",null,N(("formatDate"in f?f.formatDate:d(ye))(I.reportDate,"YYYY/MM/DD HH:mm")),1)]),p("td",null,[p("span",{class:q(["px-[18px] py-[8px] rounded-sm",Xe(I.planStatus)])},[V(N(We(I.planStatus))+" ",1),I.planErrorMessage?(k(),B(dt,{key:0},{default:S(()=>[y(Z,null,{default:S(()=>[y(H,null,{default:S(()=>[y(d(Ae),{width:"16",height:"16",class:"ml-[5px] hover:text-[#5566da] text-[red]"})]),_:1}),y(W,null,{default:S(()=>[p("p",{class:"text-[12px]",innerHTML:I.planErrorMessage},null,8,$r)]),_:2},1024)]),_:2},1024)]),_:2},1024)):X("",!0)],2)]),p("td",null,[p("span",null,N(("formatDate"in f?f.formatDate:d(ye))(I.planDate,"YYYY/MM/DD HH:mm")),1)]),p("td",null,[p("span",{class:q(yn(I.reportStatus)),onClick:pt=>xn(I)},"実行",10,Mr)]),p("td",null,[p("span",{class:q(vn(I)),onClick:pt=>Ze(I)},"実行 ",10,Lr)])],2))),256))])])],34),d(R)?(k(),B(Dn,{key:0})):X("",!0),y(ft,{"is-open-notify":d(a).isOpenNotifyCrawl,"html-message":d(Y),onClose:u[6]||(u[6]=I=>d(a).isOpenNotifyCrawl=!1)},null,8,["is-open-notify","html-message"]),y(ft,{"is-open-notify":d(a).isOpenNotifyExport,"html-message":d(J),"is-error":d(E),onClose:u[7]||(u[7]=I=>{d(a).isOpenNotifyExport=!1,E.value=!1})},null,8,["is-open-notify","html-message","is-error"]),p("div",Ar,[y($n,{disabled:d(v)||d(ne),class:"flex justify-end mt-[30px]",onClick:wn},{default:S(()=>u[12]||(u[12]=[V(" 実行開始 ")])),_:1},8,["disabled"])])]),y(Mn,{isOpen:d(m),users:d(O),onClose:u[8]||(u[8]=()=>m.value=!1),onExport:Cn},null,8,["isOpen","users"]),y(Ln,{class:"top-[5px]"})])}}}),jr=ae(Pr,[["__scopeId","data-v-3350651d"]]),Or={class:"user-list px-4"},Rr={class:"relative header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},Nr={class:"body-content flex py-4 w-full gap-2"},ra=K({__name:"index",setup(e){const t=we(),n=Se(),o=Bn(),s=C(void 0),r=C(""),a=C(),l=g=>{var h;a.value&&((h=a.value)==null||h.resetFilterTable(!0)),s.value=g,m(!0)},i=g=>{var h;a.value&&((h=a.value)==null||h.resetFilterTable(!1)),r.value=g,m(!1)},c=g=>{const[h,v]=g.split("/");return`${h}-${v}-01`},m=g=>{s.value&&r.value&&t.getCompanyUseStatus({officeId:s.value,targetYearMonth:c(r.value)},g)};pe(()=>{n.searchLastJob(),m(!0)}),Fn(()=>{o.stopSearchLastJob()});const x=U(()=>n.job);return F(x,(g,h)=>{(h==null?void 0:h.requestReport.status)===1&&(g==null?void 0:g.requestReport.status)!==1&&m(!1)}),(g,h)=>{const v=Is,_=zn,b=Qo,O=tr,L=jr;return k(),M("div",Or,[y(v),p("div",Rr,[h[0]||(h[0]=p("span",{class:"text-base font-bold"},"利用者選択",-1)),y(_,{"class-custom":"absolute z-10 bg-[#ccc] w-[100%] top-[40px]  py-[11px]",type:"custom"})]),y(b,{"onUpdate:officeId":l,"onUpdate:targetYearMonth":i}),p("div",Nr,[y(O,{class:"px-5 py-10 min-w-[230px]"}),y(L,{class:"w-full",ref_key:"userTableComponentRef",ref:a,"office-id":d(s),"target-year-month":c(d(r))},null,8,["office-id","target-year-month"])])])}}});export{ra as default};
