import{t as fe,m as c,f as _e,u as xe,_ as ue,a as ge,c as ve,F as ye,b as he}from"./CXE5Zs7i.js";import{_ as be}from"./BDH5DPYX.js";import{_ as we}from"./DwyuH01A.js";import{_ as Ne}from"./afKb0lxd.js";import{_ as Pe,a as ke,b as Fe,c as Se,d as Ce}from"./D8HURDP5.js";import{_ as Ee,a as Re}from"./DsXO-jDH.js";import{_ as Ie}from"./Da31rw11.js";import{_ as Te}from"./BloInRWf.js";import{m as q,y as $e,n as Ge,z as Ke,r as P,A as Ae,F as t,M as b,P as Oe,T as R,o as y,c as T,a as s,b as e,w as a,q as f,p as g,v as N,x as U,d as I,B as Me,C as Le,D as De,E as V,G as B,t as Y,H as Ue,I as Ve}from"./iS0oAOGk.js";import{o as Be,s as _}from"./C7MCtxAn.js";import{g as Ye}from"./Dzx-zW68.js";import{u as He}from"./hsJliswv.js";import{u as je}from"./D5jhl65h.js";import{L as qe}from"./C6vLJh-9.js";import{E as H,a as j}from"./CnytOEqU.js";import{_ as ze}from"./DlAUqK2U.js";import"./D4gF7wLS.js";import"./CtShLwV8.js";const We={class:"login-page flex flex-col !h-[100vh] overflow-hidden relative"},Je={class:"flex justify-between mt-[15px]"},Qe={class:"form overflow-y-auto scroll"},Xe={class:"flex flex-col w-[900px] gap-[25px] pb-[20px]"},Ze={class:"company flex flex-col gap-5"},ea={class:"relative w-[82%] !m-[0px]"},aa={class:"relative w-[82%] !m-[0px]"},sa={class:"information flex flex-col gap-5"},la={class:"relative flex !m-[0px] gap-[20px]"},ta={class:"relative w-[82%] !m-[0px]"},oa={class:"flex flex-col gap-[15px] w-[82%]"},na={class:"flex gap-5 items-center !m-[0px]"},ca={class:"pic-position flex gap-5 items-center w-[50%]"},ia={class:"pic-name flex items-center gap-5 w-[50%]"},ra={class:"relative !m-[0px]"},pa={class:"relative !m-[0px]"},da={class:"flex gap-5 items-center !m-[0px]"},ma={class:"pic-name flex items-center gap-5 w-[50%]"},fa={class:"relative !m-[0px]"},_a={class:"relative !m-[0px]"},xa={class:"flex flex-col gap-[15px] w-[82%]"},ua={class:"flex gap-5 items-center !m-[0px]"},ga={class:"pic-position flex gap-5 items-center w-[50%]"},va={class:"pic-name flex items-center gap-5 w-[50%]"},ya={class:"relative !m-[0px]"},ha={class:"relative !m-[0px]"},ba={class:"flex gap-5 items-center !m-[0px]"},wa={class:"pic-name flex items-center gap-5 w-[50%]"},Na={class:"relative !m-[0px]"},Pa={class:"relative !m-[0px]"},ka={class:"contact flex flex-col gap-6"},Fa={class:"relative w-[40%] !m-[0px]"},Sa={class:"relative w-[82%] !m-[0px]"},Ca={class:"relative w-[82%] !m-[0px]"},Ea={class:"relative"},Ra={class:"relative w-[82%] !m-[0px]"},Ia={class:"relative w-[82%] !m-[0px]"},Ta={class:"relative w-[82%] !m-[0px]"},$a={class:"relative w-[82%] !m-[0px]"},Ga={class:"relative"},Ka={class:"relative w-[82%] !m-[0px]"},Aa={class:"relative w-[82%] !m-[0px] flex gap-2 items-center"},Oa={class:"flex max-w-[900px] justify-between py-[20px]"},Ma={class:"flex gap-5"},La=q({__name:"index",setup(z){const M=$e(),h=Ge();Ke();const $=He(),{redirectPage:L}=je(),F=P(!1),W=P(),S=P(!1),k=/^[\u30A0-\u30FF]+$/,J=Ae(()=>{var v;return(v=M.masterData)==null?void 0:v.kaigoSoftwares}),G=P(!1),K=P(!1),C=P(!1),Q=fe(Be({companyName:_(c(t.companyName)).min(1,c(t.companyName)).max(250,b.ERR011),companyNameKana:_(c(t.companyNameKana)).min(1,c(t.companyNameKana)).regex(k,{message:b.ERR005}),companyPostCode:_(c(t.companyPostCode)).min(1,t.companyPostCode),companyAddress:_(c(t.companyAddress)).min(1,t.companyAddress),frontPicPosition:_(c(t.frontPicPosition)).min(1,t.frontPicPosition),frontPicFamilyName:_(c(t.frontPicFamilyName)).min(1,t.frontPicFamilyName),frontPicGivenName:_(c(t.frontPicGivenName)).min(1,t.frontPicGivenName),frontPicFamilyNameKana:_(c(t.frontPicFamilyNameKana)).min(1,c(t.frontPicFamilyNameKana)).regex(k,{message:b.ERR005}),frontPicGivenNameKana:_(c(t.frontPicGivenNameKana)).min(1,c(t.frontPicGivenNameKana)).regex(k,{message:b.ERR005}),picPosition:_(c(t.picPosition)).min(1,t.picPosition),picFamilyName:_(c(t.picFamilyName)).min(1,t.picFamilyName),picGivenName:_(c(t.picGivenName)).min(1,t.picGivenName),picFamilyNameKana:_(c(t.picFamilyNameKana)).min(1,c(t.picFamilyNameKana)).regex(k,{message:b.ERR005}),picGivenNameKana:_(c(t.picGivenNameKana)).min(1,c(t.picGivenNameKana)).regex(k,{message:b.ERR005}),phoneNumber:_(c(t.phoneNumber)).min(1,t.phoneNumber),email:_(c(t.email)).min(1,t.email).email({message:b.ERR004}),password:Ye(c(t.password)),kaigoSoftware:_(_e(b.ERR002,t.kaigoSoftware)).min(1,t.kaigoSoftware),kaipokeCompanyId:_(c(t.kaipokeCompanyId)).min(1,t.kaipokeCompanyId),kaipokeUserId:_(c(t.kaipokeUserId)).min(1,t.kaipokeUserId),kaipokeUserPassword:_(c(t.kaipokeUserPassword)).min(8,{message:b.ERR007}),paymentMethod:_().default(Oe.bankWithdrawal)})),{handleSubmit:X,values:A,setFieldValue:Z}=xe({validationSchema:Q}),ee=()=>{S.value=!S.value},ae=()=>{F.value=!F.value},se=async()=>{const v=A==null?void 0:A.companyPostCode;if(!v){h.setNotify({message:"郵便番号が存在しません。",type:R.error});return}K.value=!0;const l=await h.searchPostalCode(v);if(l!=null&&l.data){const{prefecture:w,city:x}=l.data,d=`${w} ${x}`;Z("companyAddress",d),W.value=l.data}else h.setNotify({message:"郵便番号が存在しません。",type:R.error});K.value=!1},D=X(async v=>{var w;h.clearNotify(),G.value=!0;const l={...v,keepLastPlanContentFlg:C.value?1:0};await $.createNewCompany(l),G.value=!1,(w=h.notify)!=null&&w.message||le("新しい顧客の成功を生み出す。")},({errors:v})=>{const w=Object.keys(t).map(x=>v[x]).find(Boolean)??"";h.setNotify({message:w,type:R.error})}),le=v=>{h.setNotify({message:v,type:R.success}),setTimeout(()=>{L("/customer")},500)};return(v,l)=>{const w=ue,x=be,d=we,r=ge,i=ve,p=ye,E=he,O=Ne,te=Pe,oe=ke,ne=Fe,ce=Se,ie=Ce,re=Ee,pe=Re,de=Ie,me=Te;return y(),T("div",We,[s("div",Je,[e(w,{class:"pl-[64px]"})]),s("form",{class:"register flex flex-col gap-[25px] pl-[64px] pt-[10px] pb-[15px]",onSubmit:l[2]||(l[2]=(...o)=>g(D)&&g(D)(...o))},[s("div",Qe,[s("div",Xe,[e(x,{label:"必須項目です",position:"left",class:"mb-[10px]"}),s("div",Ze,[e(p,{name:"companyName"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"法人名",class:"w-[160px]"}),s("div",ea,[e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"companyNameKana"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"フリガナ",class:"w-[160px]"}),s("div",aa,[e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024),e(E,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1})]),l[15]||(l[15]=s("div",{class:"space"},null,-1)),s("div",sa,[e(p,{name:"companyPostCode"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"郵便番号",class:"w-[160px] flex"}),s("div",la,[e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024),e(O,{onClick:se,type:"button",variant:"cancel_btn",class:"!m-[0px] !rounded-3xl"},{default:a(()=>[g(K)?(y(),N(g(qe),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):U("",!0),l[3]||(l[3]=I(" 郵便番号から入力 "))]),_:1})])]),_:2},1024)]),_:1}),e(p,{name:"companyAddress"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"会社所在地",class:"w-[160px]"}),s("div",ta,[e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"frontPicPosition"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"代表者",class:"w-[160px] flex pt-[14px] items-baseline"}),s("div",oa,[s("div",na,[s("div",ca,[l[4]||(l[4]=s("span",{class:"label w-[35px]"},"役職",-1)),e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)]),s("div",ia,[l[5]||(l[5]=s("span",{class:"label flex w-[19%]"},"お名前",-1)),e(p,{name:"frontPicFamilyName"},{default:a(({componentField:m,errors:u})=>[e(i,{class:"flex gap-5"},{default:a(()=>[s("div",ra,[e(r,null,{default:a(()=>[e(d,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},m,{class:{"border-red-500":u.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(p,{name:"frontPicGivenName"},{default:a(({componentField:m,errors:u})=>[e(i,{class:"flex gap-5"},{default:a(()=>[s("div",pa,[e(r,null,{default:a(()=>[e(d,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},m,{class:{"border-red-500":u.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),s("div",da,[l[7]||(l[7]=s("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),s("div",ma,[l[6]||(l[6]=s("span",{class:"label flex w-[19%]"},"フリガナ",-1)),e(p,{name:"frontPicFamilyNameKana"},{default:a(({componentField:m,errors:u})=>[e(i,{class:"flex gap-5"},{default:a(()=>[s("div",fa,[e(r,null,{default:a(()=>[e(d,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},m,{class:{"border-red-500":u.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(p,{name:"frontPicGivenNameKana"},{default:a(({componentField:m,errors:u})=>[e(i,{class:"flex gap-5"},{default:a(()=>[s("div",_a,[e(r,null,{default:a(()=>[e(d,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},m,{class:{"border-red-500":u.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1}),e(p,{name:"picPosition"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"ご担当者",class:"w-[160px] flex pt-[14px] items-baseline"}),s("div",xa,[s("div",ua,[s("div",ga,[l[8]||(l[8]=s("span",{class:"label w-[35px]"},"役職",-1)),e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)]),s("div",va,[l[9]||(l[9]=s("span",{class:"label flex w-[19%]"},"お名前",-1)),e(p,{name:"picFamilyName"},{default:a(({componentField:m,errors:u})=>[e(i,{class:"flex gap-5"},{default:a(()=>[s("div",ya,[e(r,null,{default:a(()=>[e(d,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},m,{class:{"border-red-500":u.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(p,{name:"picGivenName"},{default:a(({componentField:m,errors:u})=>[e(i,{class:"flex gap-5"},{default:a(()=>[s("div",ha,[e(r,null,{default:a(()=>[e(d,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},m,{class:{"border-red-500":u.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),s("div",ba,[l[11]||(l[11]=s("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),s("div",wa,[l[10]||(l[10]=s("span",{class:"label flex w-[19%]"},"フリガナ",-1)),e(p,{name:"picFamilyNameKana"},{default:a(({componentField:m,errors:u})=>[e(i,{class:"flex gap-5"},{default:a(()=>[s("div",Na,[e(r,null,{default:a(()=>[e(d,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},m,{class:{"border-red-500":u.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(p,{name:"picGivenNameKana"},{default:a(({componentField:m,errors:u})=>[e(i,{class:"flex gap-5"},{default:a(()=>[s("div",Pa,[e(r,null,{default:a(()=>[e(d,f({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},m,{class:{"border-red-500":u.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1})]),l[16]||(l[16]=s("div",{class:"space"},null,-1)),s("div",ka,[e(p,{name:"phoneNumber"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"電話番号",class:"w-[160px]"}),s("div",Fa,[e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"email"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"メールアドレス",class:"w-[160px]"}),s("div",Sa,[e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"password"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"パスワード",class:"w-[160px]"}),s("div",Ca,[e(r,null,{default:a(()=>[s("div",Ea,[e(d,f({type:g(F)?"text":"password"},o,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":n.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2","aria-label":"Toggle password visibility",onClick:ae},[g(F)?(y(),N(g(j),{key:1,class:"h-5 w-3.5 text-black"})):(y(),N(g(H),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024),e(E,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1}),e(p,{name:"kaigoSoftware"},{default:a(({componentField:o,errors:n,meta:m})=>[e(i,{class:"relative flex gap-5"},{default:a(()=>[e(x,{label:"介護ソフト選択",class:"w-[160px]"}),s("div",Ra,[e(r,null,{default:a(()=>[e(ie,Me(Le(o)),{default:a(()=>[e(oe,{class:De({"border-red-500":n.length&&!o.modelValue})},{default:a(()=>[e(te,{placeholder:"Select an option"})]),_:2},1032,["class"]),e(ce,null,{default:a(()=>[(y(!0),T(V,null,B(g(J),u=>(y(),N(ne,{value:`${u.id}`},{default:a(()=>[I(Y(u.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040),e(E,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"kaipokeCompanyId"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"カイポケ法人ID",class:"w-[160px]"}),s("div",Ia,[e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"kaipokeUserId"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"カイポケユーザーID",class:"w-[160px]"}),s("div",Ta,[e(r,null,{default:a(()=>[e(d,f({type:"text"},o,{class:{"border-red-500":n.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"kaipokeUserPassword"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"カイポケパスワード",class:"w-[160px]"}),s("div",$a,[e(r,null,{default:a(()=>[s("div",Ga,[e(d,f({type:g(S)?"text":"password"},o,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":n.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2",onClick:ee,"aria-label":"Toggle password visibility"},[g(S)?(y(),N(g(j),{key:1,class:"h-5 w-3.5 text-black"})):(y(),N(g(H),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024),e(E,{class:"absolute top-full left-0 mt-1 text-red-500 !m-[0px] !text-[12px] font-normal"})])]),_:2},1024)]),_:1}),e(p,{name:"paymentMethod"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[e(x,{label:"決済方法",class:"w-[160px]"}),s("div",Ka,[e(r,null,{default:a(()=>[e(pe,f({class:"flex gap-5"},o),{default:a(()=>[(y(!0),T(V,null,B("PAYMENT_METHOD_OPTIONS_LIST"in v?v.PAYMENT_METHOD_OPTIONS_LIST:g(Ue),m=>(y(),N(i,{class:"flex items-center space-y-0 gap-x-3"},{default:a(()=>[e(r,null,{default:a(()=>[e(re,{value:m.type},null,8,["value"])]),_:2},1024),s("span",null,Y(m.value),1)]),_:2},1024))),256))]),_:2},1040)]),_:2},1024)])]),_:2},1024)]),_:1}),e(p,{name:"remainOldPlan"},{default:a(({componentField:o,errors:n})=>[e(i,{class:"flex gap-5"},{default:a(()=>[l[14]||(l[14]=s("span",{class:"w-[160px] flex items-center"},"前回の計画書内容を保持する",-1)),s("div",Aa,[l[12]||(l[12]=s("span",null,"OFF",-1)),e(de,{checked:g(C),"onUpdate:checked":l[0]||(l[0]=m=>Ve(C)?C.value=m:null)},null,8,["checked"]),l[13]||(l[13]=s("span",null,"ON",-1))])]),_:1})]),_:1})])])]),s("div",Oa,[s("div",Ma,[e(O,{type:"button",variant:"cancel_btn",class:"flex self-center",onClick:l[1]||(l[1]=o=>g(L)("/customer"))},{default:a(()=>l[17]||(l[17]=[I(" キャンセル ")])),_:1}),e(O,{variant:"export",class:"delete flex self-center"},{default:a(()=>l[18]||(l[18]=[I(" 登録 ")])),_:1})])])],32),g(G)?(y(),N(me,{key:0})):U("",!0)])}}}),Da=ze(La,[["__scopeId","data-v-afc2eb83"]]),Ua={class:"user-list px-4"},ns=q({__name:"index",setup(z){return(M,h)=>{const $=Da;return y(),T("div",Ua,[h[0]||(h[0]=s("div",{class:"header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},[s("span",{class:"text-base font-bold"},"顧客管理")],-1)),e($)])}}});export{ns as default};
