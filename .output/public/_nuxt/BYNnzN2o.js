import{_ as me}from"./DGZ1K-s3.js";import{_ as fe}from"./DwiTgMzS.js";import{_ as _e}from"./K1rGko4K.js";import{t as ue,u as xe,_ as ve,a as ge,F as ye}from"./UJTwHcTU.js";import{_ as he}from"./QoE0Vrz0.js";import{_ as be,a as we,b as Pe,c as ke,d as Ne}from"./C7iV188G.js";import{_ as Se,a as Fe}from"./BTiehaMg.js";import{_ as Ce}from"./XE1yAbfM.js";import{_ as Te}from"./P1CH34By.js";import{m as j,y as Ee,n as Ie,r as w,z as $e,F as c,M as Ae,P as Ge,T as S,o as g,c as T,a as s,p as u,v as h,x as K,b as e,w as a,q as m,d as F,A as Ke,B as Oe,C as Me,D as U,E as V,t as B,G as Le,H as Re}from"./DK0nRX4u.js";import{o as De,a as C,s as O,f as Ue}from"./CY5NHrte.js";import{v as x,g as Ve}from"./C6bJi9kJ.js";import{u as Be}from"./BKdaidwT.js";import{u as Ye}from"./C3hnd6Qu.js";import{L as He}from"./gZAR6wJ5.js";import{E as Y,a as H}from"./DypAia2W.js";import{_ as je}from"./DlAUqK2U.js";import"./DvWS0CI6.js";import"./BqY4mfxU.js";const qe={class:"login-page flex flex-col !h-[100vh] overflow-hidden relative"},ze={class:"flex justify-between mt-[15px]"},We={class:"form overflow-y-auto scroll"},Je={class:"flex flex-col w-[900px] gap-[25px] pb-[20px]"},Qe={class:"company flex flex-col gap-5"},Xe={class:"relative w-[82%] !m-[0px]"},Ze={class:"relative w-[82%] !m-[0px]"},ea={class:"information flex flex-col gap-5"},aa={class:"relative flex !m-[0px] gap-[20px]"},sa={class:"relative w-[82%] !m-[0px]"},la={class:"flex flex-col gap-[15px] w-[82%]"},ta={class:"flex gap-5 items-center !m-[0px]"},oa={class:"pic-position flex gap-5 items-center w-[50%]"},na={class:"pic-name flex items-center gap-5 w-[50%]"},ca={class:"relative !m-[0px]"},ra={class:"relative !m-[0px]"},ia={class:"flex gap-5 items-center !m-[0px]"},da={class:"pic-name flex items-center gap-5 w-[50%]"},pa={class:"relative !m-[0px]"},ma={class:"relative !m-[0px]"},fa={class:"flex flex-col gap-[15px] w-[82%]"},_a={class:"flex gap-5 items-center !m-[0px]"},ua={class:"pic-position flex gap-5 items-center w-[50%]"},xa={class:"pic-name flex items-center gap-5 w-[50%]"},va={class:"relative !m-[0px]"},ga={class:"relative !m-[0px]"},ya={class:"flex gap-5 items-center !m-[0px]"},ha={class:"pic-name flex items-center gap-5 w-[50%]"},ba={class:"relative !m-[0px]"},wa={class:"relative !m-[0px]"},Pa={class:"contact flex flex-col gap-6"},ka={class:"relative w-[40%] !m-[0px]"},Na={class:"relative w-[82%] !m-[0px]"},Sa={class:"relative w-[82%] !m-[0px]"},Fa={class:"relative"},Ca={class:"relative w-[82%] !m-[0px]"},Ta={class:"relative w-[82%] !m-[0px]"},Ea={class:"relative w-[82%] !m-[0px]"},Ia={class:"relative w-[82%] !m-[0px]"},$a={class:"relative"},Aa={class:"relative w-[82%] !m-[0px]"},Ga={class:"relative w-[82%] !m-[0px] flex gap-2 items-center"},Ka={class:"flex max-w-[900px] justify-between py-[20px]"},Oa={class:"flex gap-5"},Ma=j({__name:"index",setup(q){const M=Ee(),y=Ie(),E=Be(),{redirectPage:L}=Ye(),P=w(!1),z=w(),k=w(!1),W=$e(()=>{var v;return(v=M.masterData)==null?void 0:v.kaigoSoftwares}),I=w(!1),$=w(!1),N=w(!1),R=w(!1),J=ue(De({companyName:x(c.companyName,250),companyNameKana:x(c.companyNameKana,250,!0),companyPostCode:x(c.companyPostCode,10),companyAddress:x(c.companyAddress,250),frontPicPosition:x(c.frontPicPosition,100),frontPicFamilyName:x(c.frontPicFamilyName,100),frontPicGivenName:x(c.frontPicGivenName,100),frontPicFamilyNameKana:x(c.frontPicFamilyNameKana,100,!0),frontPicGivenNameKana:x(c.frontPicGivenNameKana,100,!0),picPosition:x(c.picPosition,100),picFamilyName:x(c.picFamilyName,100),picGivenName:x(c.picGivenName,100),picFamilyNameKana:x(c.picFamilyNameKana,100,!0),picGivenNameKana:x(c.picGivenNameKana,100,!0),phoneNumber:x(c.phoneNumber,20),email:x(c.email,250),password:Ve(C(c.password)),kaigoSoftware:O(Ue(Ae.ERR002,c.kaigoSoftware)).min(1,C(c.kaigoSoftware)),kaipokeCompanyId:x(c.kaipokeCompanyId,100),kaipokeUserId:x(c.kaipokeUserId,100),kaipokeUserPassword:O(C(c.kaipokeUserPassword)).min(1,C(c.kaipokeUserPassword)),paymentMethod:O().default(Ge.bankWithdrawal)})),{handleSubmit:Q,values:A,setFieldValue:X}=xe({validationSchema:J}),Z=()=>{k.value=!k.value},ee=()=>{P.value=!P.value},ae=async()=>{const v=A==null?void 0:A.companyPostCode;if(!v){y.setNotify({message:"郵便番号が存在しません。",type:S.error});return}$.value=!0;const l=await y.searchPostalCode(v);if(l!=null&&l.data){const{prefecture:b,city:f}=l.data,d=`${b} ${f}`;X("companyAddress",d),z.value=l.data}else y.setNotify({message:"郵便番号が存在しません。",type:S.error});$.value=!1},D=Q(async v=>{var b;y.clearNotify(),I.value=!0;const l={...v,keepLastPlanContentFlg:N.value?1:0};await E.createNewCompany(l),I.value=!1,(b=y.notify)!=null&&b.message||se("顧客情報を登録しました")},({errors:v})=>{const b=Object.keys(c).map(f=>v[f]).find(Boolean)??"";y.setNotify({message:b,type:S.error})}),se=v=>{R.value=!0,L("/customer"),y.setNotify({message:v,type:S.success})};return(v,l)=>{const b=me,f=fe,d=_e,r=ve,n=ge,i=ye,G=he,le=be,te=we,oe=Pe,ne=ke,ce=Ne,re=Se,ie=Fe,de=Ce,pe=Te;return g(),T("div",qe,[s("div",ze,[u(R)?K("",!0):(g(),h(b,{key:0,class:"pl-[64px]"}))]),s("form",{class:"register flex flex-col gap-[25px] pl-[64px] pt-[10px] pb-[15px]",onSubmit:l[2]||(l[2]=(...t)=>u(D)&&u(D)(...t))},[s("div",We,[s("div",Je,[e(f,{label:"必須項目です",position:"left",class:"mb-[10px]"}),s("div",Qe,[e(i,{name:"companyName"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"法人名",class:"w-[160px]"}),s("div",Xe,[e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"companyNameKana"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"フリガナ",class:"w-[160px]"}),s("div",Ze,[e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1})]),l[15]||(l[15]=s("div",{class:"space"},null,-1)),s("div",ea,[e(i,{name:"companyPostCode"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"郵便番号",class:"w-[160px] flex"}),s("div",aa,[e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024),e(G,{onClick:ae,type:"button",variant:"cancel_btn",class:"!m-[0px] !rounded-3xl"},{default:a(()=>[u($)?(g(),h(u(He),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):K("",!0),l[3]||(l[3]=F(" 郵便番号から入力 "))]),_:1})])]),_:2},1024)]),_:1}),e(i,{name:"companyAddress"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"会社所在地",class:"w-[160px]"}),s("div",sa,[e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"frontPicPosition"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"代表者",class:"w-[160px] flex pt-[14px] items-baseline"}),s("div",la,[s("div",ta,[s("div",oa,[l[4]||(l[4]=s("span",{class:"label w-[35px]"},"役職",-1)),e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)]),s("div",na,[l[5]||(l[5]=s("span",{class:"label flex w-[19%]"},"お名前",-1)),e(i,{name:"frontPicFamilyName"},{default:a(({componentField:p,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[s("div",ca,[e(r,null,{default:a(()=>[e(d,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},p,{class:{"border-red-500":_.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(i,{name:"frontPicGivenName"},{default:a(({componentField:p,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[s("div",ra,[e(r,null,{default:a(()=>[e(d,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},p,{class:{"border-red-500":_.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),s("div",ia,[l[7]||(l[7]=s("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),s("div",da,[l[6]||(l[6]=s("span",{class:"label flex w-[19%]"},"フリガナ",-1)),e(i,{name:"frontPicFamilyNameKana"},{default:a(({componentField:p,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[s("div",pa,[e(r,null,{default:a(()=>[e(d,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},p,{class:{"border-red-500":_.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(i,{name:"frontPicGivenNameKana"},{default:a(({componentField:p,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[s("div",ma,[e(r,null,{default:a(()=>[e(d,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},p,{class:{"border-red-500":_.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1}),e(i,{name:"picPosition"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"ご担当者",class:"w-[160px] flex pt-[14px] items-baseline"}),s("div",fa,[s("div",_a,[s("div",ua,[l[8]||(l[8]=s("span",{class:"label w-[35px]"},"役職",-1)),e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)]),s("div",xa,[l[9]||(l[9]=s("span",{class:"label flex w-[19%]"},"お名前",-1)),e(i,{name:"picFamilyName"},{default:a(({componentField:p,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[s("div",va,[e(r,null,{default:a(()=>[e(d,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},p,{class:{"border-red-500":_.length},placeholder:"姓"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(i,{name:"picGivenName"},{default:a(({componentField:p,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[s("div",ga,[e(r,null,{default:a(()=>[e(d,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},p,{class:{"border-red-500":_.length},placeholder:"名"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),s("div",ya,[l[11]||(l[11]=s("div",{class:"pic-position flex gap-5 items-center w-[50%]"},null,-1)),s("div",ha,[l[10]||(l[10]=s("span",{class:"label flex w-[19%]"},"フリガナ",-1)),e(i,{name:"picFamilyNameKana"},{default:a(({componentField:p,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[s("div",ba,[e(r,null,{default:a(()=>[e(d,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},p,{class:{"border-red-500":_.length},placeholder:"せい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),e(i,{name:"picGivenNameKana"},{default:a(({componentField:p,errors:_})=>[e(n,{class:"flex gap-5"},{default:a(()=>[s("div",wa,[e(r,null,{default:a(()=>[e(d,m({type:"text",class:"placeholder:flex placeholder:text-center text-center placeholder:text-[10px]"},p,{class:{"border-red-500":_.length},placeholder:"めい"}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])])])]),_:2},1024)]),_:1})]),l[16]||(l[16]=s("div",{class:"space"},null,-1)),s("div",Pa,[e(i,{name:"phoneNumber"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"電話番号",class:"w-[160px]"}),s("div",ka,[e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"email"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"メールアドレス",class:"w-[160px]"}),s("div",Na,[e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"password"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"パスワード",class:"w-[160px]"}),s("div",Sa,[e(r,null,{default:a(()=>[s("div",Fa,[e(d,m({type:u(P)?"text":"password"},t,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":o.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2","aria-label":"Toggle password visibility",onClick:ee},[u(P)?(g(),h(u(H),{key:1,class:"h-5 w-3.5 text-black"})):(g(),h(u(Y),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"kaigoSoftware"},{default:a(({componentField:t,errors:o,meta:p})=>[e(n,{class:"relative flex gap-5"},{default:a(()=>[e(f,{label:"介護ソフト選択",class:"w-[160px]"}),s("div",Ca,[e(r,null,{default:a(()=>[e(ce,Ke(Oe(t)),{default:a(()=>[e(te,{class:Me({"border-red-500":o.length&&!t.modelValue})},{default:a(()=>[e(le,{placeholder:"Select an option"})]),_:2},1032,["class"]),e(ne,null,{default:a(()=>[(g(!0),T(U,null,V(u(W),_=>(g(),h(oe,{value:`${_.id}`},{default:a(()=>[F(B(_.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040)]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"kaipokeCompanyId"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"カイポケ法人ID",class:"w-[160px]"}),s("div",Ta,[e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"kaipokeUserId"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"カイポケユーザーID",class:"w-[160px]"}),s("div",Ea,[e(r,null,{default:a(()=>[e(d,m({type:"text"},t,{class:{"border-red-500":o.length}}),null,16,["class"])]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"kaipokeUserPassword"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"カイポケパスワード",class:"w-[160px]"}),s("div",Ia,[e(r,null,{default:a(()=>[s("div",$a,[e(d,m({type:u(k)?"text":"password"},t,{placeholder:"英小文字、数字を含む、半角英数字８文字以上",class:[{"border-red-500":o.length},"placeholder:text-[10px]"]}),null,16,["type","class"]),s("button",{type:"button",class:"absolute right-[15px] top-1/2 transform -translate-y-1/2",onClick:Z,"aria-label":"Toggle password visibility"},[u(k)?(g(),h(u(H),{key:1,class:"h-5 w-3.5 text-black"})):(g(),h(u(Y),{key:0,class:"h-5 w-3.5 text-black"}))])])]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"paymentMethod"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[e(f,{label:"決済方法",class:"w-[160px]"}),s("div",Aa,[e(r,null,{default:a(()=>[e(ie,m({class:"flex gap-5"},t),{default:a(()=>[(g(!0),T(U,null,V("PAYMENT_METHOD_OPTIONS_LIST"in v?v.PAYMENT_METHOD_OPTIONS_LIST:u(Le),p=>(g(),h(n,{class:"flex items-center space-y-0 gap-x-3"},{default:a(()=>[e(r,null,{default:a(()=>[e(re,{value:p.type},null,8,["value"])]),_:2},1024),s("span",null,B(p.value),1)]),_:2},1024))),256))]),_:2},1040)]),_:2},1024)])]),_:2},1024)]),_:1}),e(i,{name:"remainOldPlan"},{default:a(({componentField:t,errors:o})=>[e(n,{class:"flex gap-5"},{default:a(()=>[l[14]||(l[14]=s("span",{class:"w-[160px] flex items-center"},"前回の計画書内容を保持する",-1)),s("div",Ga,[l[12]||(l[12]=s("span",null,"OFF",-1)),e(de,{checked:u(N),"onUpdate:checked":l[0]||(l[0]=p=>Re(N)?N.value=p:null)},null,8,["checked"]),l[13]||(l[13]=s("span",null,"ON",-1))])]),_:1})]),_:1})])])]),s("div",Ka,[s("div",Oa,[e(G,{type:"button",variant:"cancel_btn",class:"flex self-center",onClick:l[1]||(l[1]=t=>u(L)("/customer"))},{default:a(()=>l[17]||(l[17]=[F(" キャンセル ")])),_:1}),e(G,{variant:"export",class:"delete flex self-center"},{default:a(()=>l[18]||(l[18]=[F(" 登録 ")])),_:1})])])],32),u(I)?(g(),h(pe,{key:0})):K("",!0)])}}}),La=je(Ma,[["__scopeId","data-v-e9f07394"]]),Ra={class:"user-list px-4"},os=j({__name:"index",setup(q){return(M,y)=>{const E=La;return g(),T("div",Ra,[y[0]||(y[0]=s("div",{class:"header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},[s("span",{class:"text-base font-bold"},"顧客管理")],-1)),e(E)])}}});export{os as default};
