import{_ as St,a as wt,b as Ct,d as kt,e as It,f as Tt,c as mn}from"./Cxpxz2Sd.js";import{h as ve,c as Dt}from"./DAjTe-AA.js";import{m as K,A as N,o as k,v as H,w as C,ab as hn,q as gn,p as m,n as Et,r as _,g as B,I as de,b,d as Y,H as W,a9 as rt,Q as De,c as M,E as se,G as oe,a as p,t as U,Y as xe,x as ne,ac as at,D as z,O as At,ad as bn,M as vn,S as Q}from"./BklpzqIp.js";import{u as yn}from"./D2tqHBAO.js";import{c as xn,I as _n,N as Sn,L as wn,z as Cn,j as kn,G as In,U as Tn,H as Dn,q as En,Y as An,F as jn,_ as jt}from"./BQ_v6ieu.js";import{_ as re}from"./DlAUqK2U.js";import{C as $n,j as Pn,V as Mn,u as Ln,S as Rn,_ as On,A as Un,a as Fn,b as Nn,f as ke}from"./yF7B6HEw.js";import{C as Bn}from"./B1Zx9062.js";import{C as Vn}from"./DihOCZjy.js";import{L as $t}from"./DlFQalBk.js";import{_ as Yn}from"./aTtvC3I0.js";import{_ as zn}from"./hc_n9fzo.js";import{_ as Hn,a as Kn,b as qn,c as Gn,d as Qn}from"./WCmv3qA8.js";import{_ as Wn}from"./D0rSmpLi.js";import{_ as Jn}from"./CZ3SvslV.js";import"./C7MCtxAn.js";import"./DXxPzZLS.js";const Xn=K({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const s=e,n=N(()=>{const{class:o,...t}=s;return t});return(o,t)=>(k(),H(m(_n),gn(n.value,{class:m(xn)("text-sm text-muted-foreground",s.class)}),{default:C(()=>[hn(o.$slots,"default")]),_:3},16,["class"]))}}),Zn=K({__name:"notify-register-payment",setup(e){const s=Et(),{redirectPage:n}=yn(),o=_(!1),t=N(()=>s.isLoadPermission);B(t,()=>{o.value=!ve()});const r=()=>{n("/mypage")};return de(()=>{setTimeout(()=>{o.value=!ve()},200)}),(a,l)=>{const c=St,i=wt,d=Ct,h=kt,v=It,I=Tt;return k(),H(I,{open:m(o),"onUpdate:open":l[0]||(l[0]=A=>W(o)?o.value=A:null)},{default:C(()=>[b(v,null,{default:C(()=>[b(i,{class:"flex flex-col gap-4 items-center"},{default:C(()=>[b(c,{class:"text-sm"},{default:C(()=>l[1]||(l[1]=[Y("決済方法は設定完了していないので、マイページより設定完了してください。")])),_:1})]),_:1}),b(h,{class:"flex !flex-col gap-4"},{default:C(()=>[b(d,{class:"flex self-center min-w-[120px]",onClick:r},{default:C(()=>l[2]||(l[2]=[Y("登録")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),ce=/^[a-z0-9]+(-[a-z0-9]+)*$/,_e=(e,s,n,o="")=>{const t=e.split(":");if(e.slice(0,1)==="@"){if(t.length<2||t.length>3)return null;o=t.shift().slice(1)}if(t.length>3||!t.length)return null;if(t.length>1){const l=t.pop(),c=t.pop(),i={provider:t.length>0?t[0]:o,prefix:c,name:l};return s&&!he(i)?null:i}const r=t[0],a=r.split("-");if(a.length>1){const l={provider:o,prefix:a.shift(),name:a.join("-")};return s&&!he(l)?null:l}if(n&&o===""){const l={provider:o,prefix:"",name:r};return s&&!he(l,n)?null:l}return null},he=(e,s)=>e?!!((e.provider===""||e.provider.match(ce))&&(s&&e.prefix===""||e.prefix.match(ce))&&e.name.match(ce)):!1,Pt=Object.freeze({left:0,top:0,width:16,height:16}),ye=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Se=Object.freeze({...Pt,...ye}),Ee=Object.freeze({...Se,body:"",hidden:!1});function es(e,s){const n={};!e.hFlip!=!s.hFlip&&(n.hFlip=!0),!e.vFlip!=!s.vFlip&&(n.vFlip=!0);const o=((e.rotate||0)+(s.rotate||0))%4;return o&&(n.rotate=o),n}function lt(e,s){const n=es(e,s);for(const o in Ee)o in ye?o in e&&!(o in n)&&(n[o]=ye[o]):o in s?n[o]=s[o]:o in e&&(n[o]=e[o]);return n}function ts(e,s){const n=e.icons,o=e.aliases||Object.create(null),t=Object.create(null);function r(a){if(n[a])return t[a]=[];if(!(a in t)){t[a]=null;const l=o[a]&&o[a].parent,c=l&&r(l);c&&(t[a]=[l].concat(c))}return t[a]}return Object.keys(n).concat(Object.keys(o)).forEach(r),t}function ns(e,s,n){const o=e.icons,t=e.aliases||Object.create(null);let r={};function a(l){r=lt(o[l]||t[l],r)}return a(s),n.forEach(a),lt(e,r)}function Mt(e,s){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(t=>{s(t,null),n.push(t)});const o=ts(e);for(const t in o){const r=o[t];r&&(s(t,ns(e,t,r)),n.push(t))}return n}const ss={provider:"",aliases:{},not_found:{},...Pt};function Ie(e,s){for(const n in s)if(n in e&&typeof e[n]!=typeof s[n])return!1;return!0}function Lt(e){if(typeof e!="object"||e===null)return null;const s=e;if(typeof s.prefix!="string"||!e.icons||typeof e.icons!="object"||!Ie(e,ss))return null;const n=s.icons;for(const t in n){const r=n[t];if(!t.match(ce)||typeof r.body!="string"||!Ie(r,Ee))return null}const o=s.aliases||Object.create(null);for(const t in o){const r=o[t],a=r.parent;if(!t.match(ce)||typeof a!="string"||!n[a]&&!o[a]||!Ie(r,Ee))return null}return s}const it=Object.create(null);function os(e,s){return{provider:e,prefix:s,icons:Object.create(null),missing:new Set}}function ee(e,s){const n=it[e]||(it[e]=Object.create(null));return n[s]||(n[s]=os(e,s))}function Re(e,s){return Lt(s)?Mt(s,(n,o)=>{o?e.icons[n]=o:e.missing.add(n)}):[]}function rs(e,s,n){try{if(typeof n.body=="string")return e.icons[s]={...n},!0}catch{}return!1}let ue=!1;function Rt(e){return typeof e=="boolean"&&(ue=e),ue}function as(e){const s=typeof e=="string"?_e(e,!0,ue):e;if(s){const n=ee(s.provider,s.prefix),o=s.name;return n.icons[o]||(n.missing.has(o)?null:void 0)}}function ls(e,s){const n=_e(e,!0,ue);if(!n)return!1;const o=ee(n.provider,n.prefix);return rs(o,n.name,s)}function is(e,s){if(typeof e!="object")return!1;if(typeof s!="string"&&(s=e.provider||""),ue&&!s&&!e.prefix){let t=!1;return Lt(e)&&(e.prefix="",Mt(e,(r,a)=>{a&&ls(r,a)&&(t=!0)})),t}const n=e.prefix;if(!he({provider:s,prefix:n,name:"a"}))return!1;const o=ee(s,n);return!!Re(o,e)}const Ot=Object.freeze({width:null,height:null}),Ut=Object.freeze({...Ot,...ye}),cs=/(-?[0-9.]*[0-9]+[0-9.]*)/g,us=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ct(e,s,n){if(s===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*s*n)/n;if(typeof e!="string")return e;const o=e.split(cs);if(o===null||!o.length)return e;const t=[];let r=o.shift(),a=us.test(r);for(;;){if(a){const l=parseFloat(r);isNaN(l)?t.push(r):t.push(Math.ceil(l*s*n)/n)}else t.push(r);if(r=o.shift(),r===void 0)return t.join("");a=!a}}function fs(e,s="defs"){let n="";const o=e.indexOf("<"+s);for(;o>=0;){const t=e.indexOf(">",o),r=e.indexOf("</"+s);if(t===-1||r===-1)break;const a=e.indexOf(">",r);if(a===-1)break;n+=e.slice(t+1,r).trim(),e=e.slice(0,o).trim()+e.slice(a+1)}return{defs:n,content:e}}function ds(e,s){return e?"<defs>"+e+"</defs>"+s:s}function ps(e,s,n){const o=fs(e);return ds(o.defs,s+o.content+n)}const ms=e=>e==="unset"||e==="undefined"||e==="none";function hs(e,s){const n={...Se,...e},o={...Ut,...s},t={left:n.left,top:n.top,width:n.width,height:n.height};let r=n.body;[n,o].forEach(w=>{const g=[],V=w.hFlip,L=w.vFlip;let $=w.rotate;V?L?$+=2:(g.push("translate("+(t.width+t.left).toString()+" "+(0-t.top).toString()+")"),g.push("scale(-1 1)"),t.top=t.left=0):L&&(g.push("translate("+(0-t.left).toString()+" "+(t.height+t.top).toString()+")"),g.push("scale(1 -1)"),t.top=t.left=0);let F;switch($<0&&($-=Math.floor($/4)*4),$=$%4,$){case 1:F=t.height/2+t.top,g.unshift("rotate(90 "+F.toString()+" "+F.toString()+")");break;case 2:g.unshift("rotate(180 "+(t.width/2+t.left).toString()+" "+(t.height/2+t.top).toString()+")");break;case 3:F=t.width/2+t.left,g.unshift("rotate(-90 "+F.toString()+" "+F.toString()+")");break}$%2===1&&(t.left!==t.top&&(F=t.left,t.left=t.top,t.top=F),t.width!==t.height&&(F=t.width,t.width=t.height,t.height=F)),g.length&&(r=ps(r,'<g transform="'+g.join(" ")+'">',"</g>"))});const a=o.width,l=o.height,c=t.width,i=t.height;let d,h;a===null?(h=l===null?"1em":l==="auto"?i:l,d=ct(h,c/i)):(d=a==="auto"?c:a,h=l===null?ct(d,i/c):l==="auto"?i:l);const v={},I=(w,g)=>{ms(g)||(v[w]=g.toString())};I("width",d),I("height",h);const A=[t.left,t.top,c,i];return v.viewBox=A.join(" "),{attributes:v,viewBox:A,body:r}}const gs=/\sid="(\S+)"/g,bs="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let vs=0;function ys(e,s=bs){const n=[];let o;for(;o=gs.exec(e);)n.push(o[1]);if(!n.length)return e;const t="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(r=>{const a=typeof s=="function"?s(r):s+(vs++).toString(),l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+a+t+"$3")}),e=e.replace(new RegExp(t,"g"),""),e}const Ae=Object.create(null);function xs(e,s){Ae[e]=s}function je(e){return Ae[e]||Ae[""]}function Oe(e){let s;if(typeof e.resources=="string")s=[e.resources];else if(s=e.resources,!(s instanceof Array)||!s.length)return null;return{resources:s,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Ue=Object.create(null),ie=["https://api.simplesvg.com","https://api.unisvg.com"],ge=[];for(;ie.length>0;)ie.length===1||Math.random()>.5?ge.push(ie.shift()):ge.push(ie.pop());Ue[""]=Oe({resources:["https://api.iconify.design"].concat(ge)});function _s(e,s){const n=Oe(s);return n===null?!1:(Ue[e]=n,!0)}function Fe(e){return Ue[e]}const Ss=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let ut=Ss();function ws(e,s){const n=Fe(e);if(!n)return 0;let o;if(!n.maxURL)o=0;else{let t=0;n.resources.forEach(a=>{t=Math.max(t,a.length)});const r=s+".json?icons=";o=n.maxURL-t-n.path.length-r.length}return o}function Cs(e){return e===404}const ks=(e,s,n)=>{const o=[],t=ws(e,s),r="icons";let a={type:r,provider:e,prefix:s,icons:[]},l=0;return n.forEach((c,i)=>{l+=c.length+1,l>=t&&i>0&&(o.push(a),a={type:r,provider:e,prefix:s,icons:[]},l=c.length),a.icons.push(c)}),o.push(a),o};function Is(e){if(typeof e=="string"){const s=Fe(e);if(s)return s.path}return"/"}const Ts=(e,s,n)=>{if(!ut){n("abort",424);return}let o=Is(s.provider);switch(s.type){case"icons":{const r=s.prefix,l=s.icons.join(","),c=new URLSearchParams({icons:l});o+=r+".json?"+c.toString();break}case"custom":{const r=s.uri;o+=r.slice(0,1)==="/"?r.slice(1):r;break}default:n("abort",400);return}let t=503;ut(e+o).then(r=>{const a=r.status;if(a!==200){setTimeout(()=>{n(Cs(a)?"abort":"next",a)});return}return t=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?n("abort",r):n("next",t)});return}setTimeout(()=>{n("success",r)})}).catch(()=>{n("next",t)})},Ds={prepare:ks,send:Ts};function Es(e){const s={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((t,r)=>t.provider!==r.provider?t.provider.localeCompare(r.provider):t.prefix!==r.prefix?t.prefix.localeCompare(r.prefix):t.name.localeCompare(r.name));let o={provider:"",prefix:"",name:""};return e.forEach(t=>{if(o.name===t.name&&o.prefix===t.prefix&&o.provider===t.provider)return;o=t;const r=t.provider,a=t.prefix,l=t.name,c=n[r]||(n[r]=Object.create(null)),i=c[a]||(c[a]=ee(r,a));let d;l in i.icons?d=s.loaded:a===""||i.missing.has(l)?d=s.missing:d=s.pending;const h={provider:r,prefix:a,name:l};d.push(h)}),s}function Ft(e,s){e.forEach(n=>{const o=n.loaderCallbacks;o&&(n.loaderCallbacks=o.filter(t=>t.id!==s))})}function As(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const s=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!s.length)return;let n=!1;const o=e.provider,t=e.prefix;s.forEach(r=>{const a=r.icons,l=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==t)return!0;const i=c.name;if(e.icons[i])a.loaded.push({provider:o,prefix:t,name:i});else if(e.missing.has(i))a.missing.push({provider:o,prefix:t,name:i});else return n=!0,!0;return!1}),a.pending.length!==l&&(n||Ft([e],r.id),r.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),r.abort))})}))}let js=0;function $s(e,s,n){const o=js++,t=Ft.bind(null,n,o);if(!s.pending.length)return t;const r={id:o,icons:s,callback:e,abort:t};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(r)}),t}function Ps(e,s=!0,n=!1){const o=[];return e.forEach(t=>{const r=typeof t=="string"?_e(t,s,n):t;r&&o.push(r)}),o}var Ms={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Ls(e,s,n,o){const t=e.resources.length,r=e.random?Math.floor(Math.random()*t):e.index;let a;if(e.random){let T=e.resources.slice(0);for(a=[];T.length>1;){const P=Math.floor(Math.random()*T.length);a.push(T[P]),T=T.slice(0,P).concat(T.slice(P+1))}a=a.concat(T)}else a=e.resources.slice(r).concat(e.resources.slice(0,r));const l=Date.now();let c="pending",i=0,d,h=null,v=[],I=[];typeof o=="function"&&I.push(o);function A(){h&&(clearTimeout(h),h=null)}function w(){c==="pending"&&(c="aborted"),A(),v.forEach(T=>{T.status==="pending"&&(T.status="aborted")}),v=[]}function g(T,P){P&&(I=[]),typeof T=="function"&&I.push(T)}function V(){return{startTime:l,payload:s,status:c,queriesSent:i,queriesPending:v.length,subscribe:g,abort:w}}function L(){c="failed",I.forEach(T=>{T(void 0,d)})}function $(){v.forEach(T=>{T.status==="pending"&&(T.status="aborted")}),v=[]}function F(T,P,G){const te=P!=="success";switch(v=v.filter(S=>S!==T),c){case"pending":break;case"failed":if(te||!e.dataAfterTimeout)return;break;default:return}if(P==="abort"){d=G,L();return}if(te){d=G,v.length||(a.length?J():L());return}if(A(),$(),!e.random){const S=e.resources.indexOf(T.resource);S!==-1&&S!==e.index&&(e.index=S)}c="completed",I.forEach(S=>{S(G)})}function J(){if(c!=="pending")return;A();const T=a.shift();if(T===void 0){if(v.length){h=setTimeout(()=>{A(),c==="pending"&&($(),L())},e.timeout);return}L();return}const P={status:"pending",resource:T,callback:(G,te)=>{F(P,G,te)}};v.push(P),i++,h=setTimeout(J,e.rotate),n(T,s,P.callback)}return setTimeout(J),V}function Nt(e){const s={...Ms,...e};let n=[];function o(){n=n.filter(l=>l().status==="pending")}function t(l,c,i){const d=Ls(s,l,c,(h,v)=>{o(),i&&i(h,v)});return n.push(d),d}function r(l){return n.find(c=>l(c))||null}return{query:t,find:r,setIndex:l=>{s.index=l},getIndex:()=>s.index,cleanup:o}}function ft(){}const Te=Object.create(null);function Rs(e){if(!Te[e]){const s=Fe(e);if(!s)return;const n=Nt(s),o={config:s,redundancy:n};Te[e]=o}return Te[e]}function Os(e,s,n){let o,t;if(typeof e=="string"){const r=je(e);if(!r)return n(void 0,424),ft;t=r.send;const a=Rs(e);a&&(o=a.redundancy)}else{const r=Oe(e);if(r){o=Nt(r);const a=e.resources?e.resources[0]:"",l=je(a);l&&(t=l.send)}}return!o||!t?(n(void 0,424),ft):o.query(s,t,n)().abort}const dt="iconify2",fe="iconify",Bt=fe+"-count",pt=fe+"-version",Vt=36e5,Us=168,Fs=50;function $e(e,s){try{return e.getItem(s)}catch{}}function Ne(e,s,n){try{return e.setItem(s,n),!0}catch{}}function mt(e,s){try{e.removeItem(s)}catch{}}function Pe(e,s){return Ne(e,Bt,s.toString())}function Me(e){return parseInt($e(e,Bt))||0}const we={local:!0,session:!0},Yt={local:new Set,session:new Set};let Be=!1;function Ns(e){Be=e}let me=typeof window>"u"?{}:window;function zt(e){const s=e+"Storage";try{if(me&&me[s]&&typeof me[s].length=="number")return me[s]}catch{}we[e]=!1}function Ht(e,s){const n=zt(e);if(!n)return;const o=$e(n,pt);if(o!==dt){if(o){const l=Me(n);for(let c=0;c<l;c++)mt(n,fe+c.toString())}Ne(n,pt,dt),Pe(n,0);return}const t=Math.floor(Date.now()/Vt)-Us,r=l=>{const c=fe+l.toString(),i=$e(n,c);if(typeof i=="string"){try{const d=JSON.parse(i);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>t&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&s(d,l))return!0}catch{}mt(n,c)}};let a=Me(n);for(let l=a-1;l>=0;l--)r(l)||(l===a-1?(a--,Pe(n,a)):Yt[e].add(l))}function Kt(){if(!Be){Ns(!0);for(const e in we)Ht(e,s=>{const n=s.data,o=s.provider,t=n.prefix,r=ee(o,t);if(!Re(r,n).length)return!1;const a=n.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,a):a,!0})}}function Bs(e,s){const n=e.lastModifiedCached;if(n&&n>=s)return n===s;if(e.lastModifiedCached=s,n)for(const o in we)Ht(o,t=>{const r=t.data;return t.provider!==e.provider||r.prefix!==e.prefix||r.lastModified===s});return!0}function Vs(e,s){Be||Kt();function n(o){let t;if(!we[o]||!(t=zt(o)))return;const r=Yt[o];let a;if(r.size)r.delete(a=Array.from(r).shift());else if(a=Me(t),a>=Fs||!Pe(t,a+1))return;const l={cached:Math.floor(Date.now()/Vt),provider:e.provider,data:s};return Ne(t,fe+a.toString(),JSON.stringify(l))}s.lastModified&&!Bs(e,s.lastModified)||Object.keys(s.icons).length&&(s.not_found&&(s=Object.assign({},s),delete s.not_found),n("local")||n("session"))}function ht(){}function Ys(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,As(e)}))}function zs(e,s){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(s).sort():e.iconsToLoad=s,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:o}=e,t=e.iconsToLoad;delete e.iconsToLoad;let r;if(!t||!(r=je(n)))return;r.prepare(n,o,t).forEach(l=>{Os(n,l,c=>{if(typeof c!="object")l.icons.forEach(i=>{e.missing.add(i)});else try{const i=Re(e,c);if(!i.length)return;const d=e.pendingIcons;d&&i.forEach(h=>{d.delete(h)}),Vs(e,c)}catch(i){console.error(i)}Ys(e)})})}))}const Hs=(e,s)=>{const n=Ps(e,!0,Rt()),o=Es(n);if(!o.pending.length){let c=!0;return s&&setTimeout(()=>{c&&s(o.loaded,o.missing,o.pending,ht)}),()=>{c=!1}}const t=Object.create(null),r=[];let a,l;return o.pending.forEach(c=>{const{provider:i,prefix:d}=c;if(d===l&&i===a)return;a=i,l=d,r.push(ee(i,d));const h=t[i]||(t[i]=Object.create(null));h[d]||(h[d]=[])}),o.pending.forEach(c=>{const{provider:i,prefix:d,name:h}=c,v=ee(i,d),I=v.pendingIcons||(v.pendingIcons=new Set);I.has(h)||(I.add(h),t[i][d].push(h))}),r.forEach(c=>{const{provider:i,prefix:d}=c;t[i][d].length&&zs(c,t[i][d])}),s?$s(s,o,r):ht};function Ks(e,s){const n={...e};for(const o in s){const t=s[o],r=typeof t;o in Ot?(t===null||t&&(r==="string"||r==="number"))&&(n[o]=t):r===typeof n[o]&&(n[o]=o==="rotate"?t%4:t)}return n}const qs=/[\s,]+/;function Gs(e,s){s.split(qs).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function Qs(e,s=0){const n=e.replace(/^-?[0-9.]*/,"");function o(t){for(;t<0;)t+=4;return t%4}if(n===""){const t=parseInt(e);return isNaN(t)?0:o(t)}else if(n!==e){let t=0;switch(n){case"%":t=25;break;case"deg":t=90}if(t){let r=parseFloat(e.slice(0,e.length-n.length));return isNaN(r)?0:(r=r/t,r%1===0?o(r):0)}}return s}function Ws(e,s){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in s)n+=" "+o+'="'+s[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function Js(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Xs(e){return"data:image/svg+xml,"+Js(e)}function Zs(e){return'url("'+Xs(e)+'")'}const gt={...Ut,inline:!1},eo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},to={display:"inline-block"},Le={backgroundColor:"currentColor"},qt={backgroundColor:"transparent"},bt={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},vt={webkitMask:Le,mask:Le,background:qt};for(const e in vt){const s=vt[e];for(const n in bt)s[e+n]=bt[n]}const be={};["horizontal","vertical"].forEach(e=>{const s=e.slice(0,1)+"Flip";be[e+"-flip"]=s,be[e.slice(0,1)+"-flip"]=s,be[e+"Flip"]=s});function yt(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const xt=(e,s)=>{const n=Ks(gt,s),o={...eo},t=s.mode||"svg",r={},a=s.style,l=typeof a=="object"&&!(a instanceof Array)?a:{};for(let w in s){const g=s[w];if(g!==void 0)switch(w){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[w]=g===!0||g==="true"||g===1;break;case"flip":typeof g=="string"&&Gs(n,g);break;case"color":r.color=g;break;case"rotate":typeof g=="string"?n[w]=Qs(g):typeof g=="number"&&(n[w]=g);break;case"ariaHidden":case"aria-hidden":g!==!0&&g!=="true"&&delete o["aria-hidden"];break;default:{const V=be[w];V?(g===!0||g==="true"||g===1)&&(n[V]=!0):gt[w]===void 0&&(o[w]=g)}}}const c=hs(e,n),i=c.attributes;if(n.inline&&(r.verticalAlign="-0.125em"),t==="svg"){o.style={...r,...l},Object.assign(o,i);let w=0,g=s.id;return typeof g=="string"&&(g=g.replace(/-/g,"_")),o.innerHTML=ys(c.body,g?()=>g+"ID"+w++:"iconifyVue"),rt("svg",o)}const{body:d,width:h,height:v}=e,I=t==="mask"||(t==="bg"?!1:d.indexOf("currentColor")!==-1),A=Ws(d,{...i,width:h+"",height:v+""});return o.style={...r,"--svg":Zs(A),width:yt(i.width),height:yt(i.height),...to,...I?Le:qt,...l},rt("span",o)};Rt(!0);xs("",Ds);if(typeof document<"u"&&typeof window<"u"){Kt();const e=window;if(e.IconifyPreload!==void 0){const s=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof s=="object"&&s!==null&&(s instanceof Array?s:[s]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!is(o))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const s=e.IconifyProviders;if(typeof s=="object"&&s!==null)for(let n in s){const o="IconifyProviders["+n+"] is invalid.";try{const t=s[n];if(typeof t!="object"||!t||t.resources===void 0)continue;_s(n,t)||console.error(o)}catch{console.error(o)}}}}const no={...Se,body:""},_t=K({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,s){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let n;if(typeof e!="string"||(n=_e(e,!1,!0))===null)return this.abortLoading(),null;const o=as(n);if(!o)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",o!==null&&(this._loadingIcon={name:e,abort:Hs([n],()=>{this.counter++})})),null;this.abortLoading(),this._name!==e&&(this._name=e,s&&s(e));const t=["iconify"];return n.prefix!==""&&t.push("iconify--"+n.prefix),n.provider!==""&&t.push("iconify--"+n.provider),{data:o,classes:t}}},render(){this.counter;const e=this.$attrs,s=this.iconMounted||e.ssr?this.getIcon(e.icon,e.onLoad):null;if(!s)return xt(no,e);let n=e;return s.classes&&(n={...e,class:(typeof e.class=="string"?e.class+" ":"")+s.classes.join(" ")}),xt({...Se,...s.data},n)}}),so=K({__name:"auto-complete",props:{width:{type:String,default:"100%"},options:{type:Array,default:()=>[]}},emits:["update:selectedValue"],setup(e,{emit:s}){const n=e,o=s,t=_("");return B(()=>n.options,()=>{t.value=n.options[0]||""},{immediate:!0}),B(t,r=>{o("update:selectedValue",r)}),de(()=>{t.value&&o("update:selectedValue",t.value)}),(r,a)=>(k(),H(m(jn),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=l=>t.value=l),class:"relative"},{default:C(()=>[b(m(Sn),{style:De({width:e.width}),class:"min-w-[120px] w-full inline-flex items-center justify-between rounded px-[15px] leading-none h-[30px] gap-[5px] bg-white hover:bg-mauve3 focus:shadow-[0_0_0_2px] focus:shadow-black data-[placeholder]:text-grass9 outline-none border border-input"},{default:C(()=>[b(m(wn),{class:"!bg-transparent w-full outline-none h-full selection:bg-grass5 placeholder-mauve8"}),b(m(Cn),null,{default:C(()=>[b(m(_t),{icon:"radix-icons:chevron-down",class:"h-4 w-4"})]),_:1})]),_:1},8,["style"]),b(m(kn),{style:De({width:e.width}),class:"combobox-content absolute !z-12 w-full mt-[1px] min-w-[120px] bg-white overflow-hidden rounded shadow-[0px_10px_38px_-10px_rgba(22,_23,_24,_0.35),_0px_10px_20px_-15px_rgba(22,_23,_24,_0.2)] will-change-[opacity,transform] data-[side=top]:animate-slideDownAndFade data-[side=right]:animate-slideLeftAndFade data-[side=bottom]:animate-slideUpAndFade data-[side=left]:animate-slideRightAndFade"},{default:C(()=>[b(m(In),{class:"p-[5px]"},{default:C(()=>[b(m(Tn),{class:"text-mauve8 text-xs font-medium text-center py-2"}),b(m(Dn),null,{default:C(()=>[(k(!0),M(se,null,oe(e.options,(l,c)=>(k(),H(m(En),{key:c,class:"text-[13px] leading-none rounded-[3px] flex items-center h-[25px] pr-[35px] pl-[25px] relative select-none data-[disabled]:text-mauve8 data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-mauve3 data-[highlighted]:text-black",value:l},{default:C(()=>[b(m(An),{class:"absolute left-0 w-[25px] inline-flex items-center justify-center"},{default:C(()=>[b(m(_t),{icon:"radix-icons:check"})]),_:1}),p("span",null,U(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]))}}),oo=re(so,[["__scopeId","data-v-e91b8b78"]]),ro={class:"date-search flex items-center gap-3"},ao={class:"label font-medium"},lo={class:"flex items-center gap-2"},io={class:"h-[30px] flex items-center justify-between px-4 bg-white rounded cursor-pointer"},co=K({__name:"date",props:{title:{}},emits:["update:selectedDate"],setup(e,{emit:s}){const n=s,t=_((()=>{const i=new Date,d=i.getFullYear(),h=i.getMonth()+1;return{year:d,month:h}})()),r=_(""),a=()=>{const{year:i,month:d}=t.value;r.value=`${i}/${d.toString().padStart(2,"0")}`,n("update:selectedDate",r.value)},l=i=>{let{year:d,month:h}=t.value;h+=i,h>12?(h=1,d+=1):h<1&&(h=12,d-=1),c.value={year:d,month:h-1}};de(()=>{a()});const c=_({year:t.value.year,month:t.value.month-1});return B(c,()=>{t.value={year:c.value.year,month:c.value.month+1},a()}),(i,d)=>(k(),M("div",ro,[p("span",ao,U(i.title),1),p("div",lo,[p("button",{class:"flex items-center gap-1 bg-gray-300 text-gray-700 pl-2 pr-3 py-[5px] rounded-md hover:bg-gray-400",onClick:d[0]||(d[0]=h=>l(-1))},[b(m($n),{class:"w-4 h-4"}),d[3]||(d[3]=Y(" 前月 "))]),b(m(Mn),{modelValue:m(c),"onUpdate:modelValue":d[1]||(d[1]=h=>W(c)?c.value=h:null),"month-picker":"","auto-apply":"","format-locale":m(Pn),format:"E"},{trigger:C(()=>[p("div",io,[p("span",null,U(m(r)),1),b(m(Bn),{class:"w-4 h-4"})])]),_:1},8,["modelValue","format-locale"]),p("button",{class:"flex items-center gap-1 bg-gray-300 text-gray-700 pl-3 pr-2 py-[5px] rounded-md hover:bg-gray-400",onClick:d[2]||(d[2]=h=>l(1))},[d[4]||(d[4]=Y(" 翌月 ")),b(m(Vn),{class:"w-4 h-4"})])])]))}}),uo=re(co,[["__scopeId","data-v-fb31c05b"]]),fo={class:"search flex justify-between items-center min-h-[80px] !px-[25px] max-lg:!px-[10px] max-lg:flex-col max-lg:gap-5 max-lg:justify-start"},po={class:"office flex gap-5 items-center font-medium w-full"},mo={class:"date w-full"},ho=K({__name:"index",emits:["update:officeId","update:targetYearMonth"],setup(e,{emit:s}){const n=xe(),o=_(""),t=_(""),r=_(!1),a=s,l=N(()=>n.offices.map(h=>h.officeName)),c=N(()=>{var h;return(h=n.offices.find(v=>v.officeName===o.value))==null?void 0:h.id});B(c,()=>{a("update:officeId",c.value)}),B(t,()=>{a("update:targetYearMonth",t.value)});const i=async()=>{r.value=!0,await n.crawlCompanyUserStatus().finally(()=>{r.value=!1})},d=N(()=>Dt(t==null?void 0:t.value)&&ve());return(h,v)=>{const I=oo,A=uo,w=jt;return k(),M("div",fo,[p("div",po,[v[2]||(v[2]=p("span",{class:"label"},"事業所",-1)),b(I,{width:"300px",options:m(l),"onUpdate:selectedValue":v[0]||(v[0]=g=>o.value=g)},null,8,["options"])]),p("div",mo,[b(A,{title:"表示年月","onUpdate:selectedDate":v[1]||(v[1]=g=>t.value=g)})]),b(w,{onClick:i,disabled:!m(d)},{default:C(()=>[m(r)?(k(),H(m($t),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):ne("",!0),v[3]||(v[3]=Y("更新 "))]),_:1},8,["disabled"])])}}}),go=re(ho,[["__scopeId","data-v-40235769"]]),bo={class:"flex flex-col items-center"},vo={class:"grid grid-cols-5 gap-2 mb-4"},yo=["onClick"],xo=K({__name:"character",setup(e){const s=xe(),n=_(at.map(l=>({...l,selected:!1}))),o=N(()=>s.userNameKana);B(o,()=>{n.value=at.map(l=>{var i;const c=(i=o.value)==null?void 0:i.some(d=>d.startsWith(l.label)||d.startsWith(l.label2));return{...l,disabled:!c,selected:!1}})});const t=l=>l.disabled?"h-[25px] w-[25px] bg-gray-400 text-white rounded-md cursor-not-allowed ":l.selected?"h-[25px] w-[25px] border border-blue-500 text-blue-500 rounded-md ":"h-[25px] w-[25px] border border-black rounded-md hover:bg-gray-100 ",r=l=>{l.disabled||(l.selected=!l.selected),s.charactersSelected=n.value.filter(c=>c.selected).map(c=>`${c.label}, ${c.label2}`)},a=()=>{n.value.forEach(l=>{l.selected=!1}),s.charactersSelected=[]};return(l,c)=>(k(),M("div",bo,[p("div",vo,[(k(!0),M(se,null,oe(m(n),(i,d)=>(k(),M("button",{key:d,class:z(t(i)),onClick:h=>r(i)},U(i.label),11,yo))),128))]),p("button",{class:"py-2 px-4 border border-black rounded-full text-black hover:bg-gray-200",onClick:a}," 条件クリア ")]))}}),_o=re(xo,[["__scopeId","data-v-0c7e4a10"]]),So=K({__name:"status",props:{cssStyle:{},type:{},selectedStatus:{}},emits:["filterStatus"],setup(e,{emit:s}){const n=e,{type:o}=At(n),t=_(n.selectedStatus),r={0:"未実行",1:"実行予定",2:"実行済み",3:"実行エラー"},a=s,l=Object.entries(r).map(([c,i])=>({id:Number(c),value:i}));return B(()=>n.selectedStatus,c=>{t.value=c}),B(t,()=>{a("filterStatus",{status:t.value,type:o.value})}),(c,i)=>{const d=Hn,h=Kn,v=qn,I=Gn,A=Qn;return k(),M("div",{class:z(c.cssStyle)},[b(A,{modelValue:m(t),"onUpdate:modelValue":i[0]||(i[0]=w=>W(t)?t.value=w:null)},{default:C(()=>[b(h,{class:"w-full"},{default:C(()=>[b(d,{placeholder:""})]),_:1}),b(I,null,{default:C(()=>[b(v,{value:"999"},{default:C(()=>i[1]||(i[1]=[Y("すべて")])),_:1}),(k(!0),M(se,null,oe(m(l),w=>(k(),H(v,{value:`${w.id}`},{default:C(()=>[Y(U(w.value),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])],2)}}}),wo={class:"table-container overflow-auto border-b"},Co={class:"w-full table-fixed"},ko={class:"pl-5"},Io=K({__name:"confirm-create-report",props:{users:{type:Array,default:()=>[]},isOpen:{type:Boolean,default:!1}},emits:["close","export"],setup(e,{emit:s}){const n=e,o=_(n.isOpen);B(()=>n.isOpen,c=>{o.value=c});const t=_(!1),r=s,a=()=>{r("close")},l=()=>{t.value=!0,r("export"),setTimeout(()=>{t.value=!1,r("close")},1e3)};return(c,i)=>{const d=St,h=wt,v=Xn,I=Ct,A=mn,w=kt,g=It,V=Tt;return k(),H(V,{open:m(o),"onUpdate:open":i[0]||(i[0]=L=>W(o)?o.value=L:null)},{default:C(()=>[b(g,null,{default:C(()=>[b(h,{class:"flex flex-col gap-4 items-center"},{default:C(()=>[b(d,{class:"text-sm"},{default:C(()=>i[1]||(i[1]=[Y("実行の確認")])),_:1})]),_:1}),b(v,null,{default:C(()=>i[2]||(i[2]=[p("span",null,"以下を実行します、よろしいですか？",-1)])),_:1}),p("div",wo,[p("table",Co,[i[5]||(i[5]=p("thead",{class:"bg-[#adadad] sticky top-0 z-10"},[p("tr",{class:"border border-[#adadad]"},[p("th",{class:"py-3 w-[50%]"},[p("span",{class:"flex items-center justify-center px-4 text-black border-white border-r-2"},"利用者")]),p("th",{class:"py-3 w-[25%]"},[p("span",{class:"flex items-center justify-center px-4 text-black border-white border-r-2"},"報告書")]),p("th",{class:"py-3 w-[25%]"},[p("span",{class:"flex items-center justify-center px-4 text-black"},"計画書")])])],-1)),p("tbody",null,[(k(!0),M(se,null,oe(e.users,(L,$)=>(k(),M("tr",{key:$,class:"h-10 hover:cursor-pointer hover:bg-[#cfcfcf47] border border-gray-300"},[p("td",null,[p("span",ko,U(L.nameKanji),1)]),p("td",{class:z(L.reportStatus===99?"visible":"invisible")},i[3]||(i[3]=[p("span",{class:"text-center flex justify-center bg-[#ccc] py-[8px] mx-[5px] rounded"},"実行",-1)]),2),p("td",{class:z(L.planStatus===99?"visible":"invisible")},i[4]||(i[4]=[p("span",{class:"text-center flex justify-center bg-[#ccc] py-[8px] mx-[5px] rounded"},"実行",-1)]),2)]))),128))])])]),b(w,{class:"flex !flex-col gap-4"},{default:C(()=>[b(I,{class:"flex self-center min-w-[120px]",onClick:l},{default:C(()=>[m(t)?(k(),H(m($t),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):ne("",!0),i[6]||(i[6]=Y("実行"))]),_:1}),b(A,{class:"flex self-center border border-gray-300 min-w-[120px]",onClick:a},{default:C(()=>i[7]||(i[7]=[Y("キャンセル")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),To=re(Io,[["__scopeId","data-v-04b4db2b"]]),Do={class:"user-container flex flex-col gap-2 overflow-hidden"},Eo={class:"action flex justify-between pr-5 max-lg:flex-col max-lg:gap-5"},Ao={class:"flex gap-4 items-center"},jo={class:"relative w-full max-w-[220px] items-center justify-center"},$o={class:"absolute start-0 inset-y-0 flex items-center justify-center px-2"},Po={class:"flex items-center gap-2"},Mo={id:"toggle-report-element",class:"flex! items-center justify-center space-x-2 absolute duration-10 ease-linear whitespace-nowrap top-0"},Lo={id:"toggle-plan-element",class:"flex! items-center justify-center space-x-2 absolute duration-10 ease-linear whitespace-nowrap top-0"},Ro={class:"w-full flex relative flex-col mt-[35px]"},Oo={class:"w-full table-fixed",id:"table-user"},Uo={class:"sticky top-0 z-10"},Fo={class:"bg-[#afeeee] mt-[20px]"},No=["id"],Bo=["onClick"],Vo={key:0},Yo=["colspan"],zo={key:0},Ho={key:1},Ko=["onClick"],qo=["onClick"],Go={key:1,class:"absolute w-full h-full bg-[#f7f5f505] flex justify-center items-center z-50"},Qo={class:"flex justify-end mr-[35px]"},R=99,Wo=K({__name:"index",props:{officeId:{type:Number},targetYearMonth:{type:String}},setup(e,{expose:s}){const n=e,{officeId:o,targetYearMonth:t}=At(n),r=xe(),a=Et(),{toast:l}=Ln(),c=_(""),i=_(""),d=_(!1),h=_(!1),v=_(!1),I=_(!1),A=_(!0),w=_("999"),g=_("999"),V=_([]),L=[{label:"利用者",width:"16%",key:"nameKanji",isSort:!0},{label:"生年月日",width:"16%",key:"birthday",isSort:!0},{label:"報告書",width:"9%",key:"reportStatus",isSort:!1},{label:"実行日時",width:"16%",key:"reportDate",isSort:!1},{label:"計画書",width:"9%",key:"planStatus",isSort:!1},{label:"実行日時",width:"16%",key:"planDate",isSort:!1},{label:"報告書",width:"9%",key:"actionReport",isSort:!1},{label:"計画書",width:"9%",key:"actionPlan",isSort:!1}],$={0:"未実行",1:"実行予定",2:"実行済み",3:"実行エラー"},F=N(()=>r.isLoadCompanyUsers),J=N(()=>r.charactersSelected),T=N(()=>r.isHaveDataCompanyUsers),P=N(()=>r.companyUsers),G=N(()=>a.notify),te=N(()=>r.isOpenNotifyCrawler),S=_([]);B(P,()=>{h.value=!1,v.value=!1,S.value=ae()}),B([c,J,i],()=>{S.value=ae()}),B(S,f=>{const u=f.some(y=>y.reportStatus===R||y.planStatus===R);A.value=!u}),B([w,g],()=>{S.value=ae()});const ae=f=>{let u=f??[...P.value];return c.value&&(u=sn(u)),J.value.length&&(u=Wt(u)),i.value&&(u=Jt(u)),(w.value!=="999"||g.value!=="999")&&(u=Gt(u)),u},Ve=({status:f,type:u})=>{u==="report"&&(w.value=f),u==="plan"&&(g.value=f)},Gt=f=>{const u=Number(w.value),y=Number(g.value);return f.filter(x=>u!==999&&y!==999?x.reportStatus===u&&x.planStatus===y:u!==999?x.reportStatus===u:y!==999?x.planStatus===y:!0)},Qt=()=>{!v.value?(S.value=Xt(S.value),h.value&&Ce(h.value)):(S.value=S.value.map(u=>{var y;return{...u,reportStatus:((y=P.value.find(x=>x.id===u.id))==null?void 0:y.reportStatus)??0}}),S.value=ae(S.value),h.value=!1,Ce(h.value))},Ce=f=>{(f!==void 0?f:!h.value)?S.value=Zt(S.value):(S.value=S.value.map(y=>{var x;return{...y,planStatus:((x=P.value.find(E=>E.id===y.id))==null?void 0:x.planStatus)??0}}),S.value=ae(S.value))},Wt=f=>f.filter(u=>J.value.some(y=>{const[x,E]=y.split(",");return u.nameKana.startsWith(x.trim())||u.nameKana.startsWith(E.trim())})),Jt=f=>f.filter(u=>u.nameKanji.includes(i.value)),Xt=f=>f.map(u=>({...u,reportStatus:u.reportStatus===0||u.reportStatus===3?R:u.reportStatus})),Zt=f=>f.map(u=>({...u,planStatus:(u.planStatus===0||u.planStatus===3)&&u.reportStatus!==0&&u.reportStatus!==3?R:u.planStatus})),Ye=f=>f?f===1||f===R?$[1]:f===2?$[2]:f===3?$[3]:$[0]:$[0],ze=f=>{f||(f=0);let u="flex justify-center items-center py-2 ml-2 rounded-sm ";switch(f){case 0:u+="bg-[#d4e9d3]";break;case 1:case R:u+="bg-[#fff3cb]";break;case 2:u+="bg-[#d9e8fc]";break;case 3:u+="bg-[#f8cecb]";break}return u},en=f=>{f||(f=0);let u="flex justify-center items-center py-2 ml-2 rounded-sm mx-1 ";switch(f){case 0:u+=X.value?"border border-gray-300 hover:bg-[#faeded]":"border border-gray-300 bg-[#ccc] opacity-50 cursor-not-allowed";break;case 1:case 2:u+="bg-[#afeeed]";break;case 3:u+="bg-[#acacac]";break;case R:u+="bg-[#afeeed] hover:bg-[#77f6f4]";break}return u},tn=f=>{const u=f.reportStatus??0,y=f.planStatus??0;let x="flex justify-center items-center py-2 ml-2 rounded-sm mx-1 ";switch(y){case 0:x+=[R,1,2].includes(u)&&X.value?"border border-gray-300 hover:bg-[#faeded]":"border border-gray-300 bg-[#ccc] opacity-50 cursor-not-allowed";break;case 1:case 2:x+="bg-[#afeeed]";break;case 3:x+="bg-[#acacac]";break;case R:x+="bg-[#afeeed] hover:bg-[#77f6f4]";break}return x},nn=f=>{if(!f.isSort)return;const[u,y]=c.value.split(":"),x=u===f.key?y===Q.ASC?Q.DESC:"":Q.ASC;c.value=x?`${f.key}:${x}`:""},sn=f=>{const[u,y]=c.value.split(":");return f.sort((x,E)=>{const j=x[u],O=E[u];if(typeof j=="number"&&typeof O=="number")return y===Q.DESC?O-j:j-O;if(typeof j=="string"&&typeof O=="string"){const q=new Date(j),Z=new Date(O);return!isNaN(q.getTime())&&!isNaN(Z.getTime())?y===Q.DESC?Z.getTime()-q.getTime():q.getTime()-Z.getTime():y===Q.DESC?O.localeCompare(j):j.localeCompare(O)}return 0})},on=f=>{var j;if(!X.value)return;const{id:u,reportStatus:y}=f;if(![0,3,R].includes(y))return;const x=((j=P.value.find(O=>O.id===u))==null?void 0:j.reportStatus)??0,E=y===R?x:R;S.value=S.value.map(rn(f.id,E)),E!=R&&He(f,!0)},He=(f,u)=>{var q;if(!X.value)return;const{id:y,planStatus:x,reportStatus:E}=f,j=((q=P.value.find(Z=>Z.id===y))==null?void 0:q.planStatus)??0;if(u){S.value=S.value.map(Ke(f.id,j));return}if(![0,3,R].includes(x)||[0,3].includes(E))return;const O=x===R?j:R;S.value=S.value.map(Ke(f.id,O))},rn=(f,u)=>y=>y.id===f?{...y,reportStatus:u}:y,Ke=(f,u)=>y=>y.id===f?{...y,planStatus:u}:y,an=()=>{V.value=S.value.filter(f=>f.reportStatus===99||f.planStatus===99),d.value=!0},ln=async()=>{var x;r.isLoadCompanyUsers=!0;const f=V.value.map(E=>{const{id:j}=E,O=E.reportStatus===99?1:0,q=E.planStatus===99?1:0;return{id:j,isExecuteReport:O,isExecutePlan:q}});if(!(o!=null&&o.value)||!(t!=null&&t.value))return;const u={officeId:o==null?void 0:o.value,targetYearMonth:t==null?void 0:t.value,users:f};if(await r.bulkExportReport(u),(x=G.value)!=null&&x.message){qe("destructive",G.value.message),r.isLoadCompanyUsers=!1;return}await r.getCompanyUseStatus({officeId:o==null?void 0:o.value,targetYearMonth:t==null?void 0:t.value}),r.isLoadCompanyUsers=!1,qe("default","利用者の報告書／計画書実行のリクエストを受領しました。システムからの通知メールにて状況をご確認ください")},qe=(f,u)=>{l({description:u,variant:f,duration:1e3})},Ge=_(),Qe=_(),We=_(),Je=_(),Xe=_(),Ze=_(),et=_(),tt=_(),nt=_(),st=_(),cn=_(0);de(()=>{var f;Ge.value=document.getElementById("select-report-element"),Qe.value=document.getElementById("column-3"),We.value=document.getElementById("select-plan-element"),Je.value=document.getElementById("column-5"),Xe.value=document.getElementById("toggle-report-element"),Ze.value=document.getElementById("column-7"),et.value=document.getElementById("toggle-plan-element"),tt.value=document.getElementById("column-8"),nt.value=document.getElementById("table-user"),st.value=(f=nt.value)==null?void 0:f.getBoundingClientRect(),pe(),window.addEventListener("resize",pe)});const pe=()=>{const f=st.value,u=[{element:Ge.value,column:Qe.value,position:35},{element:We.value,column:Je.value,position:35},{element:Xe.value,column:Ze.value,position:30},{element:et.value,column:tt.value,position:30}],y=()=>{u.forEach(({element:x,column:E,position:j})=>{un(x,E,j,f)})};y(),setTimeout(y,50)},un=(f,u,y,x)=>{if(!f||!u)return;const E=u.getBoundingClientRect();f.style.left=`${E.left+window.scrollX}px`,f.style.top=`${E.top+window.scrollY-y}px`,f.style.width=`${E.width-10}px`,x&&x.left>E.left||window.innerWidth-E.left-E.width<5?(f.style.zIndex="-1",f.style.display="none"):(f.style.zIndex="5",f.style.display="flex")},fn=f=>{f.target.scrollLeft!==cn.value&&pe()};bn(()=>{pe()});const dn=N(()=>a.isLoadPermission),X=N(()=>(dn.value,Dt(t==null?void 0:t.value)&&ve()));return s({resetFilterTable:()=>{i.value="",w.value="999",g.value="999",I.value=!1}}),(f,u)=>{const y=Yn,x=zn,E=So,j=Wn,O=Jn,q=jt,Z=To,pn=On;return k(),M("div",Do,[p("div",Eo,[p("div",Ao,[p("div",jo,[b(y,{id:"search",type:"text",placeholder:"Search",class:"pl-10",modelValue:m(i),"onUpdate:modelValue":u[0]||(u[0]=D=>W(i)?i.value=D:null)},null,8,["modelValue"]),p("span",$o,[b(m(Rn),{class:"w-4 h-4 text-muted-foreground"})])]),p("div",Po,[b(x,{id:"terms",checked:m(I),"onUpdate:checked":u[1]||(u[1]=D=>W(I)?I.value=D:null)},null,8,["checked"]),u[7]||(u[7]=p("span",{for:"terms",class:"flex text-xs flex-shrink-0"}," 和暦表示 ",-1))])])]),b(E,{id:"select-report-element",cssStyle:"absolute duration-10 ease-linear whitespace-nowrap top-0",type:"report","selected-status":m(w),onFilterStatus:Ve},null,8,["selected-status"]),b(E,{id:"select-plan-element",cssStyle:"absolute duration-10 ease-linear whitespace-nowrap top-0",type:"plan","selected-status":m(g),onFilterStatus:Ve},null,8,["selected-status"]),p("div",Mo,[b(j,{disabled:!m(X),checked:m(v),"onUpdate:checked":u[2]||(u[2]=D=>W(v)?v.value=D:null),onClick:u[3]||(u[3]=()=>Qt())},null,8,["disabled","checked"]),u[8]||(u[8]=p("span",null,"一括",-1))]),p("div",Lo,[b(j,{disabled:!m(X),checked:m(h),"onUpdate:checked":u[4]||(u[4]=D=>W(h)?h.value=D:null),onClick:u[5]||(u[5]=()=>Ce())},null,8,["disabled","checked"]),u[9]||(u[9]=p("span",null,"一括",-1))]),p("div",Ro,[p("div",{class:z(["table-container overflow-auto border-b",{"border-l":m(S).length}]),onScroll:fn},[p("table",Oo,[p("thead",Uo,[p("tr",Fo,[(k(),M(se,null,oe(L,(D,le)=>p("th",{class:"py-3",id:`column-${le+1}`,key:le,style:De({width:D.width})},[p("span",{class:z(["flex items-center justify-center px-4 text-black border-white hover:cursor-pointer ",le<L.length-1?"border-r-2":""]),onClick:ot=>nn(D)},[Y(U(D.label)+" ",1),m(c)&&m(c).split(":")[1]==("SORT"in f?f.SORT:m(Q)).ASC&&D.key==m(c).split(":")[0]?(k(),H(m(Un),{key:0,width:"12",height:"12",class:"ml-1 hover:text-[#5566da]"})):ne("",!0),m(c)&&m(c).split(":")[1]==("SORT"in f?f.SORT:m(Q)).DESC&&D.key==m(c).split(":")[0]?(k(),H(m(Fn),{key:1,width:"12",height:"12",class:"ml-1 hover:text-[#5566da]"})):ne("",!0)],10,Bo)],12,No)),64))])]),p("tbody",null,[m(S).length===0&&!m(T)?(k(),M("tr",Vo,[p("td",{class:"text-center py-3 text-[#5566da]",colspan:L.length},U(("MESSAGES"in f?f.MESSAGES:m(vn)).EMPTY),9,Yo)])):(k(!0),M(se,{key:1},oe(m(S),(D,le)=>(k(),M("tr",{class:z(["bg-white dark:bg-gray-800 text-center h-10 hover:cursor-pointer hover:bg-[#afe7ee47]",[le<m(S).length-1?"border-b":""]])},[p("td",null,[p("span",null,U(D.nameKanji),1)]),p("td",null,[m(I)?(k(),M("span",zo,U(("formatToJapaneseEra"in f?f.formatToJapaneseEra:m(Nn))(D.birthday)),1)):(k(),M("span",Ho,U(("formatDate"in f?f.formatDate:m(ke))(D.birthday,"YYYY/MM/DD")),1))]),p("td",null,[p("span",{class:z(["px-[18px] py-[8px] rounded-sm",ze(D.reportStatus)])},U(Ye(D.reportStatus)),3)]),p("td",null,[p("span",null,U(("formatDate"in f?f.formatDate:m(ke))(D.reportDate,"YYYY/MM/DD HH:mm")),1)]),p("td",null,[p("span",{class:z(["px-[18px] py-[8px] rounded-sm",ze(D.planStatus)])},U(Ye(D.planStatus)),3)]),p("td",null,[p("span",null,U(("formatDate"in f?f.formatDate:m(ke))(D.planDate,"YYYY/MM/DD HH:mm")),1)]),p("td",null,[p("span",{class:z(en(D.reportStatus)),onClick:ot=>on(D)},"実行",10,Ko)]),p("td",null,[p("span",{class:z(tn(D)),onClick:ot=>He(D)},"実行 ",10,qo)])],2))),256))])])],34),m(F)?(k(),H(O,{key:0})):ne("",!0),m(te)?(k(),M("div",Go,u[10]||(u[10]=[p("div",{class:"flex flex-col items-center bg-[#b5b5b5e6] py-[24px] px-[50px] gap-[8px] rounded-[30px]"},[p("span",null,"利用者情報を最新化しています。 "),p("span",null,"利用者数 一人あたり 5秒要します、しばらくお待ちください！"),p("span",null," ※実際の速度はカイポケサイトのレスポンス状況により変動いたします。")],-1)]))):ne("",!0),p("div",Qo,[b(q,{disabled:m(A)||!m(X),class:"flex justify-end mt-[30px]",onClick:an},{default:C(()=>u[11]||(u[11]=[Y(" 実行開始 ")])),_:1},8,["disabled"])])]),b(Z,{isOpen:m(d),users:m(V),onClose:u[6]||(u[6]=()=>d.value=!1),onExport:ln},null,8,["isOpen","users"]),b(pn,{class:"top-[5px]"})])}}}),Jo=re(Wo,[["__scopeId","data-v-efbec9ae"]]),Xo={class:"user-list px-4"},Zo={class:"body-content flex py-4 w-full gap-2"},vr=K({__name:"index",setup(e){const s=xe(),n=_(void 0),o=_(""),t=_(),r=i=>{n.value=i,c()},a=i=>{var d;t.value&&((d=t.value)==null||d.resetFilterTable()),o.value=i,c()},l=i=>{const[d,h]=i.split("/");return`${d}-${h}-01`},c=()=>{n.value&&o.value&&s.getCompanyUseStatus({officeId:n.value,targetYearMonth:l(o.value)})};return de(()=>{c()}),(i,d)=>{const h=Zn,v=go,I=_o,A=Jo;return k(),M("div",Xo,[b(h),d[0]||(d[0]=p("div",{class:"header flex items-center h-[40px] border-b border-b-[#e2e2e2]"},[p("span",{class:"text-base font-bold"},"利用者選択")],-1)),b(v,{"onUpdate:officeId":r,"onUpdate:targetYearMonth":a}),p("div",Zo,[b(I,{class:"px-5 py-10 min-w-[230px]"}),b(A,{class:"w-full",ref_key:"userTableComponentRef",ref:t,"office-id":m(n),"target-year-month":l(m(o))},null,8,["office-id","target-year-month"])])])}}});export{vr as default};
